<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
<meta name="baidu-site-verification" content="code-BKQ11PUFAK" />
<meta name="msvalidate.01" content="4E36CDD054E3AC2D3B7FBC477D77ABFC" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jackie-li-0228.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":25,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":"falsed","scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

<script>
    (function(){
        if(''){
            if (prompt('请输入密码') !== ''){
                alert('密码错误');
                history.back();
            }
        }
    })();
</script>
  <meta name="description" content="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路 一盏灯，一个想法，一套我亲手搭起来的系统。  AI提示：本文章使用了AI辅助润色，但是作者可以保证情节的真实性（作者只是懒得自己手写所有字所以把我的历程告诉了AI，做好了审阅和修改后便有了现在的版本，请放心观看。  起因：一盏灯与一个念头一切的起点其实很简单：我只是想要一个可以远程控制宿舍灯的方式。在习惯了智能手机和智能家居的便利之后">
<meta property="og:type" content="article">
<meta property="og:title" content="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路">
<meta property="og:url" content="http://jackie-li-0228.github.io/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/index.html">
<meta property="og:site_name" content="JackieLi的小屋">
<meta property="og:description" content="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路 一盏灯，一个想法，一套我亲手搭起来的系统。  AI提示：本文章使用了AI辅助润色，但是作者可以保证情节的真实性（作者只是懒得自己手写所有字所以把我的历程告诉了AI，做好了审阅和修改后便有了现在的版本，请放心观看。  起因：一盏灯与一个念头一切的起点其实很简单：我只是想要一个可以远程控制宿舍灯的方式。在习惯了智能手机和智能家居的便利之后">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-04-19T17:07:28.890Z">
<meta property="article:modified_time" content="2025-04-19T17:44:21.524Z">
<meta property="article:author" content="JackieLi">
<meta property="article:tag" content="Programming Math Others">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://jackie-li-0228.github.io/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路 | JackieLi的小屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JackieLi的小屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">进来看看！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jackie-li-0228.github.io/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JackieLi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JackieLi的小屋">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2025-04-20 01:07:28 / 修改时间：01:44:21" itemprop="dateCreated datePublished" datetime="2025-04-20T01:07:28+08:00">2025-04-20</time>
            </span>

          
            <span id="/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/" class="post-meta-item leancloud_visitors" data-flag-title="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: true;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路"><a href="#宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路" class="headerlink" title="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路"></a>宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路</h1><blockquote>
<p>一盏灯，一个想法，一套我亲手搭起来的系统。</p>
</blockquote>
<p><em>AI提示：本文章使用了AI辅助润色，但是作者可以保证情节的真实性（作者只是懒得自己手写所有字所以把我的历程告诉了AI，做好了审阅和修改后便有了现在的版本，请放心观看。</em></p>
<hr>
<h2 id="起因：一盏灯与一个念头"><a href="#起因：一盏灯与一个念头" class="headerlink" title="起因：一盏灯与一个念头"></a>起因：一盏灯与一个念头</h2><p>一切的起点其实很简单：<strong>我只是想要一个可以远程控制宿舍灯的方式。</strong>在习惯了智能手机和智能家居的便利之后，每次伸手去够那个开关的瞬间，我总觉得“这事应该可以自动化”。很多个晚上，我们上了床之后才发现灯还没关，于是还得吭哧吭哧下来关灯，这样的次数久了，我突然有一天忍不了了，觉得我应该有能力自己搞一套只能开关灯系统来造福宿舍。（果然懒才是人类进步的最大动力lol）</p>
<p>这个想法一冒出来，我立刻跑到B站上搜了一圈类似的视频，看别人的实现有没有什么可参考的思路。B站上不少人都用舵机去按墙壁开关，大多是用小巧的SG90，配合面包板、树莓派或者其他开发板。那一刻我突然就下定决心：这事我也能试试！</p>
<hr>
<h2 id="初代方案：SG90、面包板，还有一堆电线"><a href="#初代方案：SG90、面包板，还有一堆电线" class="headerlink" title="初代方案：SG90、面包板，还有一堆电线"></a>初代方案：SG90、面包板，还有一堆电线</h2><p>我并不是一上来就把所有零件买齐的。事实上，在最初构想的阶段，我花了很长时间去查资料、对比模块参数，思考兼容性和电源设计，因为我想要做一个自己想要的系统，而不是直接照抄别人视频里面的架构。等到确定初代方案各模块基本能协同工作之后，我才集中把所有元件一起买下。</p>
<p>初代方案其实是基于一个很朴素但清晰的目标搭建的：只用常见的模块，在不改造开关原有结构的前提下，实现无线控制宿舍灯的开与关。</p>
<p>我的整体架构思路大致如下：</p>
<p>核心控制单元：ESP8266</p>
<p>负责所有指令的接收、处理和执行。</p>
<p>支持 Wi-Fi 模块，日后方便通过网页控制。</p>
<p>交互模块：HC-06 蓝牙模块</p>
<p>提供手机蓝牙端口交互，用于初期调试，也做为 Wi-Fi 失联时的备用控制通道。</p>
<p>执行单元：两个 SG90 舵机</p>
<p>每个舵机分别负责按动一个开关，实现物理上的“手动开关灯”动作。</p>
<p>供电方案：面包板电源模块统一供电</p>
<p>提供 5V&#x2F;3.3V 选择，直接供给 ESP8266、HC06 以及 SG90。</p>
<p>我当时设想这个系统只需要一个小小的面包板就能搭建完毕。舵机动作不复杂，单次只需拨动开关一次；控制逻辑写在 ESP8266 上，通过串口接收蓝牙指令或网页指令，然后发出 PWM 信号控制 SG90。理论上简单、可行，而且网上很多类似例子也都是这么做的。</p>
<p>那时我真心以为，只要模块间能连起来，这套系统就能跑起来。</p>
<p>于是，我信心满满地下单了两颗 SG90，还想着一左一右配合控制两个灯，既美观又不影响我手动操作。</p>
<p>最初选用的是两颗 SG90 舵机，因为我查资料时发现一个 SG90 的扭矩可能不足以推动宿舍的两个实体开关。我一开始没有意识到，直到后来才想到如果一左一右搞两个舵机的话，我正常用手关灯反而变得很麻烦了。</p>
<p>而且我们宿舍的墙壁开关真的很硬，稍微还是需要多使一些劲才可以拨动的那种。后来调试的时候发现别人B站视频里的SG90可以轻松拨动开关，我这边甚至还会出现拨不动的情况。</p>
<p>于是我开始意识到，SG90 或许并不是我的最终答案。</p>
<hr>
<h2 id="升级：MG996-的暴力美学与电源噩梦"><a href="#升级：MG996-的暴力美学与电源噩梦" class="headerlink" title="升级：MG996 的暴力美学与电源噩梦"></a>升级：MG996 的暴力美学与电源噩梦</h2><p>转机来自于对 SG90 的绝望 —— 于是我果断转向更大扭矩的 MG996 舵机。MG996 扭矩达到了惊人的 9.4kg·cm（相比 SG90 的 1.6kg·cm 简直是碾压），但代价就是：它的<strong>电压和电流要求也高得多（5V&#x2F;2.5A 以上）</strong>。</p>
<p>我刚开始抱着试一下能不能凑活用的态度用面包板电源模块直接给 MG996 供电，结果果然出问题了。舵机一通电就抖，转不动，ESP8266 开始花式重启，连带着蓝牙模块 HC06 也时断时连。我就觉得，可能是舵机启动时拉动电流太大，电压瞬间跌落，其他模块的电压稳不住了。</p>
<p>于是不得已，我又去买了一个 USB 供电模块，准备单独给 MG996 供电。这样一来，舵机高电流不会干扰核心逻辑部分，系统终于稳定了下来。</p>
<p>当然，稳定之前还烧坏过一个 MG996。当时我调试时电压接反，舵机莫名开始高频异响，发热严重，然后直接废了——这也是我人生中<strong>第一个烧掉的电机</strong>，纪念意义相当深远（但是主要是浪费了很多时间等物流啊！！）。</p>
<hr>
<h2 id="安装：从墙皮掉落到热熔胶登场"><a href="#安装：从墙皮掉落到热熔胶登场" class="headerlink" title="安装：从墙皮掉落到热熔胶登场"></a>安装：从墙皮掉落到热熔胶登场</h2><p>解决完供电问题，我把所有模块装在一个面包板上，用双面胶贴在墙上，通电、运行，一切正常！</p>
<p>然而 MG996 的扭矩太大了……当它旋转时，面包板直接带着模块把墙皮掀了下来。</p>
<p>舵机与面包板之间的固定也是一筹莫展。一开始我尝试用AB胶固定，但粘合效果不佳，一使劲就会脱落；又试了双面胶，效果也不够强力。最后，<strong>我搜索到了热熔胶枪</strong> —— 我到现在还放着这个东西因为真香。它一步到位，同时解决了面包板和开关之间的固定问题，还解决了舵机和面包板之间的固定问题，十分带劲。</p>
<p>我直接把 MG996 粘到了开关外壳上，整个模块与开关一体化固定，安装牢固且不影响人手操作。这一步解决了所有机械结构问题，至此，整个硬件系统就基本定型了。</p>
<hr>
<h2 id="控制核心：ESP8266-的主页、蓝牙双通道控制"><a href="#控制核心：ESP8266-的主页、蓝牙双通道控制" class="headerlink" title="控制核心：ESP8266 的主页、蓝牙双通道控制"></a>控制核心：ESP8266 的主页、蓝牙双通道控制</h2><p>项目的中枢是 ESP8266。我通过 Arduino 平台编程，写好逻辑并烧录到芯片上。</p>
<p>这个过程对我来说其实是<strong>一次回忆与重启</strong>。我上一次接触嵌入式开发，还是在电子实习课上，用 C++ 写了个简单的流水灯程序，烧录后观察灯一闪一闪的成就感依然记忆犹新，这也是我当时冒出“我也可以搞定这一套系统”的决心所在。</p>
<p>这一次，我用的是 Arduino 平台，搭配 ESP8266，整个编写和烧录过程更加集成化、易操作。我在网上查了大量资料、逛了无数经验帖，还认真翻了几遍 ESP8266 和 HC06 的手册，最终配置好了烧录环境，调好了串口通信，写好了整个逻辑流程。</p>
<p>控制端我也没闲着，我写了一个<strong>小型网页主页</strong>，部署在 ESP8266 上。我又将这个服务端口通过路由器中转了一下，这样，只要在校园网下输入 IP 地址和端口，就可以打开控制界面。网页上有按钮可以控制灯的开与关，后续我还预留了更多功能扩展。</p>
<p>另外，考虑到 Wi-Fi 可能不稳定，我也引入了 HC06 蓝牙模块。通过蓝牙连接手机蓝牙串口助手，也可以发送控制指令，ESP8266 会接收到并解析指令执行对应动作。虽然我当时选择在系统中加一个蓝牙模块是考虑到蓝牙模块的待机耗电量很低，而ESP8266的耗电量相比要高很多。</p>
<p>虽然ESP8266提供了深睡眠模式，能够将待机电流减到微安级别——这已经很够了，但是缺点是我们必须需要外界信号对RST引脚进行触发才可以唤醒系统。另外一种通过代码进入睡眠模式的浅睡眠状态只能将电流降到15-20mA的级别。于是我就萌生了使用耗电量更小的蓝牙模块来自动对RST引脚进行触发，从而在例如放假或者系统不需要开启的时候可以通过进入深睡眠，然后使用蓝牙从深睡眠中唤醒（但是后来我发现这样好蠢hhh不如直接把电断了，反正蓝牙的连接范围也就是那附近一段距离之内）。至于平常白天那种不需要用到这套系统的时候（因为当时这套系统只有开关灯这一个作用），就可以通过代码进入浅睡眠状态，这样就算是最大化地进行省电了。</p>
<p>但是后来我拿到HC06才发现我的HC06并没有引出那个引脚，要想要实现蓝牙对8266的RST触发有一些困难。再加之后来意识到了这个想法的愚蠢，于是HC06就单纯地变成了一个备用信息通道。对系统功能进行调试的时候还是很有用的。</p>
<hr>
<h2 id="供电优化：从桌面供电到“背着走”的终极形态"><a href="#供电优化：从桌面供电到“背着走”的终极形态" class="headerlink" title="供电优化：从桌面供电到“背着走”的终极形态"></a>供电优化：从桌面供电到“背着走”的终极形态</h2><p>我最初调试时用的是传统的 5V&#x2F;2A 电源适配器，插在插线板上，非常不便。因为我一开始就设想这个系统最终是要贴在墙上运行的，<strong>如果还拖个插头出来，整套系统就不再“智能”了，只剩下“杂乱”。</strong></p>
<p>所以我考虑用充电宝作为供电来源。然而新问题又来了：<strong>大多数主流充电宝都有低电流断电保护机制。</strong>这种微电流设备（如 ESP8266 空闲状态）很容易被识别为“漏电”，导致充电宝自动断电，系统随即失效。</p>
<p>好在我手上刚好有一个“三无”充电宝，没有这种机制，完美适配这套低功耗系统，也终于让我完成了理想中“<strong>无插线、移动供电、自主运行</strong>”的版本。</p>
<hr>
<h2 id="舵机对比：SG90-vs-MG996R（实战总结）-（这部分参数是AI生成的我懒得审阅了，在这篇文章中不是很重要，感兴趣的朋友们可以再上网搜索一下，很容易搜索到）"><a href="#舵机对比：SG90-vs-MG996R（实战总结）-（这部分参数是AI生成的我懒得审阅了，在这篇文章中不是很重要，感兴趣的朋友们可以再上网搜索一下，很容易搜索到）" class="headerlink" title="舵机对比：SG90 vs MG996R（实战总结） （这部分参数是AI生成的我懒得审阅了，在这篇文章中不是很重要，感兴趣的朋友们可以再上网搜索一下，很容易搜索到）"></a>舵机对比：SG90 vs MG996R（实战总结） （这部分参数是AI生成的我懒得审阅了，在这篇文章中不是很重要，感兴趣的朋友们可以再上网搜索一下，很容易搜索到）</h2><p>| 参数         | SG90              | MG996R                  |</p>
<p>|————–|——————-|————————–|</p>
<p>| 扭矩         | 1.6 kg·cm         | 9.4 kg·cm               |</p>
<p>| 工作电压     | 4.8V–6V           | 4.8V–7.2V               |</p>
<p>| 空载电流     | 100mA             | 500mA                   |</p>
<p>| 启动电流     | 250mA（短时）     | 2.5A（瞬时最大）        |</p>
<p>| 优点         | 轻便、易调试      | 力量大、响应强          |</p>
<p>| 缺点         | 力量不足          | 功耗高、电源难匹配      |</p>
<p><strong>MG996 真牛逼</strong></p>
<hr>
<h2 id="HC-06-vs-HC-05：为什么我选了-HC-06？"><a href="#HC-06-vs-HC-05：为什么我选了-HC-06？" class="headerlink" title="HC-06 vs HC-05：为什么我选了 HC-06？"></a>HC-06 vs HC-05：为什么我选了 HC-06？</h2><p>| 参数         | HC-05          | HC-06         |</p>
<p>|————–|—————-|—————|</p>
<p>| 主从一体      | ✅ 支持         | ❌ 仅从模式     |</p>
<p>| 配置灵活性    | ✅ 可设置角色   | ❌ 固定为从机   |</p>
<p>| 调试命令      | AT指令齐全     | 功能较少       |</p>
<p>| 价格         | 稍贵           | 稍便宜         |</p>
<p>没啥大的原因，只是因为觉得不需要主从一体，只需要做信号接收端就可以了。</p>
<hr>
<h2 id="项目成果与展望"><a href="#项目成果与展望" class="headerlink" title="项目成果与展望"></a>项目成果与展望</h2><p>现在，这个系统已经可以稳定地控制宿舍的两个灯开关，支持网页和蓝牙双通道操作，供电来自小型充电宝，安装方式也稳固美观。</p>
<p>但这还只是开始，我还打算加上温湿度检测、语音识别控制，甚至接入微信小程序做通知联动（倒是可以很简单地搞一个语音识别）。写到这里我都已经开始期待后续版本的迭代了。（但是目前学业繁忙，已经好久没有机会继续扩展这个小系统了，权当是一次计算机学生勇闯嵌入式的冒险之旅吧hhh）</p>
<hr>
<h2 id="代码仓库"><a href="#代码仓库" class="headerlink" title="代码仓库"></a>代码仓库</h2><p>本项目的全部源码、原理图和网页控制页面我正在整理并准备开源，欢迎大家参考：</p>
<p>👉 <a target="_blank" rel="noopener" href="https://github.com/Jackie-Li-0228/Togglify">点击查看完整代码</a></p>
<hr>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>这套系统远远称不上“工业级”，但它有一种很真实的满足感：<strong>是我一步步搭出来、烧坏过、推翻过、重新优化过的东西。</strong></p>
<p>它不是“最好”的方案，但是“最属于我的”那个版本。</p>
<p>如果你也对动手做点什么感兴趣，不妨从一盏灯开始。</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>JackieLi
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://jackie-li-0228.github.io/2025/04/20/%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/" title="宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路">http://jackie-li-0228.github.io/2025/04/20/宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/04/06/%E4%B8%AA%E4%BA%BA%E7%AE%80%E4%BB%8B%E6%8C%87%E8%B7%AF/" rel="prev" title="个人简介指路">
      <i class="fa fa-chevron-left"></i> 个人简介指路
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%BF%E8%88%8D%E6%99%BA%E8%83%BD%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0%EF%BC%9A%E4%BB%8ESG90%E5%88%B0MG996%E7%9A%84%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF"><span class="nav-number">1.</span> <span class="nav-text">宿舍智能开关控制系统开发日记：从SG90到MG996的升级之路</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%B7%E5%9B%A0%EF%BC%9A%E4%B8%80%E7%9B%8F%E7%81%AF%E4%B8%8E%E4%B8%80%E4%B8%AA%E5%BF%B5%E5%A4%B4"><span class="nav-number">1.1.</span> <span class="nav-text">起因：一盏灯与一个念头</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E4%BB%A3%E6%96%B9%E6%A1%88%EF%BC%9ASG90%E3%80%81%E9%9D%A2%E5%8C%85%E6%9D%BF%EF%BC%8C%E8%BF%98%E6%9C%89%E4%B8%80%E5%A0%86%E7%94%B5%E7%BA%BF"><span class="nav-number">1.2.</span> <span class="nav-text">初代方案：SG90、面包板，还有一堆电线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7%EF%BC%9AMG996-%E7%9A%84%E6%9A%B4%E5%8A%9B%E7%BE%8E%E5%AD%A6%E4%B8%8E%E7%94%B5%E6%BA%90%E5%99%A9%E6%A2%A6"><span class="nav-number">1.3.</span> <span class="nav-text">升级：MG996 的暴力美学与电源噩梦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%EF%BC%9A%E4%BB%8E%E5%A2%99%E7%9A%AE%E6%8E%89%E8%90%BD%E5%88%B0%E7%83%AD%E7%86%94%E8%83%B6%E7%99%BB%E5%9C%BA"><span class="nav-number">1.4.</span> <span class="nav-text">安装：从墙皮掉落到热熔胶登场</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E6%A0%B8%E5%BF%83%EF%BC%9AESP8266-%E7%9A%84%E4%B8%BB%E9%A1%B5%E3%80%81%E8%93%9D%E7%89%99%E5%8F%8C%E9%80%9A%E9%81%93%E6%8E%A7%E5%88%B6"><span class="nav-number">1.5.</span> <span class="nav-text">控制核心：ESP8266 的主页、蓝牙双通道控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9B%E7%94%B5%E4%BC%98%E5%8C%96%EF%BC%9A%E4%BB%8E%E6%A1%8C%E9%9D%A2%E4%BE%9B%E7%94%B5%E5%88%B0%E2%80%9C%E8%83%8C%E7%9D%80%E8%B5%B0%E2%80%9D%E7%9A%84%E7%BB%88%E6%9E%81%E5%BD%A2%E6%80%81"><span class="nav-number">1.6.</span> <span class="nav-text">供电优化：从桌面供电到“背着走”的终极形态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%88%B5%E6%9C%BA%E5%AF%B9%E6%AF%94%EF%BC%9ASG90-vs-MG996R%EF%BC%88%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93%EF%BC%89-%EF%BC%88%E8%BF%99%E9%83%A8%E5%88%86%E5%8F%82%E6%95%B0%E6%98%AFAI%E7%94%9F%E6%88%90%E7%9A%84%E6%88%91%E6%87%92%E5%BE%97%E5%AE%A1%E9%98%85%E4%BA%86%EF%BC%8C%E5%9C%A8%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%AD%E4%B8%8D%E6%98%AF%E5%BE%88%E9%87%8D%E8%A6%81%EF%BC%8C%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E6%9C%8B%E5%8F%8B%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%86%8D%E4%B8%8A%E7%BD%91%E6%90%9C%E7%B4%A2%E4%B8%80%E4%B8%8B%EF%BC%8C%E5%BE%88%E5%AE%B9%E6%98%93%E6%90%9C%E7%B4%A2%E5%88%B0%EF%BC%89"><span class="nav-number">1.7.</span> <span class="nav-text">舵机对比：SG90 vs MG996R（实战总结） （这部分参数是AI生成的我懒得审阅了，在这篇文章中不是很重要，感兴趣的朋友们可以再上网搜索一下，很容易搜索到）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HC-06-vs-HC-05%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E9%80%89%E4%BA%86-HC-06%EF%BC%9F"><span class="nav-number">1.8.</span> <span class="nav-text">HC-06 vs HC-05：为什么我选了 HC-06？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E6%88%90%E6%9E%9C%E4%B8%8E%E5%B1%95%E6%9C%9B"><span class="nav-number">1.9.</span> <span class="nav-text">项目成果与展望</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93"><span class="nav-number">1.10.</span> <span class="nav-text">代码仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E"><span class="nav-number">1.11.</span> <span class="nav-text">写在最后</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JackieLi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">19</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

      


    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div class="copyright">
  
  &copy; 2022 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JackieLi</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">28k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">26 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div><script color="0,0,0" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: true;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: true;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script color='' opacity='0.5' zIndex='-1' count='200' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'S2OKu8IlsXEYdwHHCF4muTBQ-gzGzoHsz',
      appKey     : 'f9Nyqb7IpFUBg18LaSN1a1V7',
      placeholder: "浅发一条",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '15' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
