<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2023/1/3 随笔</title>
    <url>/2023/01/03/2023-1-3-%E9%9A%8F%E7%AC%94/</url>
    <content><![CDATA[<p>突然觉得艺术是一个十分伟大而又曼妙的东西。</p>
<p>一个艺术作品的伟大，体现在它的不同：不同的人来看，体会到的感觉不尽相同，不同的一群人也是一样；即使是相同的一个人或一群人，在不同时候、不同心情、不同天气、不同地点，也许体会到的感觉都不尽相同。或许是为了一个应景的天气，或许是为了一个一闪而过的念头，或许是为了一种心情、一个人、一首歌、一幅画面，不同的人在不同的时间来体会前人创作出的作品，这些作品本身好像蕴含着无穷无尽的能量，只要汲取便会涌现。</p>
<p>与此同时，一个艺术作品的伟大，也体现在它的相同：一个精神的内核，作者想要告诉读者的、读者想要分享给其他读者的；一些细节，作者有意无意安排的、读者有意无意接收到的；一些文化的编码，跨越不同时间、不同地点、不同国家、不同文明。人们在自己的体验和他人分享的体验中不断比较，不断品味，最终找到最能符合自己的观念，在这个过程中，作者完成了自己的任务，而读者的心境也在这过程中不断发生着变化，变得更加丰富和成熟。</p>
<p>当这种变化达到一定程度的时候，读者的心就会确实地发生一些变化，不同于观看时的灵光一现、一句心血来潮的赞叹和评价，而是能够使用自己的观念来理解这个世界的各种事情，而这种观念更进一步地交流、变化、发展、融合，最终演变成这个社会，这个世界的样子，不知道是否正确，但如果真的是这样或者是有道理的，我认为艺术的伟大或许还是包括但不限于此的吧。</p>
<p>不过更有可能这也只是我作为一个读者的片面之谈、所谓“心血来潮”、“灵光一现”之谈，大家也权当是我乱写一气，以满足自己的“一闪而过的念头”、“一种心情”、“一首歌”、“一幅画面”、“一个人”吧。</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>2022最新Manim安装教程</title>
    <url>/2022/12/28/2022%E6%9C%80%E6%96%B0Manim%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Manim是一个由3Blue1Brown编写的强大的可视化库，3B1B的视频质量非常高，这与Manim的强大以及作者本人运用的炉火纯青密不可分。</p>
<p>大家可以看一看3B1B本人在B站的视频来欣赏一下大佬的风范。<a href="https://space.bilibili.com/88461692?spm_id_from=333.337.0.0">3Blue1Brown的B站主页</a></p>
<p>关于Manim的安装教程网上有一些，但有些博客或教程已经过老，里面的一些内容已经不适用，还有的内容写的并不足够详细。在安装过程中，这些问题将会让安装者十分头痛（我就是），这便有了这篇文章。希望大家可以学习交流。</p>
<span id="more"></span>

<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>Manim在Github上是开源的，懂得如何使用的话可以直接点击下面链接</p>
<p><a href="https://github.com/3b1b/manim">3b1b&#x2F;manim</a></p>
<p>下面开始安装。</p>
<p>首先我们需要这些软件，LaTeX的支持工具（这里使用MiKTeX），Python，FFmpeg，SoX，Cairo。</p>
<h3 id="MiKTeX"><a href="#MiKTeX" class="headerlink" title="MiKTeX"></a>MiKTeX</h3><p>官网下载链接<a href="https://miktex.org/download">在此</a>，但是亲测十分缓慢，而且还容易出现无法获取资源的下载问题。</p>
<p>我的方法是在网上找到了安装包资源进行安装。</p>
<p><a href="https://pan.baidu.com/s/1Yn58N1757I4yr5-YZYeV6Q?pwd=1234">点击这里下载</a>（提取码1234）下载下来安装包</p>
<p>进去首先要选download miktex，选complete miktex，然后后面的源就选第一个就行，然后下载要下一会，下载好再打开安装包，点install miktex就行了。</p>
<p>或者在<a href="https://www.pcsoft.com.cn/iopdfbhjl/200447?module=soft&t=website">这个链接</a>直接下载完整版的安装包，不用下载了，直接一路默认安装过去就行，记得记安装路径。</p>
<p>然后要添加一下Path，打开MiKTeX\miktex\bin\x64，将这个地址添加到环境变量的path里面。</p>
<p>然后在cmd里面输入latex，出现<img src="/2022/12/28/2022%E6%9C%80%E6%96%B0Manim%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/cmd1.png" class>即为安装成功。</p>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>这个就不介绍了吧，网上教程多如云，也没啥问题的，注意添加Path就行。</p>
<h3 id="FFmpeg"><a href="#FFmpeg" class="headerlink" title="FFmpeg"></a>FFmpeg</h3><p>这个软件网上的教程很多是几年前的，官网现在已经不一样了。</p>
<p>打开官网<a href="http://ffmpeg.org/download.html">FFmpeg官网</a></p>
<img src="/2022/12/28/2022%E6%9C%80%E6%96%B0Manim%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/ffmpeg.png" class>

<p>点击Windows builds from gyan.dev</p>
<img src="/2022/12/28/2022%E6%9C%80%E6%96%B0Manim%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/ffmpeg2.png" class>

<p>点击latest git master branch build里面的ffmpeg-git-full.7z</p>
<p>下载下来解压到合适的位置，将里面的bin文件夹添加到Path即可。</p>
<h3 id="SoX"><a href="#SoX" class="headerlink" title="SoX"></a>SoX</h3><p>打开网址<a href="https://sourceforge.net/projects/sox/files/sox/">SoX-sourceforge</a></p>
<p>点download latest version,安装即可，记住安装路径。</p>
<p>然后将安装路径的路径添加到Path里面，记得添加紧邻着各个文件的路径，就比如我是Sox&#x2F;sox-14-4-2的下面有一堆文件，就要添加到sox-14-4-2这里而不是只到Sox这里。</p>
<h3 id="Pycairo"><a href="#Pycairo" class="headerlink" title="Pycairo"></a>Pycairo</h3><p>点击官网<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#pycairo">Pycairo官网</a></p>
<img src="/2022/12/28/2022%E6%9C%80%E6%96%B0Manim%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/pycairo.png" class>

<p>看到一堆怎么选择呢？这里需要大家的python安装了wheel，如果没有的话打开cmd运行以下代码安装wheel：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install wheel</span><br></pre></td></tr></table></figure>

<p>如果说不认识pip这个指令那是你还没有把python的scripts目录加到path里面去</p>
<p>然后运行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip debug --verbose</span><br></pre></td></tr></table></figure>

<p>就可以看到当前所有支持的whl的种类，然后去官网里面挑可以安装的下载下来，然后在下载的whl文件目录打开终端，输入：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install xxx.whl (自己改,可以按tab自动补全)</span><br></pre></td></tr></table></figure>

<p>回车提示成功安装即可</p>
<h3 id="Manim"><a href="#Manim" class="headerlink" title="Manim"></a>Manim</h3><p>终于！下面开始安装Manim！</p>
<p>win+r 输入cmd并打开，输入以下代码：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install manim</span><br><span class="line">python3 manim.py example_scenes.py SquareToCircle -pl</span><br></pre></td></tr></table></figure>

<p>请注意，有的人可能需要使用python而不是python3来运行最后一行代码。</p>
<p>我在运行时报了错，发现还需要安装manimgl的依赖。</p>
<p>于是win+r cmd，输入</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install manimgl</span><br></pre></td></tr></table></figure>

<p>安装完成后便可以顺利运行了</p>
]]></content>
      <categories>
        <category>安装教程</category>
      </categories>
      <tags>
        <tag>Manim</tag>
        <tag>LaTeX</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo图片显示问题</title>
    <url>/2022/12/27/Hexo%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>在Hexo搭建的时候遇到了奇葩的问题，网上的hexo-asset-image也下载了，用Markdown原生的图片引用方式引用，发现主页的预览界面可以正常显示，但是点进文章里面就显示不了了。</p>
<p>而在用了asset文件夹的方式之后，（在页面同目录下创建一个同名文件夹放图片），结果令人哭笑不得————变成了页面内正常显示，主页无法显示了。</p>
<span id="more"></span>
<h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>笔者对Hexo了解不深，如果有类似经历的或者懂得hexo主页和文章渲染时具体原理的大佬可以在评论区交流一下</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>首先还是需要安装hexo-asset-image插件的，在hexo博客的根目录文件夹打开<strong>git bash</strong>，输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>

<p>在<a href="https://blog.csdn.net/Aelous_dp/article/details/107643344">Hexo图片相关 - 文章显示、主页显示、修改fancybox</a>一文中，作者提到自带的asset-image有bug，可以尝试在根目录中找到node_modules下的hexo-asset-image文件夹，修改index.js如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">&quot;cheerio&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPosition</span>(<span class="params">str, m, i</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> str.<span class="title function_">split</span>(m, i).<span class="title function_">join</span>(m).<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> version = <span class="title class_">String</span>(hexo.<span class="property">version</span>).<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&quot;after_post_render&quot;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> config = hexo.<span class="property">config</span>;</span><br><span class="line"><span class="keyword">if</span> (config.<span class="property">post_asset_folder</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> link = data.<span class="property">permalink</span>;</span><br><span class="line">    <span class="keyword">if</span> (version.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; <span class="title class_">Number</span>(version[<span class="number">0</span>]) == <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">var</span> beginPos = <span class="title function_">getPosition</span>(link, <span class="string">&quot;/&quot;</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">var</span> beginPos = <span class="title function_">getPosition</span>(link, <span class="string">&quot;/&quot;</span>, <span class="number">3</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class="line">    <span class="keyword">var</span> endPos = link.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;/&quot;</span>) + <span class="number">1</span>;</span><br><span class="line">    link = link.<span class="title function_">substring</span>(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> toprocess = [<span class="string">&quot;excerpt&quot;</span>, <span class="string">&quot;more&quot;</span>, <span class="string">&quot;content&quot;</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; toprocess.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> key = toprocess[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> $ = cheerio.<span class="title function_">load</span>(data[key], &#123;</span><br><span class="line">        <span class="attr">ignoreWhitespace</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">xmlMode</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">lowerCaseTags</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">decodeEntities</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;img&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>)) &#123;</span><br><span class="line">        <span class="comment">// For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span></span><br><span class="line">        <span class="keyword">var</span> src = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>).<span class="title function_">replace</span>(<span class="string">&quot;\\&quot;</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/http[s]*.*|\/\/.*/</span>.<span class="title function_">test</span>(src) &amp;&amp; !<span class="regexp">/^\s*\//</span>.<span class="title function_">test</span>(src)) &#123;</span><br><span class="line">            <span class="comment">// For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class="line">            <span class="comment">// In addition, to support multi-level local directory.</span></span><br><span class="line">            <span class="keyword">var</span> linkArray = link.<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>).<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">elem</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> elem != <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">var</span> srcArray = src.<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>).<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">elem</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> elem != <span class="string">&quot;&quot;</span> &amp;&amp; elem != <span class="string">&quot;.&quot;</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">if</span> (srcArray.<span class="property">length</span> &gt; <span class="number">1</span>) srcArray.<span class="title function_">shift</span>();</span><br><span class="line">            src = srcArray.<span class="title function_">join</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">            $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>, config.<span class="property">root</span> + link + src);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="property">info</span> &amp;&amp;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;update link as:--&gt;&quot;</span> + config.<span class="property">root</span> + link + src);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">info</span> &amp;&amp; <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&quot;no src attr, skipped...&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">info</span> &amp;&amp; <span class="variable language_">console</span>.<span class="title function_">info</span>($(<span class="variable language_">this</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    data[key] = $.<span class="title function_">html</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在hexo的_config.yml中将post_asset_folder设置为true，以后使用hexo new命令来创建网页的时候就能在source&#x2F;.post文件夹下（与网页的index文件在一起）看见一个同名的文件夹，将需要的图片全部放到这个文件夹中。</p>
<p>（像我一样半路才开始打开post_asset_folder的也可以选择自己创建一个同名文件夹）</p>
<p>之后在网页文件中使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img 只用修改这里.jpg %&#125;</span><br></pre></td></tr></table></figure>
<p>方式来引用即可实现主页和文章部分均能成功显示图片。</p>
]]></content>
      <categories>
        <category>Hexo遇到的问题</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>图片</tag>
      </tags>
  </entry>
  <entry>
    <title>VScode codeLLDB 一直等待问题</title>
    <url>/2022/12/27/VScode-codeLLDB-%E4%B8%80%E7%9B%B4%E7%AD%89%E5%BE%85%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB - Visual Studio Marketplace</a></p>
<ol>
<li>点击Download Extension下载下来vsix包<img src="/2022/12/27/VScode-codeLLDB-%E4%B8%80%E7%9B%B4%E7%AD%89%E5%BE%85%E9%97%AE%E9%A2%98/1.png" class></li>
<li>到vscode里面打开扩展<img src="/2022/12/27/VScode-codeLLDB-%E4%B8%80%E7%9B%B4%E7%AD%89%E5%BE%85%E9%97%AE%E9%A2%98/2.png" class></li>
<li>选择刚才下载的包即可</li>
</ol>
]]></content>
      <categories>
        <category>Vscode合集</category>
      </categories>
      <tags>
        <tag>Vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>NerfStudio安装说明</title>
    <url>/2023/05/27/NerfStudio%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<p>集合了各方信息和安装经验总结如下：</p>
<span id="more"></span>

<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p>首先要安装Git，git的官网如下<a href="https://git-scm.com/download/win">Git官网</a>，去里面下载“64-bit Git for Windows Setup”安装即可，安装可一路默认。</p>
<p>在此说明一下，安装完以后开始菜单里面会出现一个叫做git bash的东西，这个就是类似于cmd的shell（你可以理解为输代码的地方），只不过cmd是windows上面的，git bash是用来处理git有关工作的。以后的文章中如果看到类似于：$ ~ 开头的命令，基本都是在git bash下运行的。例如：</p>
<blockquote>
<p>$ git clone </p>
</blockquote>
<p><strong>复制代码的时候请复制 $ 之后的部分！</strong></p>
<h2 id="VS2022"><a href="#VS2022" class="headerlink" title="VS2022"></a>VS2022</h2><p>然后是安装VS2022，激活码群里发过一个Enterprise版本的。在安装VS组件的时候确保选中了C++ Build Tools（一般是默认的）<br>这个必须在安装CUDA之前安装。</p>
<h2 id="CUDA"><a href="#CUDA" class="headerlink" title="CUDA"></a>CUDA</h2><p>你需要安装和你的Nvidia显卡对应的CUDA版本，首先在cmd中输入nvidia-smi.exe，弹出的窗口的右上角便有CUDA Version：xxx，记住这个版本号。</p>
<p>然后前往这个网站<a href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA下载</a>，下载你对应型号的软件安装。</p>
<p>然后会出现这个界面：</p>
<img src="/2023/05/27/NerfStudio%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/CUDA1.jpg" class>

<p>按照对应的选择即可。</p>
<p>更具体的安装教程可以参见<a href="https://blog.csdn.net/jhsignal/article/details/111401628">这一篇文章</a>，看到安装CuDNN之前就行。</p>
<h2 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h2><p>去<a href="https://www.python.org/downloads/">这个网站</a>直接点黄色按钮下载最新版python即可，不是最新版也可以升级一下，都可，<strong>最好升级到python3.8以上</strong>。因为Python2已经停止更新了，而且后面的步骤有的需要python版本到3.8以上。具体的查看版本的方式只需在命令行中输入</p>
<blockquote>
<p>python</p>
</blockquote>
<p>即可看到python的版本。</p>
<p><strong>安装的时候记得点击Add Python 3.8 to PATH.</strong></p>
<img src="/2023/05/27/NerfStudio%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/Python.jpg" class>

<h2 id="安装conda"><a href="#安装conda" class="headerlink" title="安装conda"></a>安装conda</h2><p>去<a href="https://www.anaconda.com/download/">Anaconda的官网，点击这里</a>下载Anaconda。</p>
<p>如果上面的官网速度太慢，你可以去<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">清华的镜像下载站</a>下载如下图所示的版本。</p>
<img src="/2023/05/27/NerfStudio%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/anaconda.jpg" class>

<p><strong>下载完毕后需要你先卸载掉自己的Python</strong>（前面装的就当练习了），卸载的方式可以在控制面板的程序与功能里面找到卸载程序，然后卸载你安装过的Python版本。Anaconda会自动帮你安装好python3.10以及一些需要的包，以后应该就不需要装了。</p>
<p>然后打开Anaconda的下载包，点I Agree，All users，在最后页面三个选项全选，然后点Install。</p>
<p>最后在cmd中输入</p>
<blockquote>
<p>conda –version</p>
</blockquote>
<p>如果弹出了conda + 版本号则安装成功。</p>
<h2 id="创建NerfStudio环境"><a href="#创建NerfStudio环境" class="headerlink" title="创建NerfStudio环境"></a>创建NerfStudio环境</h2><p>首先确保你的python版本大于3.8，然后在cmd中输入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda create --name nerfstudio -y python=3.8</span><br><span class="line">conda activate nerfstudio</span><br><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<p><em>为确保顺利进行，最好一行一行运行。</em></p>
<h2 id="下载其他依赖"><a href="#下载其他依赖" class="headerlink" title="下载其他依赖"></a>下载其他依赖</h2><h3 id="安装Pytorch和tinycudann"><a href="#安装Pytorch和tinycudann" class="headerlink" title="安装Pytorch和tinycudann"></a>安装Pytorch和tinycudann</h3><p>如果你的电脑之前装了错误版本的Pytorch和tinycudann，在重新下载前，你需要卸载之前的版本：<br>在cmd中运行：</p>
<blockquote>
<p>pip uninstall torch torchvision functorch tinycudann</p>
</blockquote>
<p>然后在cmd中运行：</p>
<blockquote>
<p>pip install torch&#x3D;&#x3D;2.0.1+cu117 torchvision&#x3D;&#x3D;0.15.2+cu117 –extra-index-url <a href="https://download.pytorch.org/whl/cu117">https://download.pytorch.org/whl/cu117</a></p>
</blockquote>
<p><strong>注意，上面代码中的117要换成你的CUDA的型号的缩写，比如11.7-&gt;117,11.6-&gt;116,11.8-&gt;118</strong></p>
<p>这样的话可以一步安装完Pytorch和tinycudann，然后在输入这行命令来安装pytorch和tinycudann的链接器：</p>
<blockquote>
<p>pip install ninja git+<a href="https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch">https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</a></p>
</blockquote>
<p><strong>如果你发现上面的pip命令卡住了，这说明你需要科学上网。</strong></p>
<p><em>（所以科学上网还是需要的）</em></p>
<h2 id="安装NerfStudio"><a href="#安装NerfStudio" class="headerlink" title="安装NerfStudio"></a>安装NerfStudio</h2><p>两条路，第一条：</p>
<h3 id="从pip安装"><a href="#从pip安装" class="headerlink" title="从pip安装"></a>从pip安装</h3><p>只需要在cmd中输入</p>
<blockquote>
<p>pip install nerfstudio</p>
</blockquote>
<p>即可。</p>
<h3 id="从git上下载最新版本（推荐）"><a href="#从git上下载最新版本（推荐）" class="headerlink" title="从git上下载最新版本（推荐）"></a>从git上下载最新版本（推荐）</h3><p>在<strong>bash</strong>中输入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:nerfstudio-project/nerfstudio.git</span><br><span class="line"><span class="built_in">cd</span> nerfstudio</span><br><span class="line">pip install --upgrade pip setuptools</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure>

<p><em>为确保顺利进行，最好一行一行运行。</em></p>
<h2 id="安装其他组件"><a href="#安装其他组件" class="headerlink" title="安装其他组件"></a>安装其他组件</h2><h3 id="NerfStudio相关"><a href="#NerfStudio相关" class="headerlink" title="NerfStudio相关"></a>NerfStudio相关</h3><h4 id="Tab补全"><a href="#Tab补全" class="headerlink" title="Tab补全"></a>Tab补全</h4><p><strong>bash</strong>中输入</p>
<blockquote>
<p>ns-install-cli</p>
</blockquote>
<p><em>之后在bash中输入的我有的会提醒，或者有的会直接像下面这样：</em></p>
<blockquote>
<p>$ ns-install-cli</p>
</blockquote>
<p><strong>复制的时候请复制$之后的部分</strong></p>
<h4 id="开发包"><a href="#开发包" class="headerlink" title="开发包"></a>开发包</h4><p>cmd：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install -e .[dev]</span><br><span class="line">pip install -e .[docs]</span><br></pre></td></tr></table></figure>

<h4 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h4><blockquote>
<p>conda install -c conda-forge ffmpeg</p>
</blockquote>
<h4 id="colmap"><a href="#colmap" class="headerlink" title="colmap"></a>colmap</h4><blockquote>
<p>conda install -c conda-forge colmap</p>
</blockquote>
<blockquote>
<p>conda install -c conda-forge mpir</p>
</blockquote>
<h2 id="开始训练模型吧！"><a href="#开始训练模型吧！" class="headerlink" title="开始训练模型吧！"></a>开始训练模型吧！</h2><p>到这一步，你已经完成了所有安装的过程，接下来就可以开始训练模型了！</p>
<p>可以通过代码下载数据集 <strong>（推荐）</strong>，例如：</p>
<p><strong>bash</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 下载测试数据集:</span></span><br><span class="line">ns-download-data nerfstudio --capture-name=person</span><br></pre></td></tr></table></figure>

<p>或者去官网下载<a href="https://data.nerf.studio/nerfstudio/">官方数据集</a>，然后在本地的某个地方新建一个文件夹，（例如叫Nerf），然后在里面创建文件夹data，在里面再创建文件夹nerfstudio <strong>不能错字</strong></p>
<p>然后把数据解压缩到nerfstudio文件夹中，解压完的目录应该长这样：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Nerf</span><br><span class="line">    data</span><br><span class="line">        nerfstudio</span><br><span class="line">            person（或者其他数据集的名字）</span><br><span class="line">                ...</span><br></pre></td></tr></table></figure>

<p>然后，回到Nerf文件夹，右键点击Git bash here，在此处打开git bash窗口，输入</p>
<blockquote>
<p>ns-train nerfacto –data data&#x2F;nerfstudio&#x2F;person</p>
</blockquote>
<h3 id="通过网页版viewer查看当前训练进度"><a href="#通过网页版viewer查看当前训练进度" class="headerlink" title="通过网页版viewer查看当前训练进度"></a>通过网页版viewer查看当前训练进度</h3><p>如果不出意外的话，你应该能看到：</p>
<img src="/2023/05/27/NerfStudio%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/train.jpg" class>

<p>里面可以看到当前的迭代步数，进度百分比，每轮迭代所需时间等等信息。</p>
<p>还可以看到一行绿字，那个链接就是网页版预览的链接，按住Ctrl然后左键单击网址即可打开网页预览版。</p>
<p><em>（但是如果你不打开网页版就没事，一打开一会训练就会报错停止，那可能是环境还存在问题，那就老老实实等待训练完成再点进去看吧）</em></p>
]]></content>
      <categories>
        <category>安装教程</category>
      </categories>
      <tags>
        <tag>Nerf</tag>
      </tags>
  </entry>
  <entry>
    <title>Ros报错汇总</title>
    <url>/2023/04/19/Ros%E6%8A%A5%E9%94%99%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h2 id="写入操作权限问题（Permission-denied-‘-x2F-home-x2F-louisli-x2F-ros-x2F-roscore-11311-pid）"><a href="#写入操作权限问题（Permission-denied-‘-x2F-home-x2F-louisli-x2F-ros-x2F-roscore-11311-pid）" class="headerlink" title="写入操作权限问题（Permission denied: ‘&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F;roscore-11311.pid）"></a>写入操作权限问题（Permission denied: ‘&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F;roscore-11311.pid）</h2><p>在搭建ROS的时候，各种工作都安装好了，兴致冲冲地运行roscore，结果出现了以下报错：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/roslaunch/__init__.py&quot;, line 290, in main</span><br><span class="line">    write_pid_file(options.pid_fn, options.core, options.port)</span><br><span class="line">  File &quot;/opt/ros/melodic/lib/python2.7/dist-packages/roslaunch/__init__.py&quot;, line 112, in write_pid_file</span><br><span class="line">    with open(pid_fn, &quot;w&quot;) as f:</span><br><span class="line">IOError: [Errno 13] Permission denied: &#x27;/home/louisli/.ros/roscore-11311.pid&#x27;</span><br></pre></td></tr></table></figure>
<span id="more"></span>

<p>有Permission denied的话，大概率是权限问题，当时我没有直接修改文件夹的权限，而是直接在对应的目录touch了一个文件roscore-11311.pid。并且给予它权限：<br>在&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F; 下打开terminal：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo touch roscore-11311.pid</span><br><span class="line">sudo chmod 777 roscore-11311.pid</span><br></pre></td></tr></table></figure>

<h2 id="log文件夹写入权限不够”WARNING-cannot-create-log-directory-x2F-home-x2F-louisli-x2F-ros-x2F-log-x2F-f37f52b6-de8d-11ed-baa4-000c29fa4201-Please-set-ROS-LOG-DIR-to-a-writable-location-”"><a href="#log文件夹写入权限不够”WARNING-cannot-create-log-directory-x2F-home-x2F-louisli-x2F-ros-x2F-log-x2F-f37f52b6-de8d-11ed-baa4-000c29fa4201-Please-set-ROS-LOG-DIR-to-a-writable-location-”" class="headerlink" title="log文件夹写入权限不够”WARNING: cannot create log directory [&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F;log&#x2F;f37f52b6-de8d-11ed-baa4-000c29fa4201]. Please set ROS_LOG_DIR to a writable location.”"></a>log文件夹写入权限不够”WARNING: cannot create log directory [&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F;log&#x2F;f37f52b6-de8d-11ed-baa4-000c29fa4201]. Please set ROS_LOG_DIR to a writable location.”</h2><p>解决了上面的问题，我再次兴致冲冲地运行roscore，结果得到：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">WARNING: cannot create log directory [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201]. Please set ROS_LOG_DIR to a writable location.</span><br><span class="line">Checking log directory for disk usage. This may take a while.</span><br><span class="line">Press Ctrl-C to interrupt</span><br><span class="line">/usr/bin/du: cannot access &#x27;/home/louisli/.ros/log&#x27;: No such file or directory</span><br><span class="line"></span><br><span class="line">started roslaunch server http://ubuntu:33151/</span><br><span class="line">ros_comm version 1.14.13</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SUMMARY</span><br><span class="line">========</span><br><span class="line"></span><br><span class="line">PARAMETERS</span><br><span class="line"> * /rosdistro: melodic</span><br><span class="line"> * /rosversion: 1.14.13</span><br><span class="line"></span><br><span class="line">NODES</span><br><span class="line"></span><br><span class="line">auto-starting new master</span><br><span class="line">No handlers could be found for logger &quot;roslaunch&quot;</span><br><span class="line">[master] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[master]: started with pid [3018]</span><br><span class="line">ROS_MASTER_URI=http://ubuntu:11311/</span><br><span class="line"></span><br><span class="line">setting /run_id to f37f52b6-de8d-11ed-baa4-000c29fa4201</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3029]</span><br><span class="line">started core service [/rosout]</span><br><span class="line">[rosout-1] process has died [pid 3029, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3037]</span><br><span class="line">[rosout-1] process has died [pid 3037, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3042]</span><br><span class="line">[rosout-1] process has died [pid 3042, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3047]</span><br><span class="line">[rosout-1] process has died [pid 3047, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3052]</span><br><span class="line">[rosout-1] process has died [pid 3052, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3057]</span><br><span class="line">[rosout-1] process has died [pid 3057, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br><span class="line">process[rosout-1]: started with pid [3062]</span><br><span class="line">[rosout-1] process has died [pid 3062, exit code -6, cmd /opt/ros/melodic/lib/rosout/rosout __name:=rosout].</span><br><span class="line">[rosout-1] restarting process</span><br><span class="line">[rosout-1] ERROR: unable to configure logging [unable to create directory for log file [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201].</span><br><span class="line">Please check permissions.]</span><br></pre></td></tr></table></figure>

<p>可以发现，节点一直在寻找可以使用的pid，但是一直没有找到。</p>
<p>所以我们关注一下最开头的报错：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">WARNING: cannot create log directory [/home/louisli/.ros/log/f37f52b6-de8d-11ed-baa4-000c29fa4201]. Please set ROS_LOG_DIR to a writable location.</span><br><span class="line">Checking log directory for disk usage. This may take a while.</span><br><span class="line">Press Ctrl-C to interrupt</span><br><span class="line">/usr/bin/du: cannot access &#x27;/home/louisli/.ros/log&#x27;: No such file or directory</span><br></pre></td></tr></table></figure>

<p>可以发现，这里的问题在于log的路径权限不够，没法创建文件。所以我们如法炮制，还是创建一个文件夹，然后给它权限：</p>
<p>进入&#x2F;home&#x2F;louisli&#x2F;.ros&#x2F;,打开terminal</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir log</span><br><span class="line">sudo chmod 777 ./log</span><br></pre></td></tr></table></figure>

<p>这样再启动roscore便可以了。</p>
]]></content>
      <categories>
        <category>ROS合集</category>
      </categories>
      <tags>
        <tag>ROS</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo目录详解（用到就补）</title>
    <url>/2022/12/28/hexo%E7%9B%AE%E5%BD%95%E8%AF%A6%E8%A7%A3%EF%BC%88%E7%94%A8%E5%88%B0%E5%B0%B1%E8%A1%A5%EF%BC%89/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文为本人在使用Hexo博客Next主题时所用到的博客目录下的文件的解释说明，用于防止遗忘记录，也希望能给后人提供帮助。</p>
<p>本人博客根目录文件夹名为blog，大家请根据自己的根目录名查找相应的文件。</p>
<span id="more"></span>

<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><blockquote>
<p>blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_partials&#x2F;head&#x2F;head.swig</p>
</blockquote>
<p>在提交站点地图时，需要登录各大搜索引擎的页面管理界面，在提交sitemap之前需要对自己的网站进行验证，其中HTML方法需要在自己的博客页面的&lt;head&gt;下增加其meta代码来验证网站。这时便需要在该文件的开始部分，可以看到有一些meta开头的语句，将搜索引擎提供的meta代码插入到这些meta语句的后面，然后hexo三部曲</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>等几分钟即可用F12在自己的页面代码中看到meta代码已经被成功加入，这时候在搜索引擎的界面点击开始验证即可验证成功。</p>
]]></content>
      <categories>
        <category>Hexo遇到的问题</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>sitemap</tag>
      </tags>
  </entry>
  <entry>
    <title>关于Vmware tools</title>
    <url>/2022/12/27/%E5%85%B3%E4%BA%8EVMware%20tools/</url>
    <content><![CDATA[<h3 id="按钮是灰色怎么办"><a href="#按钮是灰色怎么办" class="headerlink" title="按钮是灰色怎么办"></a>按钮是灰色怎么办</h3><p>按钮是灰色的话可以试试将虚拟机对应的硬盘和软盘都调成使用物理驱动器的自动检测，这样按钮就可以正常使用了</p>
<h3 id="VMware-tools-修复"><a href="#VMware-tools-修复" class="headerlink" title="VMware tools 修复"></a>VMware tools 修复</h3><p>如果vmware tools 无法正常使用可以试试这篇文章<a href="https://blog.csdn.net/Bunsennn/article/details/117223002"></a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get autoremove open-vm-tools</span><br><span class="line">sudo apt-get install open-vm-tools-desktop</span><br></pre></td></tr></table></figure>

<p>这个管用，关机重启之后就能行了</p>
<p>另外，如果发现只能复制文字不能复制文件或者文件夹，一方面原因是可以试一下不要直接复制到桌面，尝试复制到一个新建的文件夹或者是用资源管理器打开的文件夹；另一方面可以在刚开机要输密码的界面找到一个齿轮的设置按钮，在里面找到Ubuntu on Xorg,这个模式下复制文件和文件夹的功能会正常。</p>
]]></content>
      <categories>
        <category>Vmware合集</category>
      </categories>
      <tags>
        <tag>Vmware</tag>
        <tag>Vmware tools</tag>
      </tags>
  </entry>
  <entry>
    <title>安装Ubuntu的搜狗拼音</title>
    <url>/2022/12/27/%E5%AE%89%E8%A3%85Ubuntu%E7%9A%84%E6%90%9C%E7%8B%97%E6%8B%BC%E9%9F%B3/</url>
    <content><![CDATA[<p>十分麻烦哎哟</p>
<p>在官网搜安装包</p>
<p>在download里打开终端输入</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo dpkg -i so /tab自动补全</span><br></pre></td></tr></table></figure>
<p>安装完了以后要去设置里面把框架改为fcitx，然后把别的语言都删掉，就剩下中文</p>
<p>导致我没有成功的一步是没有安装相关依赖库</p>
<p>说实话应该能猜出来的 因为之前切换到搜狗拼音已经能看见一个雏形的框了，但是还是没有办法打中文</p>
<p>然后打开终端输入</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2</span><br><span class="line">sudo apt install libgsettings-qt1</span><br></pre></td></tr></table></figure>
<p>再切换输入法输入就好了</p>
]]></content>
      <categories>
        <category>Ubuntu合集</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>搜狗</tag>
        <tag>输入法</tag>
      </tags>
  </entry>
  <entry>
    <title>安装软件时报has install-snap change in progress错误</title>
    <url>/2022/12/27/%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E6%97%B6%E6%8A%A5has-install-snap-change-in-progress%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>原因是因为软件没安装完，又让安装，也有可能是上一次安装卡半路了</p>
<h2 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h2><ol>
<li><p>在终端里输入snap changes</p>
</li>
<li><p>找到对应的snap号</p>
</li>
<li><p>输入</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo snap abort “snap号”</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>重新安装</li>
</ol>
]]></content>
      <categories>
        <category>Ubuntu合集</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>第一篇博客</title>
    <url>/2022/12/27/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<img src="/2022/12/27/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/OIP-C.jpg" class>
<span id="more"></span>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>闲谈/随记</category>
      </categories>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu键盘错位（@变成“”，~波浪线打不出来）</title>
    <url>/2023/10/04/Ubuntu%E9%94%AE%E7%9B%98%E9%94%99%E4%BD%8D%EF%BC%88@%E5%8F%98%E6%88%90%E2%80%9C%E2%80%9D%EF%BC%8C~%E6%B3%A2%E6%B5%AA%E7%BA%BF%E6%89%93%E4%B8%8D%E5%87%BA%E6%9D%A5%EF%BC%89/</url>
    <content><![CDATA[<p>在安装了搜狗输入法后出现了键盘布局错位的问题，@号和“”号位置互换，波浪线无法打出来。解决方法如下：</p>
<p>只需要打开fcitx配置工具，然后在输入法设置中将英文键盘布局放到搜狗输入法的键盘布局下面即可。</p>
]]></content>
      <categories>
        <category>Ubuntu合集</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>关于防止gazebo 134崩溃（针对VMware环境下）</title>
    <url>/2023/10/04/%E5%85%B3%E4%BA%8E%E9%98%B2%E6%AD%A2gazebo%20134%E5%B4%A9%E6%BA%83%EF%BC%88%E9%92%88%E5%AF%B9VMware%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%89/</url>
    <content><![CDATA[<p>在跑gazebo的时候出现了报134错误代码崩溃的情况，上网搜索了很多方法，最终来整理一下管用的：</p>
<p>第一个办法就是将虚拟机的加速3D图形关掉，这个方法可以，但是gazebo会变的贼慢。。。故不推荐。</p>
<p>第二个办法就是在执行roslaunch之前先执行</p>
<pre><code class="bash">export SVGA_VGPU10=0
</code></pre>
<p>引用这个代码会告诉系统尝试合适的OpenGL版本。但是至于对于问题有没有合适的版本，这个就要看情况，不过一般来说都是有合适的版本。</p>
<p>总之，本人测试的结果是使用这个方法丝滑解决。</p>
]]></content>
      <categories>
        <category>ROS合集</category>
      </categories>
      <tags>
        <tag>ROS</tag>
        <tag>gazebo</tag>
      </tags>
  </entry>
  <entry>
    <title>压缩近邻法的可视化Python实现</title>
    <url>/2024/06/29/%E5%8E%8B%E7%BC%A9%E8%BF%91%E9%82%BB%E6%B3%95%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96Python%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<p>最近学习模式识别的时候看到压缩近邻法，然后对其进行了Python实现。这里分享一下代码。</p>
<p>压缩近邻法是为了降低近邻法的计算复杂度，其通过将数据集进行压缩，然后再进行近邻法的计算。这样可以大大降低计算复杂度。</p>
<p>本程序功能：</p>
<ol>
<li>生成一个二维的数据集，以 $y&#x3D;sinx$ 函数作非线性分割。</li>
<li>使用压缩近邻法构建比原数据集小的分类点集。并可视化了构建过程。</li>
<li>可以添加测试数据集并观察使用筛选后的分类点集在K-近邻法中对于不同K取值的分类效果。</li>
</ol>
<span id="more"></span>

<p>构建过程如下：</p>
<p>首先设原数据集为$D$，算法尝试构建分类集$S$,使得$S$中的点在最近邻算法下可以对$D$进行分类。</p>
<p>$S$的构建过程如下:</p>
<ol>
<li>从$D$中随机选取一个点加入$S$。</li>
<li>使用最近邻算法对$D$中的点进行分类，将所有分类错误的点归为错误集$E$。</li>
<li>从$E$中随机选取一个点加入$S$。(此步骤也可以使用其他策略，这里使用随机选择)</li>
<li>重复2-3步骤，直到$E$为空。这时$S$就是我们要找的分类集。</li>
</ol>
<p>以下为代码实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.widgets <span class="keyword">import</span> Button, Slider</span><br><span class="line"><span class="keyword">from</span> matplotlib.backends.backend_tkagg <span class="keyword">import</span> FigureCanvasTkAgg</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> simpledialog</span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> mpl</span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Microsoft YaHei&#x27;</span>] <span class="comment"># 指定默认字体：解决plot不能显示中文问题</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> <span class="comment"># 解决保存图像是负号&#x27;-&#x27;显示为方块的问题</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassifierVisualizer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_points=<span class="number">100</span></span>):</span><br><span class="line">        self.n_points = n_points</span><br><span class="line">        self.generate_data()</span><br><span class="line">        self.S = <span class="built_in">set</span>()</span><br><span class="line">        self.setup_plot()</span><br><span class="line">        self.test_mode = <span class="literal">False</span></span><br><span class="line">        self.k = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generate_data</span>(<span class="params">self</span>):</span><br><span class="line">        self.X = np.random.uniform(-<span class="number">5</span>, <span class="number">5</span>, (self.n_points, <span class="number">2</span>))</span><br><span class="line">        self.y = (self.X[:, <span class="number">1</span>] &gt; np.sin(self.X[:, <span class="number">0</span>])).astype(<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup_plot</span>(<span class="params">self</span>):</span><br><span class="line">        self.fig = plt.figure(figsize=(<span class="number">15</span>, <span class="number">6</span>))</span><br><span class="line">        self.ax1 = self.fig.add_axes([<span class="number">0.05</span>, <span class="number">0.15</span>, <span class="number">0.4</span>, <span class="number">0.75</span>])</span><br><span class="line">        self.ax2 = self.fig.add_axes([<span class="number">0.55</span>, <span class="number">0.15</span>, <span class="number">0.4</span>, <span class="number">0.75</span>])</span><br><span class="line">        self.fig.suptitle(<span class="string">&#x27;分类可视化&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 原始数据图</span></span><br><span class="line">        self.scatter2 = self.ax2.scatter(self.X[:, <span class="number">0</span>], self.X[:, <span class="number">1</span>], c=self.y, cmap=<span class="string">&#x27;coolwarm&#x27;</span>)</span><br><span class="line">        self.ax2.set_title(<span class="string">&#x27;原始数据&#x27;</span>)</span><br><span class="line">        x = np.linspace(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">100</span>)</span><br><span class="line">        self.sine2, = self.ax2.plot(x, np.sin(x), <span class="string">&#x27;g-&#x27;</span>, lw=<span class="number">2</span>)</span><br><span class="line">        self.ax2.set_xlim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">        self.ax2.set_ylim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 当前分类图</span></span><br><span class="line">        self.scatter1 = self.ax1.scatter(self.X[:, <span class="number">0</span>], self.X[:, <span class="number">1</span>], c=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">        self.s_scatter1 = self.ax1.scatter([], [], c=<span class="string">&#x27;orange&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">        self.ax1.set_title(<span class="string">&#x27;当前分类&#x27;</span>)</span><br><span class="line">        self.ax1.set_xlim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">        self.ax1.set_ylim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">        self.sine1, = self.ax1.plot(x, np.sin(x), <span class="string">&#x27;g-&#x27;</span>, lw=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 添加按钮</span></span><br><span class="line">        self.ax_button = plt.axes([<span class="number">0.81</span>, <span class="number">0.02</span>, <span class="number">0.1</span>, <span class="number">0.075</span>])</span><br><span class="line">        self.button = Button(self.ax_button, <span class="string">&#x27;下一步&#x27;</span>)</span><br><span class="line">        self.button.on_clicked(self.step)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 添加K值滑动条</span></span><br><span class="line">        self.ax_slider = plt.axes([<span class="number">0.55</span>, <span class="number">0.05</span>, <span class="number">0.3</span>, <span class="number">0.03</span>])</span><br><span class="line">        self.k_slider = Slider(self.ax_slider, <span class="string">&#x27;K值&#x27;</span>, <span class="number">1</span>, <span class="number">10</span>, valinit=<span class="number">1</span>, valstep=<span class="number">1</span>)</span><br><span class="line">        self.k_slider.on_changed(self.update_k)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_k</span>(<span class="params">self, val</span>):</span><br><span class="line">        self.k = <span class="built_in">int</span>(val)</span><br><span class="line">        <span class="keyword">if</span> self.test_mode:</span><br><span class="line">            self.update_test_classification()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nearest_neighbors</span>(<span class="params">self, point, k</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.S:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        distances = np.<span class="built_in">sum</span>((self.X[<span class="built_in">list</span>(self.S)] - point)**<span class="number">2</span>, axis=<span class="number">1</span>)</span><br><span class="line">        k = <span class="built_in">min</span>(k, <span class="built_in">len</span>(self.S))</span><br><span class="line">        nearest_indices = np.argsort(distances)[:k]</span><br><span class="line">        nearest_labels = [self.y[<span class="built_in">list</span>(self.S)[i]] <span class="keyword">for</span> i <span class="keyword">in</span> nearest_indices]</span><br><span class="line">        <span class="keyword">return</span> np.mean(nearest_labels) &gt; <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">step</span>(<span class="params">self, event</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.test_mode:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> self.S:</span><br><span class="line">                self.S.add(np.random.choice(self.n_points))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                W = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_points) <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> self.S <span class="keyword">and</span> </span><br><span class="line">                     self.nearest_neighbors(self.X[i], self.k) != self.y[i]]</span><br><span class="line">                <span class="keyword">if</span> W:</span><br><span class="line">                    self.S.add(np.random.choice(W))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.prompt_test_mode()</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            predictions = np.array([self.nearest_neighbors(x, self.k) <span class="keyword">for</span> x <span class="keyword">in</span> self.X])</span><br><span class="line">            colors = np.where(predictions, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">            self.scatter1.set_facecolors(colors)</span><br><span class="line">            </span><br><span class="line">            s_points = self.X[<span class="built_in">list</span>(self.S)]</span><br><span class="line">            self.s_scatter1.set_offsets(s_points)</span><br><span class="line">            </span><br><span class="line">            self.ax1.set_title(<span class="string">f&#x27;当前分类 (S集合大小: <span class="subst">&#123;<span class="built_in">len</span>(self.S)&#125;</span>)&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.get_test_points()</span><br><span class="line"></span><br><span class="line">        self.fig.canvas.draw_idle()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">prompt_test_mode</span>(<span class="params">self</span>):</span><br><span class="line">        self.test_mode = <span class="literal">True</span></span><br><span class="line">        self.ax2.clear()</span><br><span class="line">        self.ax2.set_title(<span class="string">&#x27;测试分类&#x27;</span>)</span><br><span class="line">        self.ax2.set_xlim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">        self.ax2.set_ylim(-<span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">        x = np.linspace(-<span class="number">6</span>, <span class="number">6</span>, <span class="number">100</span>)</span><br><span class="line">        self.sine2, = self.ax2.plot(x, np.sin(x), <span class="string">&#x27;g-&#x27;</span>, lw=<span class="number">2</span>)</span><br><span class="line">        self.scatter2 = self.ax2.scatter([], [])</span><br><span class="line">        self.s_scatter2 = self.ax2.scatter([], [], c=<span class="string">&#x27;orange&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 隐藏&quot;下一步&quot;按钮</span></span><br><span class="line">        self.button.ax.set_visible(<span class="literal">False</span>)</span><br><span class="line">        </span><br><span class="line">        self.fig.canvas.draw_idle()</span><br><span class="line">        self.get_test_points()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_test_points</span>(<span class="params">self</span>):</span><br><span class="line">        root = tk.Tk()</span><br><span class="line">        root.withdraw()  <span class="comment"># 隐藏主窗口</span></span><br><span class="line"></span><br><span class="line">        n_test = simpledialog.askinteger(<span class="string">&quot;输入&quot;</span>, <span class="string">&quot;请输入测试点的数量:&quot;</span>, parent=root, minvalue=<span class="number">1</span>, maxvalue=<span class="number">1000</span>)</span><br><span class="line">        x_range = simpledialog.askstring(<span class="string">&quot;输入&quot;</span>, <span class="string">&quot;请输入x坐标范围 (min max):&quot;</span>, parent=root)</span><br><span class="line">        y_range = simpledialog.askstring(<span class="string">&quot;输入&quot;</span>, <span class="string">&quot;请输入y坐标范围 (min max):&quot;</span>, parent=root)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n_test <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> x_range <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> y_range <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        x_min, x_max = <span class="built_in">map</span>(<span class="built_in">float</span>, x_range.split())</span><br><span class="line">        y_min, y_max = <span class="built_in">map</span>(<span class="built_in">float</span>, y_range.split())</span><br><span class="line"></span><br><span class="line">        x_range = <span class="built_in">max</span>(<span class="built_in">abs</span>(x_min), <span class="built_in">abs</span>(x_max), <span class="number">6</span>)</span><br><span class="line">        y_range = <span class="built_in">max</span>(<span class="built_in">abs</span>(y_min), <span class="built_in">abs</span>(y_max), <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">        self.ax2.set_xlim(-x_range, x_range)</span><br><span class="line">        self.ax2.set_ylim(-y_range, y_range)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 更新sin(x)函数的显示范围</span></span><br><span class="line">        x = np.linspace(-x_range, x_range, <span class="number">1000</span>)</span><br><span class="line">        self.sine2.set_data(x, np.sin(x))</span><br><span class="line"></span><br><span class="line">        self.X_test = np.random.uniform(low=[x_min, y_min], high=[x_max, y_max], size=(n_test, <span class="number">2</span>))</span><br><span class="line">        self.update_test_classification()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_test_classification</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 显示原始数据</span></span><br><span class="line">        self.scatter2.set_offsets(self.X)</span><br><span class="line">        self.scatter2.set_facecolors(np.where(self.y, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 显示S集合的点</span></span><br><span class="line">        s_points = self.X[<span class="built_in">list</span>(self.S)]</span><br><span class="line">        self.s_scatter2.set_offsets(s_points)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 显示并分类测试点</span></span><br><span class="line">        predictions = np.array([self.nearest_neighbors(x, self.k) <span class="keyword">for</span> x <span class="keyword">in</span> self.X_test])</span><br><span class="line">        colors = np.where(predictions, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">        test_scatter = self.ax2.scatter(self.X_test[:, <span class="number">0</span>], self.X_test[:, <span class="number">1</span>], c=colors, marker=<span class="string">&#x27;s&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        self.ax2.set_title(<span class="string">f&#x27;测试分类 (K=<span class="subst">&#123;self.k&#125;</span>)&#x27;</span>)</span><br><span class="line">        self.fig.canvas.draw_idle()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建并运行可视化器</span></span><br><span class="line">visualizer = ClassifierVisualizer()</span><br><span class="line">visualizer.run()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>模式识别</tag>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>使用Shim实现在命令行中快捷启动应用程序</title>
    <url>/2024/06/29/%E4%BD%BF%E7%94%A8Shim%E5%AE%9E%E7%8E%B0%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E5%BF%AB%E6%8D%B7%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/</url>
    <content><![CDATA[<h1 id="使用Shim工具快捷启动应用程序"><a href="#使用Shim工具快捷启动应用程序" class="headerlink" title="使用Shim工具快捷启动应用程序"></a>使用Shim工具快捷启动应用程序</h1><p>想要使用命令行来快捷启动应用程序？但是又不想一个一个把每个软件的安装目录添加进Path，并且还要记住程序原本的名称，非常麻烦。把程序的快捷方式都放到一个统一的Path中注册的文件夹的方法？确实可以使用命令行启动，也可以自定义名字，但每次启动还需要加上<code>.lnk</code>的后缀才可以识别，依然非常鸡肋。</p>
<p>今天要介绍的是一种更为简便的方法，只需要使用一款Scoop的配套小工具——<strong>Shim</strong>。</p>
<span id="more"></span>

<p>如果你还不知道什么是Scoop，可以参考这篇文章：<a href="https://blog.csdn.net/qq_43741794/article/details/113079959">Scoop介绍与初体验</a>。不过那不是这篇文章的重点。</p>
<p>Shim的GitHub仓库地址是<a href="https://github.com/ScoopInstaller/Shim">https://github.com/ScoopInstaller/Shim</a>，但这个地址的最新版本是1.1.0，实际上Scoop配套版本的shim组件已经是3.1.1版本，功能更加完善。这里放一个最新版本的下载链接：<a href="https://wwo.lanzouj.com/iSlsA23150mj">Shim 3.1.1 下载链接 密码：b3v9</a>.</p>
<h2 id="如何使用Shim创建应用程序的“快捷方式”"><a href="#如何使用Shim创建应用程序的“快捷方式”" class="headerlink" title="如何使用Shim创建应用程序的“快捷方式”"></a>如何使用Shim创建应用程序的“快捷方式”</h2><p>之所以用引号标注“快捷方式”，是因为这里创建的是一个<code>.exe</code>的可执行文件，而不是<code>.lnk</code>的快捷方式。</p>
<h3 id="创建步骤："><a href="#创建步骤：" class="headerlink" title="创建步骤："></a>创建步骤：</h3><ol>
<li><p><strong>创建一个shim文件</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">New-Item</span> <span class="literal">-Path</span> ./XXX.shim <span class="literal">-Value</span> <span class="string">&#x27;path = &quot;C:\PATH\TO\EXE\XXX.exe&quot;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>这行命令创建一个shim文件，里面存放要打开的应用程序的地址。请将<code>PATH\TO\EXE</code>部分替换为实际应用程序的路径，将<code>XXX</code>替换为应用程序的名称。</p>
</li>
<li><p><strong>将shim程序复制到当前目录并重命名</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Copy-Item</span> <span class="literal">-Path</span> .\PATH\TO\SHIM\shim.exe <span class="literal">-Destination</span> .\XXX.exe</span><br></pre></td></tr></table></figure>

<p>这行命令将shim程序复制过来放在当前目录下，并修改名称为<code>XXX.exe</code>。请将<code>PATH\TO\SHIM</code>部分替换为实际shim程序的路径。</p>
</li>
<li><p><strong>运行应用程序</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">.\XXX.exe</span><br></pre></td></tr></table></figure>

<p>执行这行命令就可以启动应用程序了。</p>
</li>
</ol>
<h3 id="随时使用命令行打开这些程序"><a href="#随时使用命令行打开这些程序" class="headerlink" title="随时使用命令行打开这些程序"></a>随时使用命令行打开这些程序</h3><p>如果你希望随时可以通过命令行打开应用程序，可以将当前文件夹添加至Path，这样就可以全局识别这些应用程序的名称了。</p>
<p>实际上，这个程序的原理也很简单，感兴趣的朋友可以自己实现着玩一下。</p>
]]></content>
      <categories>
        <category>玩机技巧</category>
      </categories>
      <tags>
        <tag>Shim</tag>
      </tags>
  </entry>
  <entry>
    <title>解决Win10/Win11字体静止时模糊，鼠标移动到字体上后或者移动字体时恢复正常的问题</title>
    <url>/2024/08/10/%E8%A7%A3%E5%86%B3Win10%E3%80%81Win11%E5%AD%97%E4%BD%93%E9%9D%99%E6%AD%A2%E6%97%B6%E6%A8%A1%E7%B3%8A%EF%BC%8C%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E5%88%B0%E5%AD%97%E4%BD%93%E4%B8%8A%E5%90%8E%E6%88%96%E8%80%85%E7%A7%BB%E5%8A%A8%E5%AD%97%E4%BD%93%E6%97%B6%E6%81%A2%E5%A4%8D%E6%AD%A3%E5%B8%B8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>最近一段时间，在某些应用程序中会出现字体显示不正常，窗口内界面显示有残影等奇怪问题。虽然问题出现了很久，但是一直没有着手解决，直到今天实在无法忍受遂寻求解决方法。</p>
<span id="more"></span>

<h2 id="详细筛查过程（赶时间的朋友可以直接到最后一节）"><a href="#详细筛查过程（赶时间的朋友可以直接到最后一节）" class="headerlink" title="详细筛查过程（赶时间的朋友可以直接到最后一节）"></a>详细筛查过程（赶时间的朋友可以直接到最后一节）</h2><p>首先检查了系统的显示设置，调整了<strong>缩放值设置</strong>。但是我的缩放一直是系统推荐的150%，所以没有更改此处。</p>
<p>然后突然想起自己之前曾经使用过<strong>Macwiz</strong>调整过电脑的字体渲染方式，于是又去检查了一下Macwiz的设置。但实际上由于显示效果不好，我只是简单尝试了一下这款应用之后便关闭了相应服务。不过还是重新到<strong>设置-个性化-字体-相关设置-调整ClearType文本</strong>中尝试重新调整一下渲染细节，但是没有什么效果。</p>
<p>然后便是想到自己之前为了游戏显示性能曾经胡乱调整过<strong>Nvidia Control Panel</strong>里面<strong>管理3D设置</strong>选项卡中的设置：</p>
<img src="/2024/08/10/%E8%A7%A3%E5%86%B3Win10%E3%80%81Win11%E5%AD%97%E4%BD%93%E9%9D%99%E6%AD%A2%E6%97%B6%E6%A8%A1%E7%B3%8A%EF%BC%8C%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E5%88%B0%E5%AD%97%E4%BD%93%E4%B8%8A%E5%90%8E%E6%88%96%E8%80%85%E7%A7%BB%E5%8A%A8%E5%AD%97%E4%BD%93%E6%97%B6%E6%81%A2%E5%A4%8D%E6%AD%A3%E5%B8%B8%E7%9A%84%E9%97%AE%E9%A2%98/nvidia.png" class>

<p><strong>尝试重置了里面的相关设置，并重启。</strong></p>
<p>再打开后，问题成功解决！</p>
<h2 id="简要总结……"><a href="#简要总结……" class="headerlink" title="简要总结……"></a>简要总结……</h2><ul>
<li>首先检查<strong>显示设置-缩放值设置</strong>，将其和<strong>分辨率</strong>调整到合适状态（大部分情况下是废话）</li>
<li>然后想想自己有没有开启某些字体渲染有关的插件或者应用，有的话，去看看里面的设置是否可能会引起兼容性问题</li>
<li>尝试调整<strong>设置-个性化-字体-相关设置-调整ClearType文本</strong>，看看调整字体渲染细节后会不会有什么变化</li>
<li>最后尝试调整自己显卡相关的设置（本人用的是N卡，所以就去找<strong>Nvidia Contorl Panel</strong>里面的<strong>管理3D设置</strong>）</li>
<li>最后，重启！（推荐把上面的步骤挨个做一下之后重启）</li>
</ul>
<p>祝你成功解决！</p>
]]></content>
      <categories>
        <category>疑难杂症</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Nvidia</tag>
      </tags>
  </entry>
  <entry>
    <title>解决Selenium使用时报错Chrome not reachable问题</title>
    <url>/2024/09/18/%E8%A7%A3%E5%86%B3Selenium%E4%BD%BF%E7%94%A8%E6%97%B6%E6%8A%A5%E9%94%99Chrome%20not%20reachable%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>最近在写一个爬虫小工具，但是在第一步就遇到了问题。</p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.edge.options <span class="keyword">import</span> Options</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"></span><br><span class="line">options = webdriver.ChromeOptions()</span><br><span class="line">options.add_argument(<span class="string">&#x27;--headless&#x27;</span>)</span><br><span class="line">options.add_argument(<span class="string">&#x27;--no-sandbox&#x27;</span>)</span><br><span class="line">options.add_argument(<span class="string">&#x27;--disable-dev-shm-usage&#x27;</span>)</span><br><span class="line">options.add_argument(<span class="string">&#x27;--remote-debugging-port=9222&#x27;</span>)</span><br><span class="line">options.binary_location = <span class="string">r&quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot;</span>;</span><br><span class="line">options.add_argument(<span class="string">&#x27;user-data-dir=C:\\Users\\Jackie_Li\\AppData\\Local\\Microsoft\\Edge\\User Data&#x27;</span>)</span><br><span class="line"></span><br><span class="line">service = Service(<span class="string">r&#x27;E:\Webdrivers\chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome(options=options,service=service)</span><br></pre></td></tr></table></figure>

<p>报错信息为：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;c:\Users\Jackie_Li\Desktop\爬虫.py&quot;</span>, line 19, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    driver = webdriver.Chrome(options=options,service=service)</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\chrome\webdriver.py&quot;</span>, line 45, <span class="keyword">in</span> __init__</span><br><span class="line">    super().__init__(</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\chromium\webdriver.py&quot;</span>, line 66, <span class="keyword">in</span> __init__</span><br><span class="line">    super().__init__(command_executor=executor, options=options)</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\remote\webdriver.py&quot;</span>, line 212, <span class="keyword">in</span> __init__</span><br><span class="line">    self.start_session(capabilities)</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\remote\webdriver.py&quot;</span>, line 299, <span class="keyword">in</span> start_session</span><br><span class="line">    response = self.execute(Command.NEW_SESSION, caps)[<span class="string">&quot;value&quot;</span>]</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\remote\webdriver.py&quot;</span>, line 354, <span class="keyword">in</span> execute</span><br><span class="line">    self.error_handler.check_response(response)</span><br><span class="line">  File <span class="string">&quot;C:\Users\Jackie_Li\AppData\Roaming\Python\Python310\site-packages\selenium\webdriver\remote\errorhandler.py&quot;</span>, line 229, <span class="keyword">in</span> check_response</span><br><span class="line">    raise exception_class(message, screen, stacktrace)</span><br><span class="line">selenium.common.exceptions.SessionNotCreatedException: Message: session not created: Chrome failed to start: crashed.</span><br><span class="line">  (chrome not reachable)</span><br><span class="line">  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.)</span><br></pre></td></tr></table></figure>

<p>在解决问题之前，我已经将所有在论坛上找到的可能的解决办法加入到了上面那段代码中，其中包括：</p>
<ul>
<li>添加参数<code>--headless</code>,<code>--no-sandbox</code>,<code>--disable-dev-shm-usage</code>,<code>--remote-debugging-port=&lt;port&gt;</code></li>
<li>添加chrome浏览器的可执行文件路径</li>
<li>添加用户信息路径</li>
<li>使用管理员&#x2F;非管理员权限执行代码</li>
</ul>
<p>但是这些方法都没有解决问题。</p>
<p>直到搜索到了知乎上的一篇文章：<a href="https://zhuanlan.zhihu.com/p/591601994">chrome not reachable ——使用undetected_chromedriver出现以上错误如何解决？ - 知乎 (zhihu.com)</a></p>
<p>这篇文章的作者也遇到了同样的问题，而github上的一个开源项目作者MattWaller认为有可能是有可能是上面的用户信息路径中的某些文件在相关的进程关闭的时候被加了锁导致现在新开的ChromeDriver没法正常使用这些文件（但是MattWaller也没有指出具体的文件）。但是作者认为可以尝试更换一个新的用户信息路径，并且尝试在每次退出的时候运行：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">driver.quit()</span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure>

<p>这个方法很管用！我们直接将用户信息更换为全新的路径即可：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">options.add_argument(<span class="string">&quot;profile-directory=Profile 1&quot;</span>);</span><br><span class="line">options.add_argument(<span class="string">&#x27;--user-data-dir=C:\\Users\\Jackie_Li\\PythonCreeper\\Profile 1&#x27;</span>);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>疑难杂症</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Selenium</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@codemirror/state/README/</url>
    <content><![CDATA[<h1 id="codemirror-x2F-state"><a href="#codemirror-x2F-state" class="headerlink" title="@codemirror&#x2F;state "></a>@codemirror&#x2F;state <a href="https://www.npmjs.org/package/@codemirror/state"><img src="https://img.shields.io/npm/v/@codemirror/state.svg" alt="NPM version"></a></h1><p>[ <a href="https://codemirror.net/"><strong>WEBSITE</strong></a> | <a href="https://codemirror.net/docs/ref/#state"><strong>DOCS</strong></a> | <a href="https://github.com/codemirror/dev/issues"><strong>ISSUES</strong></a> | <a href="https://discuss.codemirror.net/c/next/"><strong>FORUM</strong></a> | <a href="https://github.com/codemirror/state/blob/main/CHANGELOG.md"><strong>CHANGELOG</strong></a> ]</p>
<p>This package implements the editor state data structures for the<br><a href="https://codemirror.net/">CodeMirror</a> code editor.</p>
<p>The <a href="https://codemirror.net/">project page</a> has more information, a<br>number of <a href="https://codemirror.net/examples/">examples</a> and the<br><a href="https://codemirror.net/docs/">documentation</a>.</p>
<p>This code is released under an<br><a href="https://github.com/codemirror/state/tree/main/LICENSE">MIT license</a>.</p>
<p>We aim to be an inclusive, welcoming community. To make that explicit,<br>we have a <a href="http://contributor-covenant.org/version/1/1/0/">code of<br>conduct</a> that applies<br>to communication around the project.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@eslint/eslintrc/README/</url>
    <content><![CDATA[<h1 id="ESLintRC-Library"><a href="#ESLintRC-Library" class="headerlink" title="ESLintRC Library"></a>ESLintRC Library</h1><p>This repository contains the legacy ESLintRC configuration file format for ESLint. This package is not intended for use outside of the ESLint ecosystem. It is ESLint-specific and not intended for use in other programs.</p>
<p><strong>Note:</strong> This package is frozen except for critical bug fixes as ESLint moves to a new config system.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>You can install the package as follows:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install @eslint/eslintrc --save-dev</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line"></span><br><span class="line">yarn add @eslint/eslintrc -D</span><br></pre></td></tr></table></figure>

<h2 id="Usage-ESM"><a href="#Usage-ESM" class="headerlink" title="Usage (ESM)"></a>Usage (ESM)</h2><p>The primary class in this package is <code>FlatCompat</code>, which is a utility to translate ESLintRC-style configs into flat configs. Here’s how you use it inside of your <code>eslint.config.js</code> file:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FlatCompat</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@eslint/eslintrc&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> js <span class="keyword">from</span> <span class="string">&quot;@eslint/js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath &#125; <span class="keyword">from</span> <span class="string">&quot;url&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mimic CommonJS variables -- not needed if using CommonJS</span></span><br><span class="line"><span class="keyword">const</span> __filename = <span class="title function_">fileURLToPath</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>);</span><br><span class="line"><span class="keyword">const</span> __dirname = path.<span class="title function_">dirname</span>(__filename);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compat = <span class="keyword">new</span> <span class="title class_">FlatCompat</span>(&#123;</span><br><span class="line">    <span class="attr">baseDirectory</span>: __dirname,                  <span class="comment">// optional; default: process.cwd()</span></span><br><span class="line">    <span class="attr">resolvePluginsRelativeTo</span>: __dirname,       <span class="comment">// optional</span></span><br><span class="line">    <span class="attr">recommendedConfig</span>: js.<span class="property">configs</span>.<span class="property">recommended</span>, <span class="comment">// optional</span></span><br><span class="line">    <span class="attr">allConfig</span>: js.<span class="property">configs</span>.<span class="property">all</span>,                 <span class="comment">// optional</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic ESLintRC-style extends</span></span><br><span class="line">    ...compat.<span class="title function_">extends</span>(<span class="string">&quot;standard&quot;</span>, <span class="string">&quot;example&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic environments</span></span><br><span class="line">    ...compat.<span class="title function_">env</span>(&#123;</span><br><span class="line">        <span class="attr">es2020</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">node</span>: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic plugins</span></span><br><span class="line">    ...compat.<span class="title function_">plugins</span>(<span class="string">&quot;airbnb&quot;</span>, <span class="string">&quot;react&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// translate an entire config</span></span><br><span class="line">    ...compat.<span class="title function_">config</span>(&#123;</span><br><span class="line">        <span class="attr">plugins</span>: [<span class="string">&quot;airbnb&quot;</span>, <span class="string">&quot;react&quot;</span>],</span><br><span class="line">        <span class="attr">extends</span>: <span class="string">&quot;standard&quot;</span>,</span><br><span class="line">        <span class="attr">env</span>: &#123;</span><br><span class="line">            <span class="attr">es2020</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">node</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">rules</span>: &#123;</span><br><span class="line">            <span class="attr">semi</span>: <span class="string">&quot;error&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h2 id="Usage-CommonJS"><a href="#Usage-CommonJS" class="headerlink" title="Usage (CommonJS)"></a>Usage (CommonJS)</h2><p>Using <code>FlatCompat</code> in CommonJS files is similar to ESM, but you’ll use <code>require()</code> and <code>module.exports</code> instead of <code>import</code> and <code>export</code>. Here’s how you use it inside of your <code>eslint.config.js</code> CommonJS file:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">FlatCompat</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;@eslint/eslintrc&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> js = <span class="built_in">require</span>(<span class="string">&quot;@eslint/js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compat = <span class="keyword">new</span> <span class="title class_">FlatCompat</span>(&#123;</span><br><span class="line">    <span class="attr">baseDirectory</span>: __dirname,                  <span class="comment">// optional; default: process.cwd()</span></span><br><span class="line">    <span class="attr">resolvePluginsRelativeTo</span>: __dirname,       <span class="comment">// optional</span></span><br><span class="line">    <span class="attr">recommendedConfig</span>: js.<span class="property">configs</span>.<span class="property">recommended</span>, <span class="comment">// optional</span></span><br><span class="line">    <span class="attr">allConfig</span>: js.<span class="property">configs</span>.<span class="property">all</span>,                 <span class="comment">// optional</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = [</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic ESLintRC-style extends</span></span><br><span class="line">    ...compat.<span class="title function_">extends</span>(<span class="string">&quot;standard&quot;</span>, <span class="string">&quot;example&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic environments</span></span><br><span class="line">    ...compat.<span class="title function_">env</span>(&#123;</span><br><span class="line">        <span class="attr">es2020</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">node</span>: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mimic plugins</span></span><br><span class="line">    ...compat.<span class="title function_">plugins</span>(<span class="string">&quot;airbnb&quot;</span>, <span class="string">&quot;react&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// translate an entire config</span></span><br><span class="line">    ...compat.<span class="title function_">config</span>(&#123;</span><br><span class="line">        <span class="attr">plugins</span>: [<span class="string">&quot;airbnb&quot;</span>, <span class="string">&quot;react&quot;</span>],</span><br><span class="line">        <span class="attr">extends</span>: <span class="string">&quot;standard&quot;</span>,</span><br><span class="line">        <span class="attr">env</span>: &#123;</span><br><span class="line">            <span class="attr">es2020</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">node</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">rules</span>: &#123;</span><br><span class="line">            <span class="attr">semi</span>: <span class="string">&quot;error&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT License</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@codemirror/state/CHANGELOG/</url>
    <content><![CDATA[<h2 id="6-4-1-2024-02-19"><a href="#6-4-1-2024-02-19" class="headerlink" title="6.4.1 (2024-02-19)"></a>6.4.1 (2024-02-19)</h2><h3 id="Bug-fixes"><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that caused widgets at the end of a mark decoration to be rendered in their own separate mark DOM element.</p>
<h2 id="6-4-0-2023-12-28"><a href="#6-4-0-2023-12-28" class="headerlink" title="6.4.0 (2023-12-28)"></a>6.4.0 (2023-12-28)</h2><h3 id="Bug-fixes-1"><a href="#Bug-fixes-1" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>When multiple ranges in a single range set overlap, put the smaller ones inside the bigger ones, so that overlapping decorations don’t break up each other’s elements when coming from the same source.</p>
<h3 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h3><p>Selection and selection range <code>eq</code> methods now support an optional argument that makes them also compare by cursor associativity.</p>
<p>The <code>RangeSet.join</code> function can be used to join multiple range sets together.</p>
<h2 id="6-3-3-2023-12-06"><a href="#6-3-3-2023-12-06" class="headerlink" title="6.3.3 (2023-12-06)"></a>6.3.3 (2023-12-06)</h2><h3 id="Bug-fixes-2"><a href="#Bug-fixes-2" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where <code>Text.slice</code> and <code>Text.replace</code> could return objects with incorrect <code>length</code> when the given <code>from</code>&#x2F;<code>to</code> values were out of range for the text.</p>
<h2 id="6-3-2-2023-11-27"><a href="#6-3-2-2023-11-27" class="headerlink" title="6.3.2 (2023-11-27)"></a>6.3.2 (2023-11-27)</h2><h3 id="Bug-fixes-3"><a href="#Bug-fixes-3" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure transactions cannot add multiple selections when <code>allowMultipleSelections</code> is false.</p>
<p>Fix a bug that caused <code>Text.iterLines</code> to not return empty lines at the end of the iterated ranges.</p>
<h2 id="6-3-1-2023-10-18"><a href="#6-3-1-2023-10-18" class="headerlink" title="6.3.1 (2023-10-18)"></a>6.3.1 (2023-10-18)</h2><h3 id="Bug-fixes-4"><a href="#Bug-fixes-4" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Give the tag property on <code>FacetReader</code> the type of the output type parameter to force TypeScript to infer the proper type when converting from <code>Facet</code> to <code>FacetReader</code>.</p>
<h2 id="6-3-0-2023-10-12"><a href="#6-3-0-2023-10-12" class="headerlink" title="6.3.0 (2023-10-12)"></a>6.3.0 (2023-10-12)</h2><h3 id="New-features-1"><a href="#New-features-1" class="headerlink" title="New features"></a>New features</h3><p>The new <code>FacetReader</code> type provides a way to export a read-only handle to a <code>Facet</code>.</p>
<h2 id="6-2-1-2023-05-23"><a href="#6-2-1-2023-05-23" class="headerlink" title="6.2.1 (2023-05-23)"></a>6.2.1 (2023-05-23)</h2><h3 id="Bug-fixes-5"><a href="#Bug-fixes-5" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that could cause <code>RangeSet.compare</code> to miss changes in the set of active ranges around a point range.</p>
<h2 id="6-2-0-2022-12-26"><a href="#6-2-0-2022-12-26" class="headerlink" title="6.2.0 (2022-12-26)"></a>6.2.0 (2022-12-26)</h2><h3 id="New-features-2"><a href="#New-features-2" class="headerlink" title="New features"></a>New features</h3><p><code>EditorSelection.range</code> now accepts an optional 4th argument to specify the bidi level of the range’s head position.</p>
<h2 id="6-1-4-2022-11-15"><a href="#6-1-4-2022-11-15" class="headerlink" title="6.1.4 (2022-11-15)"></a>6.1.4 (2022-11-15)</h2><h3 id="Bug-fixes-6"><a href="#Bug-fixes-6" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused the <code>openStart</code> value passed to span iterators to be incorrect around widgets in some circumstances.</p>
<h2 id="6-1-3-2022-11-10"><a href="#6-1-3-2022-11-10" class="headerlink" title="6.1.3 (2022-11-10)"></a>6.1.3 (2022-11-10)</h2><h3 id="Bug-fixes-7"><a href="#Bug-fixes-7" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid unnecessary calls to computed facet getters when a state is reconfigured but no dependencies of the computed facet change.</p>
<p>Fix an infinite loop in <code>RangeSet.eq</code> when the <code>to</code> parameter isn’t given.</p>
<h2 id="6-1-2-2022-09-21"><a href="#6-1-2-2022-09-21" class="headerlink" title="6.1.2 (2022-09-21)"></a>6.1.2 (2022-09-21)</h2><h3 id="Bug-fixes-8"><a href="#Bug-fixes-8" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where, when multiple transaction extenders took effect, only the highest-precedence one was actually included in the transaction.</p>
<h2 id="6-1-1-2022-08-03"><a href="#6-1-1-2022-08-03" class="headerlink" title="6.1.1 (2022-08-03)"></a>6.1.1 (2022-08-03)</h2><h3 id="Bug-fixes-9"><a href="#Bug-fixes-9" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug in range set span iteration that would cause decorations to be inappropriately split in some situations.</p>
<h2 id="6-1-0-2022-06-30"><a href="#6-1-0-2022-06-30" class="headerlink" title="6.1.0 (2022-06-30)"></a>6.1.0 (2022-06-30)</h2><h3 id="Bug-fixes-10"><a href="#Bug-fixes-10" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Refine change mapping to preserve insertions made by concurrent changes.</p>
<h3 id="New-features-3"><a href="#New-features-3" class="headerlink" title="New features"></a>New features</h3><p>The <code>enables</code> option to <code>Facet.define</code> may now take a function, which will be called with the facet value to create the extensions.</p>
<h2 id="6-0-1-2022-06-17"><a href="#6-0-1-2022-06-17" class="headerlink" title="6.0.1 (2022-06-17)"></a>6.0.1 (2022-06-17)</h2><h3 id="Bug-fixes-11"><a href="#Bug-fixes-11" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a problem that caused effects’ <code>map</code> methods to be called with an incorrect change set when filtering changes.</p>
<h2 id="6-0-0-2022-06-08"><a href="#6-0-0-2022-06-08" class="headerlink" title="6.0.0 (2022-06-08)"></a>6.0.0 (2022-06-08)</h2><h3 id="Breaking-changes"><a href="#Breaking-changes" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>Update dependencies to 6.0.0</p>
<h2 id="0-20-1-2022-06-02"><a href="#0-20-1-2022-06-02" class="headerlink" title="0.20.1 (2022-06-02)"></a>0.20.1 (2022-06-02)</h2><h3 id="New-features-4"><a href="#New-features-4" class="headerlink" title="New features"></a>New features</h3><p><code>EditorView.phrase</code> now accepts additional arguments, which it will interpolate into the phrase in the place of <code>$</code> markers.</p>
<h2 id="0-20-0-2022-04-20"><a href="#0-20-0-2022-04-20" class="headerlink" title="0.20.0 (2022-04-20)"></a>0.20.0 (2022-04-20)</h2><h3 id="Breaking-changes-1"><a href="#Breaking-changes-1" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>The deprecated precedence names <code>fallback</code>, <code>extend</code>, and <code>override</code> were removed from the library.</p>
<h3 id="Bug-fixes-12"><a href="#Bug-fixes-12" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where, if an extension value occurs multiple times, its lowest, rather than highest precedence is used.</p>
<p>Fix an issue where facets with computed inputs would unneccesarily have their outputs recreated on state reconfiguration.</p>
<p>Fix a bug in the order in which new values for state fields and facets were computed, which could cause dynamic facets to hold the wrong value in some situations.</p>
<h3 id="New-features-5"><a href="#New-features-5" class="headerlink" title="New features"></a>New features</h3><p>The exports from @codemirror&#x2F;rangeset now live in this package.</p>
<p>The exports from @codemirror&#x2F;text now live in this package.</p>
<h2 id="0-19-9-2022-02-16"><a href="#0-19-9-2022-02-16" class="headerlink" title="0.19.9 (2022-02-16)"></a>0.19.9 (2022-02-16)</h2><h3 id="Bug-fixes-13"><a href="#Bug-fixes-13" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Mapping a non-empty selection range now always puts any newly inserted text on the sides of the range outside of the mapped version.</p>
<h2 id="0-19-8-2022-02-15"><a href="#0-19-8-2022-02-15" class="headerlink" title="0.19.8 (2022-02-15)"></a>0.19.8 (2022-02-15)</h2><h3 id="Bug-fixes-14"><a href="#Bug-fixes-14" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where facet values with computed inputs could incorrectly retain their old value on reconfiguration.</p>
<h2 id="0-19-7-2022-02-11"><a href="#0-19-7-2022-02-11" class="headerlink" title="0.19.7 (2022-02-11)"></a>0.19.7 (2022-02-11)</h2><h3 id="Bug-fixes-15"><a href="#Bug-fixes-15" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid recomputing facets on state reconfiguration if that facet’s inputs stayed precisely the same.</p>
<p>Selection ranges created with <code>EditorSelection.range</code> will now have an assoc pointing at their anchor, when non-empty.</p>
<h2 id="0-19-6-2021-11-19"><a href="#0-19-6-2021-11-19" class="headerlink" title="0.19.6 (2021-11-19)"></a>0.19.6 (2021-11-19)</h2><h3 id="Bug-fixes-16"><a href="#Bug-fixes-16" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused facet compare functions to be called with an invalid value in some situations.</p>
<p>Fix a bug that caused dynamic facet values to be incorrectly kept unchanged when reconfiguration changed one of their dependencies.</p>
<h2 id="0-19-5-2021-11-10"><a href="#0-19-5-2021-11-10" class="headerlink" title="0.19.5 (2021-11-10)"></a>0.19.5 (2021-11-10)</h2><h3 id="Bug-fixes-17"><a href="#Bug-fixes-17" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that would cause dynamic facet values influenced by a state reconfiguration to not properly recompute.</p>
<h2 id="0-19-4-2021-11-05"><a href="#0-19-4-2021-11-05" class="headerlink" title="0.19.4 (2021-11-05)"></a>0.19.4 (2021-11-05)</h2><h3 id="Bug-fixes-18"><a href="#Bug-fixes-18" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>When reconfiguring a state, effects from the reconfiguring transaction can now be seen by newly added state fields.</p>
<h2 id="0-19-3-2021-11-03"><a href="#0-19-3-2021-11-03" class="headerlink" title="0.19.3 (2021-11-03)"></a>0.19.3 (2021-11-03)</h2><h3 id="New-features-6"><a href="#New-features-6" class="headerlink" title="New features"></a>New features</h3><p>The precedence levels (under <code>Prec</code>) now have more generic names, because their ‘meaningful’ names were entirely inappropriate in many situations.</p>
<h2 id="0-19-2-2021-09-13"><a href="#0-19-2-2021-09-13" class="headerlink" title="0.19.2 (2021-09-13)"></a>0.19.2 (2021-09-13)</h2><h3 id="New-features-7"><a href="#New-features-7" class="headerlink" title="New features"></a>New features</h3><p>The editor state now has a <code>readOnly</code> property with a matching facet to control its value.</p>
<h2 id="0-19-1-2021-08-15"><a href="#0-19-1-2021-08-15" class="headerlink" title="0.19.1 (2021-08-15)"></a>0.19.1 (2021-08-15)</h2><h3 id="Bug-fixes-19"><a href="#Bug-fixes-19" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where <code>wordAt</code> never returned a useful result.</p>
<h2 id="0-19-0-2021-08-11"><a href="#0-19-0-2021-08-11" class="headerlink" title="0.19.0 (2021-08-11)"></a>0.19.0 (2021-08-11)</h2><h3 id="Breaking-changes-2"><a href="#Breaking-changes-2" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>User event strings now work differently—the events emitted by the core packages follow a different system, and hierarchical event tags can be created by separating the words with dots.</p>
<h3 id="New-features-8"><a href="#New-features-8" class="headerlink" title="New features"></a>New features</h3><p><code>languageDataAt</code> now takes an optional <code>side</code> argument to specificy which side of the position you’re interested in.</p>
<p>It is now possible to add a user event annotation with a direct <code>userEvent</code> property on a transaction spec.</p>
<p>Transactions now have an <code>isUserEvent</code> method that can be used to check if it is (a subtype of) some user event type.</p>
<h2 id="0-18-7-2021-05-04"><a href="#0-18-7-2021-05-04" class="headerlink" title="0.18.7 (2021-05-04)"></a>0.18.7 (2021-05-04)</h2><h3 id="Bug-fixes-20"><a href="#Bug-fixes-20" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where state fields might be initialized with a state that they aren’t actually part of during reconfiguration.</p>
<h2 id="0-18-6-2021-04-12"><a href="#0-18-6-2021-04-12" class="headerlink" title="0.18.6 (2021-04-12)"></a>0.18.6 (2021-04-12)</h2><h3 id="New-features-9"><a href="#New-features-9" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorState.wordAt</code> method finds the word at a given position.</p>
<h2 id="0-18-5-2021-04-08"><a href="#0-18-5-2021-04-08" class="headerlink" title="0.18.5 (2021-04-08)"></a>0.18.5 (2021-04-08)</h2><h3 id="Bug-fixes-21"><a href="#Bug-fixes-21" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue in the compiled output that would break the code when minified with terser.</p>
<h2 id="0-18-4-2021-04-06"><a href="#0-18-4-2021-04-06" class="headerlink" title="0.18.4 (2021-04-06)"></a>0.18.4 (2021-04-06)</h2><h3 id="New-features-10"><a href="#New-features-10" class="headerlink" title="New features"></a>New features</h3><p>The new <code>Transaction.remote</code> annotation can be used to mark and recognize transactions created by other actors.</p>
<h2 id="0-18-3-2021-03-23"><a href="#0-18-3-2021-03-23" class="headerlink" title="0.18.3 (2021-03-23)"></a>0.18.3 (2021-03-23)</h2><h3 id="New-features-11"><a href="#New-features-11" class="headerlink" title="New features"></a>New features</h3><p>The <code>ChangeDesc</code> class now has <code>toJSON</code> and <code>fromJSON</code> methods.</p>
<h2 id="0-18-2-2021-03-14"><a href="#0-18-2-2021-03-14" class="headerlink" title="0.18.2 (2021-03-14)"></a>0.18.2 (2021-03-14)</h2><h3 id="Bug-fixes-22"><a href="#Bug-fixes-22" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix unintended ES2020 output (the package contains ES6 code again).</p>
<h2 id="0-18-1-2021-03-10"><a href="#0-18-1-2021-03-10" class="headerlink" title="0.18.1 (2021-03-10)"></a>0.18.1 (2021-03-10)</h2><h3 id="New-features-12"><a href="#New-features-12" class="headerlink" title="New features"></a>New features</h3><p>The new <code>Compartment.get</code> method can be used to get the content of a compartment in a given state.</p>
<h2 id="0-18-0-2021-03-03"><a href="#0-18-0-2021-03-03" class="headerlink" title="0.18.0 (2021-03-03)"></a>0.18.0 (2021-03-03)</h2><h3 id="Breaking-changes-3"><a href="#Breaking-changes-3" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p><code>tagExtension</code> and the <code>reconfigure</code> transaction spec property have been replaced with the concept of configuration compartments and reconfiguration effects (see <code>Compartment</code>, <code>StateEffect.reconfigure</code>, and <code>StateEffect.appendConfig</code>).</p>
<h2 id="0-17-2-2021-02-19"><a href="#0-17-2-2021-02-19" class="headerlink" title="0.17.2 (2021-02-19)"></a>0.17.2 (2021-02-19)</h2><h3 id="New-features-13"><a href="#New-features-13" class="headerlink" title="New features"></a>New features</h3><p><code>EditorSelection.map</code> and <code>SelectionRange.map</code> now take an optional second argument to indicate which direction to map to.</p>
<h2 id="0-17-1-2021-01-06"><a href="#0-17-1-2021-01-06" class="headerlink" title="0.17.1 (2021-01-06)"></a>0.17.1 (2021-01-06)</h2><h3 id="New-features-14"><a href="#New-features-14" class="headerlink" title="New features"></a>New features</h3><p>The package now also exports a CommonJS module.</p>
<h2 id="0-17-0-2020-12-29"><a href="#0-17-0-2020-12-29" class="headerlink" title="0.17.0 (2020-12-29)"></a>0.17.0 (2020-12-29)</h2><h3 id="Breaking-changes-4"><a href="#Breaking-changes-4" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>First numbered release.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@codemirror/view/README/</url>
    <content><![CDATA[<h1 id="codemirror-x2F-view"><a href="#codemirror-x2F-view" class="headerlink" title="@codemirror&#x2F;view "></a>@codemirror&#x2F;view <a href="https://www.npmjs.org/package/@codemirror/view"><img src="https://img.shields.io/npm/v/@codemirror/view.svg" alt="NPM version"></a></h1><p>[ <a href="https://codemirror.net/"><strong>WEBSITE</strong></a> | <a href="https://codemirror.net/docs/ref/#view"><strong>DOCS</strong></a> | <a href="https://github.com/codemirror/dev/issues"><strong>ISSUES</strong></a> | <a href="https://discuss.codemirror.net/c/next/"><strong>FORUM</strong></a> | <a href="https://github.com/codemirror/view/blob/main/CHANGELOG.md"><strong>CHANGELOG</strong></a> ]</p>
<p>This package implements the DOM view component for the<br><a href="https://codemirror.net/">CodeMirror</a> code editor.</p>
<p>The <a href="https://codemirror.net/">project page</a> has more information, a<br>number of <a href="https://codemirror.net/examples/">examples</a> and the<br><a href="https://codemirror.net/docs/">documentation</a>.</p>
<p>This code is released under an<br><a href="https://github.com/codemirror/view/tree/main/LICENSE">MIT license</a>.</p>
<p>We aim to be an inclusive, welcoming community. To make that explicit,<br>we have a <a href="http://contributor-covenant.org/version/1/1/0/">code of<br>conduct</a> that applies<br>to communication around the project.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@eslint-community/eslint-utils/README/</url>
    <content><![CDATA[<h1 id="eslint-community-x2F-eslint-utils"><a href="#eslint-community-x2F-eslint-utils" class="headerlink" title="@eslint-community&#x2F;eslint-utils"></a>@eslint-community&#x2F;eslint-utils</h1><p><a href="https://www.npmjs.com/package/@eslint-community/eslint-utils"><img src="https://img.shields.io/npm/v/@eslint-community/eslint-utils.svg" alt="npm version"></a><br><a href="http://www.npmtrends.com/@eslint-community/eslint-utils"><img src="https://img.shields.io/npm/dm/@eslint-community/eslint-utils.svg" alt="Downloads/month"></a><br><a href="https://github.com/eslint-community/eslint-utils/actions"><img src="https://github.com/eslint-community/eslint-utils/workflows/CI/badge.svg" alt="Build Status"></a><br><a href="https://codecov.io/gh/eslint-community/eslint-utils"><img src="https://codecov.io/gh/eslint-community/eslint-utils/branch/main/graph/badge.svg" alt="Coverage Status"></a></p>
<h2 id="🏁-Goal"><a href="#🏁-Goal" class="headerlink" title="🏁 Goal"></a>🏁 Goal</h2><p>This package provides utility functions and classes for make ESLint custom rules.</p>
<p>For examples:</p>
<ul>
<li><a href="https://eslint-community.github.io/eslint-utils/api/ast-utils.html#getstaticvalue"><code>getStaticValue</code></a> evaluates static value on AST.</li>
<li><a href="https://eslint-community.github.io/eslint-utils/api/scope-utils.html#referencetracker-class"><code>ReferenceTracker</code></a> checks the members of modules&#x2F;globals as handling assignments and destructuring.</li>
</ul>
<h2 id="📖-Usage"><a href="#📖-Usage" class="headerlink" title="📖 Usage"></a>📖 Usage</h2><p>See <a href="https://eslint-community.github.io/eslint-utils">documentation</a>.</p>
<h2 id="📰-Changelog"><a href="#📰-Changelog" class="headerlink" title="📰 Changelog"></a>📰 Changelog</h2><p>See <a href="https://github.com/eslint-community/eslint-utils/releases">releases</a>.</p>
<h2 id="❤️-Contributing"><a href="#❤️-Contributing" class="headerlink" title="❤️ Contributing"></a>❤️ Contributing</h2><p>Welcome contributing!</p>
<p>Please use GitHub’s Issues&#x2F;PRs.</p>
<h3 id="Development-Tools"><a href="#Development-Tools" class="headerlink" title="Development Tools"></a>Development Tools</h3><ul>
<li><code>npm test</code> runs tests and measures coverage.</li>
<li><code>npm run clean</code> removes the coverage result of <code>npm test</code> command.</li>
<li><code>npm run coverage</code> shows the coverage result of the last <code>npm test</code> command.</li>
<li><code>npm run lint</code> runs ESLint.</li>
<li><code>npm run watch</code> runs tests on each file change.</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@codemirror/view/CHANGELOG/</url>
    <content><![CDATA[<h2 id="6-33-0-2024-08-24"><a href="#6-33-0-2024-08-24" class="headerlink" title="6.33.0 (2024-08-24)"></a>6.33.0 (2024-08-24)</h2><h3 id="Bug-fixes"><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make it easier to move the pointer over a hover tooltip with an arrow by not closing the tooltip when the pointer is moving over the gap for the arrow.</p>
<h3 id="New-features"><a href="#New-features" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.clipboardInputFilter</code> and <code>clipboardOutputFilter</code> facets allow you to register filter functions that change text taken from or sent to the clipboard.</p>
<h2 id="6-32-0-2024-08-12"><a href="#6-32-0-2024-08-12" class="headerlink" title="6.32.0 (2024-08-12)"></a>6.32.0 (2024-08-12)</h2><h3 id="Bug-fixes-1"><a href="#Bug-fixes-1" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where the editor could draw way too big a viewport when not managing its own scrollbar.</p>
<h3 id="New-features-1"><a href="#New-features-1" class="headerlink" title="New features"></a>New features</h3><p>The new <code>gutterWidgetClass</code> facet makes it possible to add a class to gutter elements next to widgets.</p>
<h2 id="6-31-0-2024-08-11"><a href="#6-31-0-2024-08-11" class="headerlink" title="6.31.0 (2024-08-11)"></a>6.31.0 (2024-08-11)</h2><h3 id="Bug-fixes-2"><a href="#Bug-fixes-2" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid the editor’s geometry measurements becoming incorrect when fonts finish loading by scheduling a measure on <code>document.fonts.ready</code>.</p>
<p>Avoid an issue where Chrome would incorrectly scroll the window when deleting lines in the editor.</p>
<p>Fix an issue where in some layouts editor content would be drawn on top of panel elements.</p>
<p>Fix an issue where <code>coordsAtPos</code> would return null when querying a position in a block widget.</p>
<h3 id="New-features-2"><a href="#New-features-2" class="headerlink" title="New features"></a>New features</h3><p>The new <code>lineNumberWidgetMarker</code> facet makes it possible to insert markers into the line number gutter for widgets.</p>
<h2 id="6-30-0-2024-08-05"><a href="#6-30-0-2024-08-05" class="headerlink" title="6.30.0 (2024-08-05)"></a>6.30.0 (2024-08-05)</h2><h3 id="Bug-fixes-3"><a href="#Bug-fixes-3" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make spell check corrections work again on <code>EditContext</code>-enabled Chrome versions.</p>
<h3 id="New-features-3"><a href="#New-features-3" class="headerlink" title="New features"></a>New features</h3><p>The value returned by <code>hoverTooltip</code> now has an <code>active</code> property providing the state field used to store the open tooltips.</p>
<h2 id="6-29-1-2024-07-29"><a href="#6-29-1-2024-07-29" class="headerlink" title="6.29.1 (2024-07-29)"></a>6.29.1 (2024-07-29)</h2><h3 id="Bug-fixes-4"><a href="#Bug-fixes-4" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash on old Safari browsers that don’t support <code>MediaQueryList.addEventListener</code>.</p>
<p>Fix an issue where <code>EditorView.viewportLineBlocks</code> (and thus other things like the gutter) might be out of date after some kinds of decoration changes.</p>
<h2 id="6-29-0-2024-07-25"><a href="#6-29-0-2024-07-25" class="headerlink" title="6.29.0 (2024-07-25)"></a>6.29.0 (2024-07-25)</h2><h3 id="Bug-fixes-5"><a href="#Bug-fixes-5" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that caused typing into an editor marked read-only to cause document changes when using <code>EditContext</code>.</p>
<p>Associate a cursor created by clicking above the end of the text on a wrap point with the line before it.</p>
<h3 id="New-features-4"><a href="#New-features-4" class="headerlink" title="New features"></a>New features</h3><p>The package now exports the type of hover tooltip sources as <code>HoverTooltipSource</code>.</p>
<h2 id="6-28-6-2024-07-19"><a href="#6-28-6-2024-07-19" class="headerlink" title="6.28.6 (2024-07-19)"></a>6.28.6 (2024-07-19)</h2><h3 id="Bug-fixes-6"><a href="#Bug-fixes-6" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the editor got confused about the position of inserted text when using Chrome’s <code>EditContext</code> and canceling transactions for typed text.</p>
<h2 id="6-28-5-2024-07-17"><a href="#6-28-5-2024-07-17" class="headerlink" title="6.28.5 (2024-07-17)"></a>6.28.5 (2024-07-17)</h2><h3 id="Bug-fixes-7"><a href="#Bug-fixes-7" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that broke drag scrolling along one axis when the innermost scrollable element around the editor was only scrollable along the other axis.</p>
<p>Work around a memory leak in Chrome’s EditContext implementation.</p>
<h2 id="6-28-4-2024-07-03"><a href="#6-28-4-2024-07-03" class="headerlink" title="6.28.4 (2024-07-03)"></a>6.28.4 (2024-07-03)</h2><h3 id="Bug-fixes-8"><a href="#Bug-fixes-8" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where EditContext-based editing could corrupt the document in some situations.</p>
<h2 id="6-28-3-2024-07-01"><a href="#6-28-3-2024-07-01" class="headerlink" title="6.28.3 (2024-07-01)"></a>6.28.3 (2024-07-01)</h2><h3 id="Bug-fixes-9"><a href="#Bug-fixes-9" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue causing the IME interface to appear in the wrong spot on Chrome Windows.</p>
<h2 id="6-28-2-2024-06-21"><a href="#6-28-2-2024-06-21" class="headerlink" title="6.28.2 (2024-06-21)"></a>6.28.2 (2024-06-21)</h2><h3 id="Bug-fixes-10"><a href="#Bug-fixes-10" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Only use <code>EditContext</code> on Chrome versions that support passing it an inverted selection range.</p>
<p>Fix an issue that prevented non-inclusive block widgets from having their <code>updateDOM</code> method called when changed.</p>
<p>Re-enable <code>EditContext</code> use on Chrome 126 and up.</p>
<h2 id="6-28-1-2024-06-12"><a href="#6-28-1-2024-06-12" class="headerlink" title="6.28.1 (2024-06-12)"></a>6.28.1 (2024-06-12)</h2><h3 id="Bug-fixes-11"><a href="#Bug-fixes-11" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Disable <code>EditContext</code> by default again, to work around a regression where Chrome’s implementation doesn’t support inverted selections.</p>
<p>Make sure <code>EditorView.editable</code> is respected when <code>EditContext</code> is used.</p>
<h2 id="6-28-0-2024-06-10"><a href="#6-28-0-2024-06-10" class="headerlink" title="6.28.0 (2024-06-10)"></a>6.28.0 (2024-06-10)</h2><h3 id="Bug-fixes-12"><a href="#Bug-fixes-12" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where long lines broken up by block widgets were sometimes only partially rendered.</p>
<h3 id="New-features-5"><a href="#New-features-5" class="headerlink" title="New features"></a>New features</h3><p>The editor will now, when available (which is only on Chrome for the foreseeable future) use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/EditContext"><code>EditContext</code></a> API to capture text input.</p>
<h2 id="6-27-0-2024-06-04"><a href="#6-27-0-2024-06-04" class="headerlink" title="6.27.0 (2024-06-04)"></a>6.27.0 (2024-06-04)</h2><h3 id="New-features-6"><a href="#New-features-6" class="headerlink" title="New features"></a>New features</h3><p>The new <code>setTabFocusMode</code> method can be used to control whether the editor disables key bindings for Tab and Shift-Tab.</p>
<h2 id="6-26-4-2024-06-04"><a href="#6-26-4-2024-06-04" class="headerlink" title="6.26.4 (2024-06-04)"></a>6.26.4 (2024-06-04)</h2><h3 id="Bug-fixes-13"><a href="#Bug-fixes-13" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where commands with an optional second argument would get the keyboard event in that argument when called from a keymap.</p>
<p>Fix an issue that could cause the cursor to be rendered on the wrong side of a zero-length block widget.</p>
<p>Fix an issue where <code>drawSelection</code> got confused by block widgets in line-wrapped editors in some situations.</p>
<p>Don’t hide the native selection in widgets that have focus.</p>
<p>Make sure that clicking an unfocusable editor still remove focus from any other focused elements.</p>
<p>Fix a crash when loading the package in a non-browser environment.</p>
<p>Stop mouse selection when the user types.</p>
<h2 id="6-26-3-2024-04-12"><a href="#6-26-3-2024-04-12" class="headerlink" title="6.26.3 (2024-04-12)"></a>6.26.3 (2024-04-12)</h2><h3 id="Bug-fixes-14"><a href="#Bug-fixes-14" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where dispatching an update to an editor before it measured itself for the first time could cause the scroll position to incorrectly move.</p>
<p>Fix a crash when multiple tooltips with arrows are shown.</p>
<h2 id="6-26-2-2024-04-09"><a href="#6-26-2-2024-04-09" class="headerlink" title="6.26.2 (2024-04-09)"></a>6.26.2 (2024-04-09)</h2><h3 id="Bug-fixes-15"><a href="#Bug-fixes-15" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Improve behavior of <code>scrollPastEnd</code> in a scaled editor.</p>
<p>When available, use <code>Selection.getComposedRanges</code> on Safari to find the selection inside a shadow DOM.</p>
<p>Remove the workaround that avoided inappropriate styling on composed text after a decoration again, since it breaks the stock Android virtual keyboard.</p>
<h2 id="6-26-1-2024-03-28"><a href="#6-26-1-2024-03-28" class="headerlink" title="6.26.1 (2024-03-28)"></a>6.26.1 (2024-03-28)</h2><h3 id="Bug-fixes-16"><a href="#Bug-fixes-16" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix the editor getting stuck in composition when Safari fails to fire a compositionend event for a dead key composition.</p>
<p>Fix an issue where, with IME systems that kept the cursor at the start of the composed text, the editor misidentified the target node and disrupted composition.</p>
<p>Fix a bug where in a line-wrapped editor, with some content, the initial scroll position would be off from the top of the document.</p>
<h2 id="6-26-0-2024-03-14"><a href="#6-26-0-2024-03-14" class="headerlink" title="6.26.0 (2024-03-14)"></a>6.26.0 (2024-03-14)</h2><h3 id="Bug-fixes-17"><a href="#Bug-fixes-17" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid the editor getting confused when iOS autocorrects on pressing Enter and does the correction and the break insertion in two different events.</p>
<p>Fix the pasting of copied URIs in iOS.</p>
<p>Fix a bug where a scaled editor could keep performing unnecessary updates due to tiny differences in geometry values returned by the browser.</p>
<p>Fix a bug where, on iOS with a physical keyboard, the modifiers for some keys weren’t being passed to the keymaps.</p>
<p>Work around the fact that Mobile Safari makes DOM changes before firing a key event when typing ctrl-d on an external keyboard.</p>
<p>Fix an issue where some commands didn’t properly scroll the cursor into view on Mobile Safari.</p>
<p>Re-measure the document when print settings are changed on Chrome.</p>
<h3 id="New-features-7"><a href="#New-features-7" class="headerlink" title="New features"></a>New features</h3><p>The <code>EditorView.scrollHandler</code> facet can be used to override or extend the behavior of the editor when things are scrolled into view.</p>
<h2 id="6-25-1-2024-03-06"><a href="#6-25-1-2024-03-06" class="headerlink" title="6.25.1 (2024-03-06)"></a>6.25.1 (2024-03-06)</h2><h3 id="Bug-fixes-18"><a href="#Bug-fixes-18" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix accidental non-optional field in layer config objects.</p>
<h2 id="6-25-0-2024-03-04"><a href="#6-25-0-2024-03-04" class="headerlink" title="6.25.0 (2024-03-04)"></a>6.25.0 (2024-03-04)</h2><h3 id="Bug-fixes-19"><a href="#Bug-fixes-19" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Properly recognize Android GBoard enter presses that strip a space at the end of the line as enter.</p>
<p>Fix a bug that caused the gutter to have the wrong height when the editor was scaled after construction.</p>
<p>When starting a composition after a non-inclusive mark decoration, temporarily insert a widget that prevents the composed text from inheriting that mark’s styles.</p>
<p>Make sure the selection is repositioned when a transaction changes decorations without changing the document.</p>
<h3 id="New-features-8"><a href="#New-features-8" class="headerlink" title="New features"></a>New features</h3><p>View plugins can now provide a <code>docViewUpdate</code> method that is called whenever the document view is updated.</p>
<p>Layers now take a <code>updateOnDocUpdate</code> option that controls whether they are automatically updated when the document view changes.</p>
<h2 id="6-24-1-2024-02-19"><a href="#6-24-1-2024-02-19" class="headerlink" title="6.24.1 (2024-02-19)"></a>6.24.1 (2024-02-19)</h2><h3 id="Bug-fixes-20"><a href="#Bug-fixes-20" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash that happens when hover tooltips are active during changes, introduced in 6.24.0.</p>
<h2 id="6-24-0-2024-02-09"><a href="#6-24-0-2024-02-09" class="headerlink" title="6.24.0 (2024-02-09)"></a>6.24.0 (2024-02-09)</h2><h3 id="Bug-fixes-21"><a href="#Bug-fixes-21" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that broke context-menu select-all on Chrome when the viewport didn’t cover the whole document.</p>
<p>Make sure tooltips are ordered by extension precedence in the DOM.</p>
<h3 id="New-features-9"><a href="#New-features-9" class="headerlink" title="New features"></a>New features</h3><p>Hover tooltip sources may now return multiple tooltips.</p>
<h2 id="6-23-1-2024-01-24"><a href="#6-23-1-2024-01-24" class="headerlink" title="6.23.1 (2024-01-24)"></a>6.23.1 (2024-01-24)</h2><h3 id="Bug-fixes-22"><a href="#Bug-fixes-22" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused <code>Tooltip.above</code> to not take effect for tooltips that were already present when the tooltip plugin is initialized.</p>
<p>Automatically reposition tooltips when their size changes.</p>
<h2 id="6-23-0-2023-12-28"><a href="#6-23-0-2023-12-28" class="headerlink" title="6.23.0 (2023-12-28)"></a>6.23.0 (2023-12-28)</h2><h3 id="Bug-fixes-23"><a href="#Bug-fixes-23" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around odd iOS Safari behavior when doing select all.</p>
<p>Fix a composition interruption when an widget is inserted next to the cursor.</p>
<p>Fix a crash in bidirectional cursor motion.</p>
<p>Simplify visual motion through bidirectional text, fix several corner cases where it would work badly.</p>
<p>Fix a bug that broke some bidi isolates not on the first line of the document.</p>
<h3 id="New-features-10"><a href="#New-features-10" class="headerlink" title="New features"></a>New features</h3><p><code>EditorView.bidiIsolatedRanges</code> now supports automatically determining the direction of the range if not provided by the decoration.</p>
<p><code>EditorView.visualLineSide</code> can be used to find the visual end or start of a line with bidirectional text.</p>
<p>The new <code>EditorView.outerDecorations</code> facet can be used to provide decorations that should always be at the bottom of the precedence stack.</p>
<h2 id="6-22-3-2023-12-13"><a href="#6-22-3-2023-12-13" class="headerlink" title="6.22.3 (2023-12-13)"></a>6.22.3 (2023-12-13)</h2><h3 id="Bug-fixes-24"><a href="#Bug-fixes-24" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could cause tooltips to be unnecessarily be positioned absolutely.</p>
<p>Make sure that, when an editor creates tooltips immediately on initialization, the editor is attached to the document when their <code>mount</code> callback is called.</p>
<h2 id="6-22-2-2023-12-08"><a href="#6-22-2-2023-12-08" class="headerlink" title="6.22.2 (2023-12-08)"></a>6.22.2 (2023-12-08)</h2><h3 id="Bug-fixes-25"><a href="#Bug-fixes-25" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue in the bidirectional motion that could cause the cursor to get stuck in a loop when a zero-width non-joiner char was placed on a direction boundary.</p>
<p>Fix a bug that corrupts the editor’s internal view tree data structure on some types of edits, putting the editor in a broken state.</p>
<h2 id="6-22-1-2023-11-27"><a href="#6-22-1-2023-11-27" class="headerlink" title="6.22.1 (2023-11-27)"></a>6.22.1 (2023-11-27)</h2><h3 id="Bug-fixes-26"><a href="#Bug-fixes-26" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Call widget <code>destroy</code> methods when the entire editor is destroyed or reset.</p>
<p>Work around an issue on Safari on macOS Sonoma that made the native cursor visible even when <code>drawSelection</code> is enabled.</p>
<p>Fix an issue where, on some browsers, the screenreader announced text ended up in the printed document.</p>
<p>Fix a bug where a hover tooltip could stick around even though the pointer was no longer on the editor when it was moved out over the tooltip.</p>
<p>Fix an issue where hover tooltips could close when moving the mouse onto them due to mouse position rounding issues.</p>
<h2 id="6-22-0-2023-11-03"><a href="#6-22-0-2023-11-03" class="headerlink" title="6.22.0 (2023-11-03)"></a>6.22.0 (2023-11-03)</h2><h3 id="Bug-fixes-27"><a href="#Bug-fixes-27" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Exceptions raised by update listeners are now routed to the configured exception sink, if any.</p>
<p>Fix an issue where passing large scroll margins to <code>scrollIntoView</code> would cause the measure loop to fail to terminate.</p>
<p>Widgets that are draggable (and allow drag events through in their <code>ignoreEvent</code> implementation) can now use the editor’s built-in drag&#x2F;drop behavior.</p>
<h3 id="New-features-11"><a href="#New-features-11" class="headerlink" title="New features"></a>New features</h3><p>The new <code>scrollTo</code> option to <code>EditorView</code> allows an initial scroll position to be provided.</p>
<p>The new <code>EditorView.scrollSnapshot</code> method returns an effect that can be used to reset to a previous scroll position.</p>
<h2 id="6-21-4-2023-10-24"><a href="#6-21-4-2023-10-24" class="headerlink" title="6.21.4 (2023-10-24)"></a>6.21.4 (2023-10-24)</h2><h3 id="Bug-fixes-28"><a href="#Bug-fixes-28" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Support the <code>offset</code>, <code>getCoords</code>, <code>overlap</code>, and <code>resize</code> properties on hover tooltips, as long as they aren’t given conflicting values when there are multiple active hover tooltips.</p>
<p>Fix a bug that caused tooltips in the default configuration to be positioned incorrectly on Chrome when the editor was transformed.</p>
<h2 id="6-21-3-2023-10-06"><a href="#6-21-3-2023-10-06" class="headerlink" title="6.21.3 (2023-10-06)"></a>6.21.3 (2023-10-06)</h2><h3 id="Bug-fixes-29"><a href="#Bug-fixes-29" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that caused <code>coordsForChar</code> to return the wrong rectangle for characters after a line wrap in Safari.</p>
<p>Make the context menu work when clicking below the content in a fixed-height editor.</p>
<p>Tooltips that have been put below&#x2F;above their target position because there is no room on their default side now stay there on further updates.</p>
<h2 id="6-21-2-2023-10-02"><a href="#6-21-2-2023-10-02" class="headerlink" title="6.21.2 (2023-10-02)"></a>6.21.2 (2023-10-02)</h2><h3 id="Bug-fixes-30"><a href="#Bug-fixes-30" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression that broke dragging text from inside the editor.</p>
<h2 id="6-21-1-2023-10-02"><a href="#6-21-1-2023-10-02" class="headerlink" title="6.21.1 (2023-10-02)"></a>6.21.1 (2023-10-02)</h2><h3 id="Bug-fixes-31"><a href="#Bug-fixes-31" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could corrupt the DOM view for specific changes involving newlines and mark decorations.</p>
<h2 id="6-21-0-2023-09-29"><a href="#6-21-0-2023-09-29" class="headerlink" title="6.21.0 (2023-09-29)"></a>6.21.0 (2023-09-29)</h2><h3 id="Bug-fixes-32"><a href="#Bug-fixes-32" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could cause zero-length widgets at the start of a line to be left in the view even after they were removed.</p>
<h3 id="New-features-12"><a href="#New-features-12" class="headerlink" title="New features"></a>New features</h3><p><code>RectangleMarker</code>‘s dimension properties are now public.</p>
<h2 id="6-20-2-2023-09-25"><a href="#6-20-2-2023-09-25" class="headerlink" title="6.20.2 (2023-09-25)"></a>6.20.2 (2023-09-25)</h2><h3 id="Bug-fixes-33"><a href="#Bug-fixes-33" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue in the way the DOM selection is being read that could break backspacing of widgets on Android.</p>
<p>Fix a bug where the editor could incorrectly computate its transform scale when it was small.</p>
<h2 id="6-20-1-2023-09-22"><a href="#6-20-1-2023-09-22" class="headerlink" title="6.20.1 (2023-09-22)"></a>6.20.1 (2023-09-22)</h2><h3 id="Bug-fixes-34"><a href="#Bug-fixes-34" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash in plugin event handlers after dynamic reconfiguration.</p>
<p>Fix an issue where, on Chrome, tooltips would no longer use fixed positioning.</p>
<h2 id="6-20-0-2023-09-20"><a href="#6-20-0-2023-09-20" class="headerlink" title="6.20.0 (2023-09-20)"></a>6.20.0 (2023-09-20)</h2><h3 id="Bug-fixes-35"><a href="#Bug-fixes-35" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that caused <code>repositionTooltips</code> to crash when it was called on an editor without tooltips.</p>
<p>Fix an issue that caused the tooltip system to leave empty nodes in the DOM when an editor using the <code>parent</code> option to <code>tooltips</code> is destroyed.</p>
<p>Fix a bug that regression mouse interaction with the area of a fixed-size editor that isn’t covered by the content.</p>
<p>Fix some issues with the way <code>moveVertically</code> behaved for positions on line wrap points.</p>
<p>Fix a bug that could cause the document DOM to be incorrectly updated on some types of viewport changes.</p>
<h3 id="New-features-13"><a href="#New-features-13" class="headerlink" title="New features"></a>New features</h3><p>The new <code>getDrawSelectionConfig</code> function returns the <code>drawSelection</code> configuration for a given state.</p>
<h2 id="6-19-0-2023-09-14"><a href="#6-19-0-2023-09-14" class="headerlink" title="6.19.0 (2023-09-14)"></a>6.19.0 (2023-09-14)</h2><h3 id="Bug-fixes-36"><a href="#Bug-fixes-36" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure the drop cursor is properly cleaned up even when another extension handles the drop event.</p>
<p>Fix a crash related to non-inclusive replacing block decorations.</p>
<h3 id="New-features-14"><a href="#New-features-14" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.domEventObservers</code> (and the corresponding option to view plugins) allows you to register functions that are always called for an event, regardless of whether other handlers handled it.</p>
<h2 id="6-18-1-2023-09-11"><a href="#6-18-1-2023-09-11" class="headerlink" title="6.18.1 (2023-09-11)"></a>6.18.1 (2023-09-11)</h2><h3 id="Bug-fixes-37"><a href="#Bug-fixes-37" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the editor duplicated text when the browser moved content into the focused text node on composition.</p>
<p>Make sure <code>widgetMarker</code> is called for gutters on lines covered by a block replace decoration.</p>
<p>Fix an issue where the cursor could be shown in a position that doesn’t allow a cursor when the selection is in a block widget.</p>
<h2 id="6-18-0-2023-09-05"><a href="#6-18-0-2023-09-05" class="headerlink" title="6.18.0 (2023-09-05)"></a>6.18.0 (2023-09-05)</h2><h3 id="New-features-15"><a href="#New-features-15" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.scaleX</code> and <code>scaleY</code> properties return the CSS-transformed scale of the editor (or 1 when not scaled).</p>
<p>The editor now supports being scaled with CSS.</p>
<h2 id="6-17-1-2023-08-31"><a href="#6-17-1-2023-08-31" class="headerlink" title="6.17.1 (2023-08-31)"></a>6.17.1 (2023-08-31)</h2><h3 id="Bug-fixes-38"><a href="#Bug-fixes-38" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t close the hover tooltip when the pointer moves over empty space caused by line breaks within the hovered range.</p>
<p>Fix a bug where on Chrome Android, if a virtual keyboard was slow to apply a change, the editor could end up dropping it.</p>
<p>Work around an issue where line-wise copy&#x2F;cut didn’t work in Firefox because the browser wasn’t firing those events when nothing was selected.</p>
<p>Fix a crash triggered by the way some Android IME systems update the DOM.</p>
<p>Fix a bug that caused replacing a word by an emoji on Chrome Android to be treated as a backspace press.</p>
<h2 id="6-17-0-2023-08-28"><a href="#6-17-0-2023-08-28" class="headerlink" title="6.17.0 (2023-08-28)"></a>6.17.0 (2023-08-28)</h2><h3 id="Bug-fixes-39"><a href="#Bug-fixes-39" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that broke hover tooltips when hovering over a widget.</p>
<h3 id="New-features-16"><a href="#New-features-16" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.cspNonce</code> facet can be used to provide a Content Security Policy nonce for the library’s generated CSS.</p>
<p>The new <code>EditorView.bidiIsolatedRanges</code> can be used to inform the editor about ranges styled as Unicode bidirection isolates, so that it can compute the character order correctly.</p>
<p><code>EditorView.dispatch</code> now also accepts an array of transactions to be applied together in a single view update.</p>
<p>The new <code>dispatchTransactions</code> option to <code>new EditorView</code> now replaces the old (deprecated but still supported) <code>dispatch</code> option in a way that allows multiple transactions to be applied in one update.</p>
<p>Input handlers are now passed an additional argument that they can use to retrieve the default transaction that would be applied for the insertion.</p>
<h2 id="6-16-0-2023-07-31"><a href="#6-16-0-2023-07-31" class="headerlink" title="6.16.0 (2023-07-31)"></a>6.16.0 (2023-07-31)</h2><h3 id="Bug-fixes-40"><a href="#Bug-fixes-40" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that made the gutter not stick in place when the editor was in a right-to-left context.</p>
<h3 id="New-features-17"><a href="#New-features-17" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.coordsForChar</code> method returns the client rectangle for a given character in the editor.</p>
<h2 id="6-15-3-2023-07-18"><a href="#6-15-3-2023-07-18" class="headerlink" title="6.15.3 (2023-07-18)"></a>6.15.3 (2023-07-18)</h2><h3 id="Bug-fixes-41"><a href="#Bug-fixes-41" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix another crash regression for compositions before line breaks.</p>
<h2 id="6-15-2-2023-07-18"><a href="#6-15-2-2023-07-18" class="headerlink" title="6.15.2 (2023-07-18)"></a>6.15.2 (2023-07-18)</h2><h3 id="Bug-fixes-42"><a href="#Bug-fixes-42" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix the check that made sure compositions are dropped when the selection is moved.</p>
<h2 id="6-15-1-2023-07-18"><a href="#6-15-1-2023-07-18" class="headerlink" title="6.15.1 (2023-07-18)"></a>6.15.1 (2023-07-18)</h2><h3 id="Bug-fixes-43"><a href="#Bug-fixes-43" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression that could cause the composition content to be drawn incorrectly.</p>
<h2 id="6-15-0-2023-07-17"><a href="#6-15-0-2023-07-17" class="headerlink" title="6.15.0 (2023-07-17)"></a>6.15.0 (2023-07-17)</h2><h3 id="Bug-fixes-44"><a href="#Bug-fixes-44" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix dragging a selection from inside the current selection on macOS.</p>
<p>Fix an issue that could cause the scroll position to jump wildly</p>
<p>Don’t try to scroll fixed-positioned elements into view by scrolling their parent elements.</p>
<p>Fix a bug that caused the cursor to be hidden when showing a placeholder that consisted of the empty string.</p>
<p>Resolve some issues where composition could incorrectly affect nearby replaced content.</p>
<h3 id="New-features-18"><a href="#New-features-18" class="headerlink" title="New features"></a>New features</h3><p>Key bindings can now set a <code>stopPropagation</code> field to cause the view to stop the key event propagation when it considers the event handled.</p>
<h2 id="6-14-1-2023-07-06"><a href="#6-14-1-2023-07-06" class="headerlink" title="6.14.1 (2023-07-06)"></a>6.14.1 (2023-07-06)</h2><h3 id="Bug-fixes-45"><a href="#Bug-fixes-45" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where scrolling up through line-wrapped text would sometimes cause the scroll position to pop down.</p>
<p>Fix an issue where clicking wouldn’t focus the editor on Firefox when it was in an iframe and already the active element of the frame.</p>
<p>Fix a bug that could cause compositions to be disrupted because their surrounding DOM was repurposed for some other piece of content.</p>
<p>Fix a bug where adding content to the editor could inappropriately move the scroll position.</p>
<p>Extend detection of Enter presses on Android to <code>beforeInput</code> events with an <code>&quot;insertLineBreak&quot;</code> type.</p>
<h2 id="6-14-0-2023-06-23"><a href="#6-14-0-2023-06-23" class="headerlink" title="6.14.0 (2023-06-23)"></a>6.14.0 (2023-06-23)</h2><h3 id="Bug-fixes-46"><a href="#Bug-fixes-46" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>When dragging text inside the editor, look at the state of Ctrl (or Alt on macOS) at the time of the drop, not the start of drag, to determine whether to move or copy the text.</p>
<p>Fix an issue where having a bunch of padding on lines could cause vertical cursor motion and <code>posAtCoords</code> to jump over lines.</p>
<h3 id="New-features-19"><a href="#New-features-19" class="headerlink" title="New features"></a>New features</h3><p>Block widget decorations can now be given an <code>inlineOrder</code> option to make them appear in the same ordering as surrounding inline widgets.</p>
<h2 id="6-13-2-2023-06-13"><a href="#6-13-2-2023-06-13" class="headerlink" title="6.13.2 (2023-06-13)"></a>6.13.2 (2023-06-13)</h2><h3 id="Bug-fixes-47"><a href="#Bug-fixes-47" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue in scroll position stabilization for changes above the visible, where Chrome already does this natively and we ended up compensating twice.</p>
<h2 id="6-13-1-2023-06-12"><a href="#6-13-1-2023-06-12" class="headerlink" title="6.13.1 (2023-06-12)"></a>6.13.1 (2023-06-12)</h2><h3 id="Bug-fixes-48"><a href="#Bug-fixes-48" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where the cursor would in some circumstances be drawn on the wrong side of an inline widget.</p>
<p>Fix an issue where <code>scrollPastEnd</code> could cause the scroll position of editors that weren’t in view to be changed unnecessarily.</p>
<h2 id="6-13-0-2023-06-05"><a href="#6-13-0-2023-06-05" class="headerlink" title="6.13.0 (2023-06-05)"></a>6.13.0 (2023-06-05)</h2><h3 id="Bug-fixes-49"><a href="#Bug-fixes-49" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Forbid widget decoration side values bigger than 10000, to prevent them from breaking range ordering invariants.</p>
<p>Fix a bug where differences between widgets’ estimated and actual heights could cause the editor to inappropriately move the scroll position.</p>
<p>Avoid another situation in which composition that inserts line breaks could corrupt the editor DOM.</p>
<h3 id="New-features-20"><a href="#New-features-20" class="headerlink" title="New features"></a>New features</h3><p>Inline widgets may now introduce line breaks, if they report this through the <code>WidgetType.lineBreaks</code> property.</p>
<h2 id="6-12-0-2023-05-18"><a href="#6-12-0-2023-05-18" class="headerlink" title="6.12.0 (2023-05-18)"></a>6.12.0 (2023-05-18)</h2><h3 id="Bug-fixes-50"><a href="#Bug-fixes-50" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Remove an accidentally included <code>console.log</code>.</p>
<h3 id="New-features-21"><a href="#New-features-21" class="headerlink" title="New features"></a>New features</h3><p><code>EditorViewConfig.dispatch</code> is now passed the view object as a second argument.</p>
<h2 id="6-11-3-2023-05-17"><a href="#6-11-3-2023-05-17" class="headerlink" title="6.11.3 (2023-05-17)"></a>6.11.3 (2023-05-17)</h2><h3 id="Bug-fixes-51"><a href="#Bug-fixes-51" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure pointer selection respects <code>EditorView.atomicRanges</code>.</p>
<p>Preserve DOM widgets when their decoration type changes but they otherwise stay in the same place.</p>
<p>Fix a bug in <code>drawSelection</code> that could lead to invisible or incorrect selections for a blank line below a block widget.</p>
<h2 id="6-11-2-2023-05-13"><a href="#6-11-2-2023-05-13" class="headerlink" title="6.11.2 (2023-05-13)"></a>6.11.2 (2023-05-13)</h2><h3 id="Bug-fixes-52"><a href="#Bug-fixes-52" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where the <code>crosshairCursor</code> extension could, when non-native key events were fired, trigger disruptive and needless view updates.</p>
<p>Fix an Android issue where backspacing at the front of a line with widget decorations could replace those decorations with their text content.</p>
<p>Respect scroll margins when scrolling the target of drag-selection into view.</p>
<p>Validate selection offsets reported by the browser, to work around Safari giving us invalid values in some cases.</p>
<h2 id="6-11-1-2023-05-09"><a href="#6-11-1-2023-05-09" class="headerlink" title="6.11.1 (2023-05-09)"></a>6.11.1 (2023-05-09)</h2><h3 id="Bug-fixes-53"><a href="#Bug-fixes-53" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t preserve the DOM around a composition that spans multiple lines.</p>
<h2 id="6-11-0-2023-05-03"><a href="#6-11-0-2023-05-03" class="headerlink" title="6.11.0 (2023-05-03)"></a>6.11.0 (2023-05-03)</h2><h3 id="New-features-22"><a href="#New-features-22" class="headerlink" title="New features"></a>New features</h3><p>Gutters now support a <code>widgetMarker</code> option that can be used to add markers next to block widgets.</p>
<h2 id="6-10-1-2023-05-01"><a href="#6-10-1-2023-05-01" class="headerlink" title="6.10.1 (2023-05-01)"></a>6.10.1 (2023-05-01)</h2><h3 id="Bug-fixes-54"><a href="#Bug-fixes-54" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Limit cursor height in front of custom placeholder DOM elements.</p>
<h2 id="6-10-0-2023-04-25"><a href="#6-10-0-2023-04-25" class="headerlink" title="6.10.0 (2023-04-25)"></a>6.10.0 (2023-04-25)</h2><h3 id="Bug-fixes-55"><a href="#Bug-fixes-55" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash in <code>drawSelection</code> when a measured position falls on a position that doesn’t have corresponding screen coordinates.</p>
<p>Work around unhelpful interaction observer behavior that could cause the editor to not notice it was visible.</p>
<p>Give the cursor next to a line-wrapped placeholder a single-line height.</p>
<p>Make sure drop events below the editable element in a fixed-height editor get handled properly.</p>
<h3 id="New-features-23"><a href="#New-features-23" class="headerlink" title="New features"></a>New features</h3><p>Widget decorations can now define custom <code>coordsAtPos</code> methods to control the way the editor computes screen positions at or in the widget.</p>
<h2 id="6-9-6-2023-04-21"><a href="#6-9-6-2023-04-21" class="headerlink" title="6.9.6 (2023-04-21)"></a>6.9.6 (2023-04-21)</h2><h3 id="Bug-fixes-56"><a href="#Bug-fixes-56" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where, when escape was pressed followed by a key that the editor handled, followed by tab, the tab would still move focus.</p>
<p>Fix an issue where, in some circumstances, the editor would ignore text changes at the end of a composition.</p>
<p>Allow inline widgets to be updated to a different length via <code>updateDOM</code>.</p>
<h2 id="6-9-5-2023-04-17"><a href="#6-9-5-2023-04-17" class="headerlink" title="6.9.5 (2023-04-17)"></a>6.9.5 (2023-04-17)</h2><h3 id="Bug-fixes-57"><a href="#Bug-fixes-57" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid disrupting the composition in specific cases where Safari invasively changes the DOM structure in the middle of a composition.</p>
<p>Fix a bug that prevented <code>destroy</code> being called on hover tooltips.</p>
<p>Fix a bug where the editor could take focus when content changes required it to restore the DOM selection.</p>
<p>Fix height layout corruption caused by a division by zero.</p>
<p>Make sure styles targeting the editor’s focus status are specific enough to not cause them to apply to editors nested inside another focused editor. This will require themes to adjust their selection background styles to match the new specificity.</p>
<h2 id="6-9-4-2023-04-11"><a href="#6-9-4-2023-04-11" class="headerlink" title="6.9.4 (2023-04-11)"></a>6.9.4 (2023-04-11)</h2><h3 id="Bug-fixes-58"><a href="#Bug-fixes-58" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make the editor scroll while dragging a selection near its sides, even if the cursor isn’t outside the scrollable element.</p>
<p>Fix a bug that interrupted composition after widgets in some circumstances on Firefox.</p>
<p>Make sure the last change in a composition has its user event set to <code>input.type.compose</code>, even if the <code>compositionend</code> event fires before the changes are applied.</p>
<p>Make it possible to remove additional selection ranges by clicking on them with ctrl&#x2F;cmd held, even if they aren’t cursors.</p>
<p>Keep widget buffers between widgets and compositions, since removing them confuses IME on macOS Firefox.</p>
<p>Fix a bug where, for DOM changes that put the selection in the middle of the changed range, the editor incorrectly set its selection state.</p>
<p>Fix a bug where <code>coordsAtPos</code> could return a coordinates before the line break when querying a line-wrapped position with a positive <code>side</code>.</p>
<h2 id="6-9-3-2023-03-21"><a href="#6-9-3-2023-03-21" class="headerlink" title="6.9.3 (2023-03-21)"></a>6.9.3 (2023-03-21)</h2><h3 id="Bug-fixes-59"><a href="#Bug-fixes-59" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around a Firefox issue that caused <code>coordsAtPos</code> to return rectangles with the full line height on empty lines.</p>
<p>Opening a context menu by clicking below the content element but inside the editor now properly shows the browser’s menu for editable elements.</p>
<p>Fix an issue that broke composition (especially of Chinese IME) after widget decorations.</p>
<p>Fix an issue that would cause the cursor to jump around during compositions inside nested mark decorations.</p>
<h2 id="6-9-2-2023-03-08"><a href="#6-9-2-2023-03-08" class="headerlink" title="6.9.2 (2023-03-08)"></a>6.9.2 (2023-03-08)</h2><h3 id="Bug-fixes-60"><a href="#Bug-fixes-60" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around a Firefox CSS bug that caused cursors to stop blinking in a scrolled editor.</p>
<p>Fix an issue in <code>drawSelection</code> where the selection extended into the editor’s padding.</p>
<p>Fix pasting of links copied from iOS share sheet.</p>
<h2 id="6-9-1-2023-02-17"><a href="#6-9-1-2023-02-17" class="headerlink" title="6.9.1 (2023-02-17)"></a>6.9.1 (2023-02-17)</h2><h3 id="Bug-fixes-61"><a href="#Bug-fixes-61" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Improve the way <code>posAtCoords</code> picks the side of a widget to return by comparing the coordinates the center of the widget.</p>
<p>Fix an issue where transactions created for the <code>focusChangeEffect</code> facet were sometimes not dispatched.</p>
<h2 id="6-9-0-2023-02-15"><a href="#6-9-0-2023-02-15" class="headerlink" title="6.9.0 (2023-02-15)"></a>6.9.0 (2023-02-15)</h2><h3 id="Bug-fixes-62"><a href="#Bug-fixes-62" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where inaccurate estimated vertical positions could cause the viewport to not converge in line-wrapped editors.</p>
<p>Don’t suppress double-space to period conversion when autocorrect is enabled.</p>
<p>Make sure the measuring code notices when the scaling of the editor is changed, and does a full measure in that case.</p>
<h3 id="New-features-24"><a href="#New-features-24" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.focusChangeEffect</code> facet can be used to dispatch a state effect when the editor is focused or blurred.</p>
<h2 id="6-8-1-2023-02-08"><a href="#6-8-1-2023-02-08" class="headerlink" title="6.8.1 (2023-02-08)"></a>6.8.1 (2023-02-08)</h2><h3 id="Bug-fixes-63"><a href="#Bug-fixes-63" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where tooltips that have their height reduced have their height flicker when scrolling or otherwise interacting with the editor.</p>
<h2 id="6-8-0-2023-02-07"><a href="#6-8-0-2023-02-07" class="headerlink" title="6.8.0 (2023-02-07)"></a>6.8.0 (2023-02-07)</h2><h3 id="Bug-fixes-64"><a href="#Bug-fixes-64" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression that caused clicking on the scrollbar to move the selection.</p>
<p>Fix an issue where focus or blur event handlers that dispatched editor transactions could corrupt the mouse selection state.</p>
<p>Fix a CSS regression that prevented the drop cursor from being positioned properly.</p>
<h3 id="New-features-25"><a href="#New-features-25" class="headerlink" title="New features"></a>New features</h3><p><code>WidgetType.updateDOM</code> is now passed the editor view object.</p>
<h2 id="6-7-3-2023-01-12"><a href="#6-7-3-2023-01-12" class="headerlink" title="6.7.3 (2023-01-12)"></a>6.7.3 (2023-01-12)</h2><h3 id="Bug-fixes-65"><a href="#Bug-fixes-65" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug in <code>posAtCoords</code> that could cause incorrect results for positions to the left of a wrapped line.</p>
<h2 id="6-7-2-2023-01-04"><a href="#6-7-2-2023-01-04" class="headerlink" title="6.7.2 (2023-01-04)"></a>6.7.2 (2023-01-04)</h2><h3 id="Bug-fixes-66"><a href="#Bug-fixes-66" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression where the cursor didn’t restart its blink cycle when moving it with the pointer.</p>
<p>Even without a <code>key</code> property, measure request objects that are already scheduled will not be scheduled again by <code>requestMeasure</code>.</p>
<p>Fix an issue where keymaps incorrectly interpreted key events that used Ctrl+Alt modifiers to simulate AltGr on Windows.</p>
<p>Fix a bug where line decorations with a different <code>class</code> property would be treated as equal.</p>
<p>Fix a bug that caused <code>drawSelection</code> to not notice when it was reconfigured.</p>
<p>Fix a crash in the gutter extension caused by sharing of mutable arrays.</p>
<p>Fix a regression that caused touch selection on mobile platforms to not work in an uneditable editor.</p>
<p>Fix a bug where DOM events on the boundary between lines could get assigned to the wrong line.</p>
<h2 id="6-7-1-2022-12-12"><a href="#6-7-1-2022-12-12" class="headerlink" title="6.7.1 (2022-12-12)"></a>6.7.1 (2022-12-12)</h2><h3 id="Bug-fixes-67"><a href="#Bug-fixes-67" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make the editor properly scroll when moving the pointer out of it during drag selection.</p>
<p>Fix a regression where clicking below the content element in an editor with its own height didn’t focus the editor.</p>
<h2 id="6-7-0-2022-12-07"><a href="#6-7-0-2022-12-07" class="headerlink" title="6.7.0 (2022-12-07)"></a>6.7.0 (2022-12-07)</h2><h3 id="Bug-fixes-68"><a href="#Bug-fixes-68" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make the editor notice widget height changes to automatically adjust its height information.</p>
<p>Fix an issue where widget buffers could be incorrectly omitted after empty lines.</p>
<p>Fix an issue in content redrawing that could cause <code>coordsAtPos</code> to return incorrect results.</p>
<h3 id="New-features-26"><a href="#New-features-26" class="headerlink" title="New features"></a>New features</h3><p>The static <code>RectangleMarker.forRange</code> method exposes the logic used by the editor to draw rectangles covering a selection range.</p>
<p>Layers can now provide a <code>destroy</code> function to be called when the layer is removed.</p>
<p>The new <code>highlightWhitespace</code> extension makes spaces and tabs in the editor visible.</p>
<p>The <code>highlightTrailingWhitespace</code> extension can be used to make trailing whitespace stand out.</p>
<h2 id="6-6-0-2022-11-24"><a href="#6-6-0-2022-11-24" class="headerlink" title="6.6.0 (2022-11-24)"></a>6.6.0 (2022-11-24)</h2><h3 id="New-features-27"><a href="#New-features-27" class="headerlink" title="New features"></a>New features</h3><p>The <code>layer</code> function can now be used to define extensions that draw DOM elements over or below the document text.</p>
<p>Tooltips that are bigger than the available vertical space for them will now have their height set so that they don’t stick out of the window. The new <code>resize</code> property on <code>TooltipView</code> can be used to opt out of this behavior.</p>
<h2 id="6-5-1-2022-11-15"><a href="#6-5-1-2022-11-15" class="headerlink" title="6.5.1 (2022-11-15)"></a>6.5.1 (2022-11-15)</h2><h3 id="Bug-fixes-69"><a href="#Bug-fixes-69" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused marked unnecessary splitting of mark decoration DOM elements in some cases.</p>
<h2 id="6-5-0-2022-11-14"><a href="#6-5-0-2022-11-14" class="headerlink" title="6.5.0 (2022-11-14)"></a>6.5.0 (2022-11-14)</h2><h3 id="Bug-fixes-70"><a href="#Bug-fixes-70" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where key bindings were activated for the wrong key in some situations with non-US keyboards.</p>
<h3 id="New-features-28"><a href="#New-features-28" class="headerlink" title="New features"></a>New features</h3><p>A tooltip’s <code>positioned</code> callback is now passed the available space for tooltips.</p>
<h2 id="6-4-2-2022-11-10"><a href="#6-4-2-2022-11-10" class="headerlink" title="6.4.2 (2022-11-10)"></a>6.4.2 (2022-11-10)</h2><h3 id="Bug-fixes-71"><a href="#Bug-fixes-71" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Typing into a read-only editor no longer moves the cursor.</p>
<p>Fix an issue where hover tooltips were closed when the mouse was moved over them if they had a custom parent element.</p>
<p>Fix an issue where the editor could end up displaying incorrect height measurements (typically after initializing).</p>
<h2 id="6-4-1-2022-11-07"><a href="#6-4-1-2022-11-07" class="headerlink" title="6.4.1 (2022-11-07)"></a>6.4.1 (2022-11-07)</h2><h3 id="Bug-fixes-72"><a href="#Bug-fixes-72" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where coordinates next to replaced widgets were returned incorrectly, causing the cursor to be drawn in the wrong place.</p>
<p>Update the <code>crosshairCursor</code> state on every mousemove event.</p>
<p>Avoid an issue in the way that the editor enforces cursor associativity that could cause the cursor to get stuck on single-character wrapped lines.</p>
<h2 id="6-4-0-2022-10-18"><a href="#6-4-0-2022-10-18" class="headerlink" title="6.4.0 (2022-10-18)"></a>6.4.0 (2022-10-18)</h2><h3 id="Bug-fixes-73"><a href="#Bug-fixes-73" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid an issue where <code>scrollPastEnd</code> makes a single-line editor have a vertical scrollbar.</p>
<p>Work around a Chrome bug where it inserts a newline when you press space at the start of a wrapped line.</p>
<p>Align <code>rectangularSelection</code>‘s behavior with other popular editors by making it create cursors at the end of lines that are too short to touch the rectangle.</p>
<p>Fix an issue where coordinates on mark decoration boundaries were sometimes taken from the wrong side of the position.</p>
<p>Prevent scrolling artifacts caused by attempts to scroll stuff into view when the editor isn’t being displayed.</p>
<h3 id="New-features-29"><a href="#New-features-29" class="headerlink" title="New features"></a>New features</h3><p><code>TooltipView</code> objects can now provide a <code>destroy</code> method to be called when the tooltip is removed.</p>
<h2 id="6-3-1-2022-10-10"><a href="#6-3-1-2022-10-10" class="headerlink" title="6.3.1 (2022-10-10)"></a>6.3.1 (2022-10-10)</h2><h3 id="Bug-fixes-74"><a href="#Bug-fixes-74" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash when trying to scroll something into view in an editor that wasn’t in the visible DOM.</p>
<p>Fix an issue where <code>coordsAtPos</code> returned the coordinates on the wrong side of a widget decoration wrapped in a mark decoration.</p>
<p>Fix an issue where content on long wrapped lines could fail to properly scroll into view.</p>
<p>Fix an issue where DOM change reading on Chrome Android could get confused when a transaction came in right after a beforeinput event for backspace, enter, or delete.</p>
<h2 id="6-3-0-2022-09-28"><a href="#6-3-0-2022-09-28" class="headerlink" title="6.3.0 (2022-09-28)"></a>6.3.0 (2022-09-28)</h2><h3 id="Bug-fixes-75"><a href="#Bug-fixes-75" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Reduce the amount of wrap-point jittering when scrolling through a very long wrapped line.</p>
<p>Fix an issue where scrolling to content that wasn’t currently drawn due to being on a very long line would often fail to scroll to the right position.</p>
<p>Suppress double-space-adds-period behavior on Chrome Mac when it behaves weirdly next to widget.</p>
<h3 id="New-features-30"><a href="#New-features-30" class="headerlink" title="New features"></a>New features</h3><p>Key binding objects with an <code>any</code> property will now add handlers that are called for any key, within the ordering of the keybindings.</p>
<h2 id="6-2-5-2022-09-24"><a href="#6-2-5-2022-09-24" class="headerlink" title="6.2.5 (2022-09-24)"></a>6.2.5 (2022-09-24)</h2><h3 id="Bug-fixes-76"><a href="#Bug-fixes-76" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t override double&#x2F;triple tap behavior on touch screen devices, so that the mobile selection menu pops up properly.</p>
<p>Fix an issue where updating the selection could crash on Safari when the editor was hidden.</p>
<h2 id="6-2-4-2022-09-16"><a href="#6-2-4-2022-09-16" class="headerlink" title="6.2.4 (2022-09-16)"></a>6.2.4 (2022-09-16)</h2><h3 id="Bug-fixes-77"><a href="#Bug-fixes-77" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Highlight the active line even when there is a selection. Prevent the active line background from obscuring the selection backdrop.</p>
<p>Fix an issue where elements with negative margins would confuse the editor’s scrolling-into-view logic.</p>
<p>Fix scrolling to a specific position in an editor that has not been in view yet.</p>
<h2 id="6-2-3-2022-09-08"><a href="#6-2-3-2022-09-08" class="headerlink" title="6.2.3 (2022-09-08)"></a>6.2.3 (2022-09-08)</h2><h3 id="Bug-fixes-78"><a href="#Bug-fixes-78" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where cursor motion, when starting from a non-empty selection range, could get stuck on atomic ranges in some circumstances.</p>
<p>Avoid triggering Chrome Android’s text-duplication issue when a period is typed in the middle of a word.</p>
<h2 id="6-2-2-2022-08-31"><a href="#6-2-2-2022-08-31" class="headerlink" title="6.2.2 (2022-08-31)"></a>6.2.2 (2022-08-31)</h2><h3 id="Bug-fixes-79"><a href="#Bug-fixes-79" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t reset the selection for selection change events that were suppressed by a node view.</p>
<h2 id="6-2-1-2022-08-25"><a href="#6-2-1-2022-08-25" class="headerlink" title="6.2.1 (2022-08-25)"></a>6.2.1 (2022-08-25)</h2><h3 id="Bug-fixes-80"><a href="#Bug-fixes-80" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t use the global <code>document</code> variable to track focus, since that doesn’t work in another window&#x2F;frame.</p>
<p>Fix an issue where key handlers that didn’t return true were sometimes called twice for the same keypress.</p>
<p>Avoid editing glitches when using deletion keys like ctrl-d on iOS.</p>
<p>Properly treat characters from the ‘Arabic Presentation Forms-A’ Unicode block as right-to-left.</p>
<p>Work around a Firefox bug that inserts text at the wrong point for specific cross-line selections.</p>
<h2 id="6-2-0-2022-08-05"><a href="#6-2-0-2022-08-05" class="headerlink" title="6.2.0 (2022-08-05)"></a>6.2.0 (2022-08-05)</h2><h3 id="Bug-fixes-81"><a href="#Bug-fixes-81" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where <code>posAtCoords</code> would return the wrong results for positions to the right of wrapped lines.</p>
<h3 id="New-features-31"><a href="#New-features-31" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.setRoot</code> method can be used when an editor view is moved to a new document or shadow root.</p>
<h2 id="6-1-4-2022-08-04"><a href="#6-1-4-2022-08-04" class="headerlink" title="6.1.4 (2022-08-04)"></a>6.1.4 (2022-08-04)</h2><h3 id="Bug-fixes-82"><a href="#Bug-fixes-82" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make selection-restoration on focus more reliable.</p>
<h2 id="6-1-3-2022-08-03"><a href="#6-1-3-2022-08-03" class="headerlink" title="6.1.3 (2022-08-03)"></a>6.1.3 (2022-08-03)</h2><h3 id="Bug-fixes-83"><a href="#Bug-fixes-83" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where a document that contains only non-printing characters would lead to bogus text measurements (and, from those, to crashing).</p>
<p>Make sure differences between estimated and actual block heights don’t cause visible scroll glitches.</p>
<h2 id="6-1-2-2022-07-27"><a href="#6-1-2-2022-07-27" class="headerlink" title="6.1.2 (2022-07-27)"></a>6.1.2 (2022-07-27)</h2><h3 id="Bug-fixes-84"><a href="#Bug-fixes-84" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where double tapping enter to confirm IME input and insert a newline on iOS would sometimes insert two newlines.</p>
<p>Fix an issue on iOS where a composition could get aborted if the editor scrolled on backspace.</p>
<h2 id="6-1-1-2022-07-25"><a href="#6-1-1-2022-07-25" class="headerlink" title="6.1.1 (2022-07-25)"></a>6.1.1 (2022-07-25)</h2><h3 id="Bug-fixes-85"><a href="#Bug-fixes-85" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make <code>highlightSpecialChars</code> replace directional isolate characters by default.</p>
<p>The editor will now try to suppress browsers’ native behavior of resetting the selection in the editable content when the editable element is focused (programmatically, with tab, etc).</p>
<p>Fix a CSS issue that made it possible, when the gutters were wide enough, for them to overlap with the content.</p>
<h2 id="6-1-0-2022-07-19"><a href="#6-1-0-2022-07-19" class="headerlink" title="6.1.0 (2022-07-19)"></a>6.1.0 (2022-07-19)</h2><h3 id="New-features-32"><a href="#New-features-32" class="headerlink" title="New features"></a>New features</h3><p><code>MatchDecorator</code> now supports a <code>decorate</code> option that can be used to customize the way decorations are added for each match.</p>
<h2 id="6-0-3-2022-07-08"><a href="#6-0-3-2022-07-08" class="headerlink" title="6.0.3 (2022-07-08)"></a>6.0.3 (2022-07-08)</h2><h3 id="Bug-fixes-86"><a href="#Bug-fixes-86" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a problem where <code>posAtCoords</code> could incorrectly return the start of the next line when querying positions between lines.</p>
<p>Fix an issue where registering a high-precedence keymap made keymap handling take precedence over other keydown event handlers.</p>
<p>Ctrl&#x2F;Cmd-clicking can now remove ranges from a multi-range selection.</p>
<h2 id="6-0-2-2022-06-23"><a href="#6-0-2-2022-06-23" class="headerlink" title="6.0.2 (2022-06-23)"></a>6.0.2 (2022-06-23)</h2><h3 id="Bug-fixes-87"><a href="#Bug-fixes-87" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a CSS issue that broke horizontal scroll width stabilization.</p>
<p>Fix a bug where <code>defaultLineHeight</code> could get an incorrect value in very narrow editors.</p>
<h2 id="6-0-1-2022-06-17"><a href="#6-0-1-2022-06-17" class="headerlink" title="6.0.1 (2022-06-17)"></a>6.0.1 (2022-06-17)</h2><h3 id="Bug-fixes-88"><a href="#Bug-fixes-88" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid DOM selection corruption when the editor doesn’t have focus but has selection and updates its content.</p>
<p>Fall back to dispatching by key code when a key event produces a non-ASCII character (so that Cyrillic and Arabic keyboards can still use bindings specified with Latin characters).</p>
<h2 id="6-0-0-2022-06-08"><a href="#6-0-0-2022-06-08" class="headerlink" title="6.0.0 (2022-06-08)"></a>6.0.0 (2022-06-08)</h2><h3 id="New-features-33"><a href="#New-features-33" class="headerlink" title="New features"></a>New features</h3><p>The new static <code>EditorView.findFromDOM</code> method can be used to retrieve an editor instance from its DOM structure.</p>
<p>Instead of passing a constructed state to the <code>EditorView</code> constructor, it is now also possible to inline the configuration options to the state in the view config object.</p>
<h2 id="0-20-7-2022-05-30"><a href="#0-20-7-2022-05-30" class="headerlink" title="0.20.7 (2022-05-30)"></a>0.20.7 (2022-05-30)</h2><h3 id="Bug-fixes-89"><a href="#Bug-fixes-89" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue on Chrome Android where the DOM could fail to display the actual document after backspace.</p>
<p>Avoid an issue on Chrome Android where DOM changes were sometimes inappropriately replace by a backspace key effect due to spurious beforeinput events.</p>
<p>Fix a problem where the content element’s width didn’t cover the width of the actual content.</p>
<p>Work around a bug in Chrome 102 which caused wheel scrolling of the editor to be interrupted every few lines.</p>
<h2 id="0-20-6-2022-05-20"><a href="#0-20-6-2022-05-20" class="headerlink" title="0.20.6 (2022-05-20)"></a>0.20.6 (2022-05-20)</h2><h3 id="Bug-fixes-90"><a href="#Bug-fixes-90" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure the editor re-measures itself when its attributes are updated.</p>
<h2 id="0-20-5-2022-05-18"><a href="#0-20-5-2022-05-18" class="headerlink" title="0.20.5 (2022-05-18)"></a>0.20.5 (2022-05-18)</h2><h3 id="Bug-fixes-91"><a href="#Bug-fixes-91" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where gutter elements without any markers in them would not get the <code>cm-gutterElement</code> class assigned.</p>
<p>Fix an issue where DOM event handlers registered by plugins were retained indefinitely, even after the editor was reconfigured.</p>
<h2 id="0-20-4-2022-05-03"><a href="#0-20-4-2022-05-03" class="headerlink" title="0.20.4 (2022-05-03)"></a>0.20.4 (2022-05-03)</h2><h3 id="Bug-fixes-92"><a href="#Bug-fixes-92" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Prevent Mac-style behavior of inserting a period when the user inserts two spaces.</p>
<p>Fix an issue where the editor would sometimes not restore the DOM selection when refocused with a selection identical to the one it held when it lost focus.</p>
<h2 id="0-20-3-2022-04-27"><a href="#0-20-3-2022-04-27" class="headerlink" title="0.20.3 (2022-04-27)"></a>0.20.3 (2022-04-27)</h2><h3 id="Bug-fixes-93"><a href="#Bug-fixes-93" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where the input handling could crash on repeated (or held) backspace presses on Chrome Android.</p>
<h2 id="0-20-2-2022-04-22"><a href="#0-20-2-2022-04-22" class="headerlink" title="0.20.2 (2022-04-22)"></a>0.20.2 (2022-04-22)</h2><h3 id="New-features-34"><a href="#New-features-34" class="headerlink" title="New features"></a>New features</h3><p>The new <code>hideOn</code> option to <code>hoverTooltip</code> allows more fine-grained control over when the tooltip should hide.</p>
<h2 id="0-20-1-2022-04-20"><a href="#0-20-1-2022-04-20" class="headerlink" title="0.20.1 (2022-04-20)"></a>0.20.1 (2022-04-20)</h2><h3 id="Bug-fixes-94"><a href="#Bug-fixes-94" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Remove debug statements that accidentally made it into 0.20.0.</p>
<p>Fix a regression in <code>moveVertically</code>.</p>
<h2 id="0-20-0-2022-04-20"><a href="#0-20-0-2022-04-20" class="headerlink" title="0.20.0 (2022-04-20)"></a>0.20.0 (2022-04-20)</h2><h3 id="Breaking-changes"><a href="#Breaking-changes" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>The deprecated interfaces <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, <code>viewportLines</code>, <code>visualLineAt</code>, <code>scrollPosIntoView</code>, <code>scrollTo</code>, and <code>centerOn</code> were removed from the library.</p>
<p>All decorations are now provided through <code>EditorView.decorations</code>, and are part of a single precedence ordering. Decoration sources that need access to the view are provided as functions.</p>
<p>Atomic ranges are now specified through a facet (<code>EditorView.atomicRanges</code>).</p>
<p>Scroll margins are now specified through a facet (<code>EditorView.scrollMargins</code>).</p>
<p>Plugin fields no longer exist in the library (and are replaced by facets holding function values).</p>
<p>This package no longer re-exports the Range type from @codemirror&#x2F;state.</p>
<h3 id="Bug-fixes-95"><a href="#Bug-fixes-95" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where zero-length block widgets could cause <code>viewportLineBlocks</code> to contain overlapping ranges.</p>
<h3 id="New-features-35"><a href="#New-features-35" class="headerlink" title="New features"></a>New features</h3><p>The new <code>perLineTextDirection</code> facet configures whether the editor reads text direction per line, or uses a single direction for the entire editor. <code>EditorView.textDirectionAt</code> returns the direction around a given position.</p>
<p><code>rectangularSelection</code> and <code>crosshairCursor</code> from @codemirror&#x2F;rectangular-selection were merged into this package.</p>
<p>This package now exports the tooltip functionality that used to live in @codemirror&#x2F;tooltip.</p>
<p>The exports from the old @codemirror&#x2F;panel package are now available from this package.</p>
<p>The exports from the old @codemirror&#x2F;gutter package are now available from this package.</p>
<h2 id="0-19-48-2022-03-30"><a href="#0-19-48-2022-03-30" class="headerlink" title="0.19.48 (2022-03-30)"></a>0.19.48 (2022-03-30)</h2><h3 id="Bug-fixes-96"><a href="#Bug-fixes-96" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where DOM syncing could crash when a DOM node was moved from a parent to a child node (via widgets reusing existing nodes).</p>
<p>To avoid interfering with things like a vim mode too much, the editor will now only activate the tab-to-move-focus escape hatch after an escape press that wasn’t handled by an event handler.</p>
<p>Make sure the view measures itself before the page is printed.</p>
<p>Tweak types of view plugin defining functions to avoid TypeScript errors when the plugin value doesn’t have any of the interface’s properties.</p>
<h2 id="0-19-47-2022-03-08"><a href="#0-19-47-2022-03-08" class="headerlink" title="0.19.47 (2022-03-08)"></a>0.19.47 (2022-03-08)</h2><h3 id="Bug-fixes-97"><a href="#Bug-fixes-97" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where block widgets at the start of the viewport could break height computations.</p>
<h2 id="0-19-46-2022-03-03"><a href="#0-19-46-2022-03-03" class="headerlink" title="0.19.46 (2022-03-03)"></a>0.19.46 (2022-03-03)</h2><h3 id="Bug-fixes-98"><a href="#Bug-fixes-98" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where block widgets on the edges of viewports could cause the positioning of content to misalign with the gutter and height computations.</p>
<p>Improve cursor height next to widgets.</p>
<p>Fix a bug where mapping positions to screen coordinates could return incorred coordinates during composition.</p>
<h2 id="0-19-45-2022-02-23"><a href="#0-19-45-2022-02-23" class="headerlink" title="0.19.45 (2022-02-23)"></a>0.19.45 (2022-02-23)</h2><h3 id="Bug-fixes-99"><a href="#Bug-fixes-99" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the library failed to call <code>WidgetType.destroy</code> on the old widget when replacing a widget with a different widget of the same type.</p>
<p>Fix an issue where the editor would compute DOM positions inside composition contexts incorrectly in some cases, causing the selection to be put in the wrong place and needlessly interrupting compositions.</p>
<p>Fix leaking of resize event handlers.</p>
<h2 id="0-19-44-2022-02-17"><a href="#0-19-44-2022-02-17" class="headerlink" title="0.19.44 (2022-02-17)"></a>0.19.44 (2022-02-17)</h2><h3 id="Bug-fixes-100"><a href="#Bug-fixes-100" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash that occasionally occurred when drag-selecting in a way that scrolled the editor.</p>
<h3 id="New-features-36"><a href="#New-features-36" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.compositionStarted</code> property indicates whether a composition is starting.</p>
<h2 id="0-19-43-2022-02-16"><a href="#0-19-43-2022-02-16" class="headerlink" title="0.19.43 (2022-02-16)"></a>0.19.43 (2022-02-16)</h2><h3 id="Bug-fixes-101"><a href="#Bug-fixes-101" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix several issues where editing or composition went wrong due to our zero-width space kludge characters ending up in unexpected places.</p>
<p>Make sure the editor re-measures its dimensions whenever its theme changes.</p>
<p>Fix an issue where some keys on Android phones could leave the editor DOM unsynced with the actual document.</p>
<h2 id="0-19-42-2022-02-05"><a href="#0-19-42-2022-02-05" class="headerlink" title="0.19.42 (2022-02-05)"></a>0.19.42 (2022-02-05)</h2><h3 id="Bug-fixes-102"><a href="#Bug-fixes-102" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression in cursor position determination after making an edit next to a widget.</p>
<h2 id="0-19-41-2022-02-04"><a href="#0-19-41-2022-02-04" class="headerlink" title="0.19.41 (2022-02-04)"></a>0.19.41 (2022-02-04)</h2><h3 id="Bug-fixes-103"><a href="#Bug-fixes-103" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the editor’s view of its content height could go out of sync with the DOM when a line-wrapping editor had its width changed, causing wrapping to change.</p>
<p>Fix a bug that caused the editor to draw way too much content when scrolling to a position in an editor (much) taller than the window.</p>
<p>Report an error when a replace decoration from a plugin crosses a line break, rather than silently ignoring it.</p>
<p>Fix an issue where reading DOM changes was broken when <code>lineSeparator</code> contained more than one character.</p>
<p>Make ordering of replace and mark decorations with the same extent and inclusivness more predictable by giving replace decorations precedence.</p>
<p>Fix a bug where, on Chrome, replacement across line boundaries and next to widgets could cause bogus zero-width characters to appear in the content.</p>
<h2 id="0-19-40-2022-01-19"><a href="#0-19-40-2022-01-19" class="headerlink" title="0.19.40 (2022-01-19)"></a>0.19.40 (2022-01-19)</h2><h3 id="Bug-fixes-104"><a href="#Bug-fixes-104" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make composition input properly appear at secondary cursors (except when those are in the DOM node with the composition, in which case the browser won’t allow us to intervene without aborting the composition).</p>
<p>Fix a bug that cause the editor to get confused about which content was visible after scrolling something into view.</p>
<p>Fix a bug where the dummy elements rendered around widgets could end up in a separate set of wrapping marks, and thus become visible.</p>
<p><code>EditorView.moveVertically</code> now preserves the <code>assoc</code> property of the input range.</p>
<p>Get rid of gaps between selection elements drawn by <code>drawSelection</code>.</p>
<p>Fix an issue where replacing text next to a widget might leak bogus zero-width spaces into the document.</p>
<p>Avoid browser selection mishandling when a focused view has <code>setState</code> called by eagerly refocusing it.</p>
<h2 id="0-19-39-2022-01-06"><a href="#0-19-39-2022-01-06" class="headerlink" title="0.19.39 (2022-01-06)"></a>0.19.39 (2022-01-06)</h2><h3 id="Bug-fixes-105"><a href="#Bug-fixes-105" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure the editor signals a <code>geometryChanged</code> update when its width changes.</p>
<h3 id="New-features-37"><a href="#New-features-37" class="headerlink" title="New features"></a>New features</h3><p><code>EditorView.darkTheme</code> can now be queried to figure out whether the editor is using a dark theme.</p>
<h2 id="0-19-38-2022-01-05"><a href="#0-19-38-2022-01-05" class="headerlink" title="0.19.38 (2022-01-05)"></a>0.19.38 (2022-01-05)</h2><h3 id="Bug-fixes-106"><a href="#Bug-fixes-106" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused line decorations with a <code>class</code> property to suppress all other line decorations for that line.</p>
<p>Fix a bug that caused scroll effects to be corrupted when further updates came in before they were applied.</p>
<p>Fix an issue where, depending on which way a floating point rounding error fell, <code>posAtCoords</code> (and thus vertical cursor motion) for positions outside of the vertical range of the document might or might not return the start&#x2F;end of the document.</p>
<h2 id="0-19-37-2021-12-22"><a href="#0-19-37-2021-12-22" class="headerlink" title="0.19.37 (2021-12-22)"></a>0.19.37 (2021-12-22)</h2><h3 id="Bug-fixes-107"><a href="#Bug-fixes-107" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix regression where plugin replacing decorations that span to the end of the line are ignored.</p>
<h2 id="0-19-36-2021-12-22"><a href="#0-19-36-2021-12-22" class="headerlink" title="0.19.36 (2021-12-22)"></a>0.19.36 (2021-12-22)</h2><h3 id="Bug-fixes-108"><a href="#Bug-fixes-108" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash in <code>posAtCoords</code> when the position lies in a block widget that is rendered but scrolled out of view.</p>
<p>Adding block decorations from a plugin now raises an error. Replacing decorations that cross lines are ignored, when provided by a plugin.</p>
<p>Fix inverted interpretation of the <code>precise</code> argument to <code>posAtCoords</code>.</p>
<h2 id="0-19-35-2021-12-20"><a href="#0-19-35-2021-12-20" class="headerlink" title="0.19.35 (2021-12-20)"></a>0.19.35 (2021-12-20)</h2><h3 id="Bug-fixes-109"><a href="#Bug-fixes-109" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>The editor will now handle double-taps as if they are double-clicks, rather than letting the browser’s native behavior happen (because the latter often does the wrong thing).</p>
<p>Fix an issue where backspacing out a selection on Chrome Android would sometimes only delete the last character due to event order issues.</p>
<p><code>posAtCoords</code>, without second argument, will no longer return null for positions below or above the document.</p>
<h2 id="0-19-34-2021-12-17"><a href="#0-19-34-2021-12-17" class="headerlink" title="0.19.34 (2021-12-17)"></a>0.19.34 (2021-12-17)</h2><h3 id="Bug-fixes-110"><a href="#Bug-fixes-110" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where content line elements would in some cases lose their <code>cm-line</code> class.</p>
<h2 id="0-19-33-2021-12-16"><a href="#0-19-33-2021-12-16" class="headerlink" title="0.19.33 (2021-12-16)"></a>0.19.33 (2021-12-16)</h2><h3 id="Breaking-changes-1"><a href="#Breaking-changes-1" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p><code>EditorView.scrollTo</code> and <code>EditorView.centerOn</code> are deprecated in favor of <code>EditorView.scrollIntoView</code>, and will be removed in the next breaking release.</p>
<h3 id="Bug-fixes-111"><a href="#Bug-fixes-111" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that could cause the editor to unnecessarily interfere with composition (especially visible on macOS Chrome).</p>
<p>A composition started with multiple lines selected will no longer be interruptd by the editor.</p>
<h3 id="New-features-38"><a href="#New-features-38" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.scrollIntoView</code> function allows you to do more fine-grained scrolling.</p>
<h2 id="0-19-32-2021-12-15"><a href="#0-19-32-2021-12-15" class="headerlink" title="0.19.32 (2021-12-15)"></a>0.19.32 (2021-12-15)</h2><h3 id="Bug-fixes-112"><a href="#Bug-fixes-112" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where CodeMirror’s own event handers would run even after a user-supplied handler called <code>preventDefault</code> on an event.</p>
<p>Properly draw selections when negative text-indent is used for soft wrapping.</p>
<p>Fix an issue where <code>viewportLineBlocks</code> could hold inaccurate height information when the vertical scaling changed.</p>
<p>Fixes drop cursor positioning when the document is scrolled. Force a content measure when the editor comes into view</p>
<p>Fix a bug that could cause the editor to not measure its layout the first time it came into view.</p>
<h2 id="0-19-31-2021-12-13"><a href="#0-19-31-2021-12-13" class="headerlink" title="0.19.31 (2021-12-13)"></a>0.19.31 (2021-12-13)</h2><h3 id="New-features-39"><a href="#New-features-39" class="headerlink" title="New features"></a>New features</h3><p>The package now exports a <code>dropCursor</code> extension that draws a cursor at the current drop position when dragging content over the editor.</p>
<h2 id="0-19-30-2021-12-13"><a href="#0-19-30-2021-12-13" class="headerlink" title="0.19.30 (2021-12-13)"></a>0.19.30 (2021-12-13)</h2><h3 id="Bug-fixes-113"><a href="#Bug-fixes-113" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Refine Android key event handling to work properly in a GBoard corner case where pressing Enter fires a bunch of spurious deleteContentBackward events.</p>
<p>Fix a crash in <code>drawSelection</code> for some kinds of selections.</p>
<p>Prevent a possibility where some content updates causes duplicate text to remain in DOM.</p>
<h3 id="New-features-40"><a href="#New-features-40" class="headerlink" title="New features"></a>New features</h3><p>Support a <code>maxLength</code> option to <code>MatchDecorator</code> that allows user code to control how far it scans into hidden parts of viewport lines.</p>
<h2 id="0-19-29-2021-12-09"><a href="#0-19-29-2021-12-09" class="headerlink" title="0.19.29 (2021-12-09)"></a>0.19.29 (2021-12-09)</h2><h3 id="Bug-fixes-114"><a href="#Bug-fixes-114" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could cause out-of-view editors to get a nonsensical viewport and fail to scroll into view when asked to.</p>
<p>Fix a bug where  would return 0 when clicking below the content if the last line was replaced with a block widget decoration.</p>
<p>Fix an issue where clicking at the position of the previous cursor in a blurred editor would cause the selection to reset to the start of the document.</p>
<p>Fix an issue where composition could be interrupted if the browser created a new node inside a mark decoration node.</p>
<h2 id="0-19-28-2021-12-08"><a href="#0-19-28-2021-12-08" class="headerlink" title="0.19.28 (2021-12-08)"></a>0.19.28 (2021-12-08)</h2><h3 id="Bug-fixes-115"><a href="#Bug-fixes-115" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where pressing Enter on Chrome Android during composition did not fire key handlers for Enter.</p>
<p>Avoid a Chrome bug where the virtual keyboard closes when pressing backspace after a widget.</p>
<p>Fix an issue where the editor could show a horizontal scroll bar even after all lines that caused it had been deleted or changed.</p>
<h2 id="0-19-27-2021-12-06"><a href="#0-19-27-2021-12-06" class="headerlink" title="0.19.27 (2021-12-06)"></a>0.19.27 (2021-12-06)</h2><h3 id="Bug-fixes-116"><a href="#Bug-fixes-116" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could cause <code>EditorView.plugin</code> to inappropriately return <code>null</code> during plugin initialization.</p>
<p>Fix a bug where a block widget without <code>estimatedHeight</code> at the end of the document could fail to be drawn</p>
<h2 id="0-19-26-2021-12-03"><a href="#0-19-26-2021-12-03" class="headerlink" title="0.19.26 (2021-12-03)"></a>0.19.26 (2021-12-03)</h2><h3 id="New-features-41"><a href="#New-features-41" class="headerlink" title="New features"></a>New features</h3><p>Widgets can now define a <code>destroy</code> method that is called when they are removed from the view.</p>
<h2 id="0-19-25-2021-12-02"><a href="#0-19-25-2021-12-02" class="headerlink" title="0.19.25 (2021-12-02)"></a>0.19.25 (2021-12-02)</h2><h3 id="Bug-fixes-117"><a href="#Bug-fixes-117" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Widgets around replaced ranges are now visible when their side does not point towards the replaced range.</p>
<p>A replaced line with a line decoration no longer creates an extra empty line block in the editor.</p>
<p>The <code>scrollPastEnd</code> extension will now over-reserve space at the bottom of the editor on startup, to prevent restored scroll positions from being clipped.</p>
<h3 id="New-features-42"><a href="#New-features-42" class="headerlink" title="New features"></a>New features</h3><p><code>EditorView.editorAttributes</code> and <code>contentAttributes</code> may now hold functions that produce the attributes.</p>
<h2 id="0-19-24-2021-12-01"><a href="#0-19-24-2021-12-01" class="headerlink" title="0.19.24 (2021-12-01)"></a>0.19.24 (2021-12-01)</h2><h3 id="Bug-fixes-118"><a href="#Bug-fixes-118" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where <code>lineBlockAt</code>, for queries inside the viewport, would always return the first line in the viewport.</p>
<h2 id="0-19-23-2021-11-30"><a href="#0-19-23-2021-11-30" class="headerlink" title="0.19.23 (2021-11-30)"></a>0.19.23 (2021-11-30)</h2><h3 id="Bug-fixes-119"><a href="#Bug-fixes-119" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where after some kinds of changes, <code>EditorView.viewportLineBlocks</code> held an out-of-date set of blocks.</p>
<h3 id="New-features-43"><a href="#New-features-43" class="headerlink" title="New features"></a>New features</h3><p>Export <code>EditorView.documentPadding</code>, with information about the vertical padding of the document.</p>
<h2 id="0-19-22-2021-11-30"><a href="#0-19-22-2021-11-30" class="headerlink" title="0.19.22 (2021-11-30)"></a>0.19.22 (2021-11-30)</h2><h3 id="Bug-fixes-120"><a href="#Bug-fixes-120" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where editors with large vertical padding (for example via <code>scrollPastEnd</code>) could sometimes lose their scroll position on Chrome.</p>
<p>Avoid some unnecessary DOM measuring work by more carefully checking whether it is needed.</p>
<h3 id="New-features-44"><a href="#New-features-44" class="headerlink" title="New features"></a>New features</h3><p>The new <code>elementAtHeight</code>, <code>lineBlockAtHeight</code>, and <code>lineBlockAt</code> methods provide a simpler and more efficient replacement for the (now deprecated) <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, and <code>visualLineAt</code> methods.</p>
<p>The editor view now exports a <code>documentTop</code> getter that gives you the vertical position of the top of the document. All height info is queried and reported relative to this top.</p>
<p>The editor view’s new <code>viewportLineBlocks</code> property provides an array of in-viewport line blocks, and replaces the (now deprecated) <code>viewportLines</code> method.</p>
<h2 id="0-19-21-2021-11-26"><a href="#0-19-21-2021-11-26" class="headerlink" title="0.19.21 (2021-11-26)"></a>0.19.21 (2021-11-26)</h2><h3 id="Bug-fixes-121"><a href="#Bug-fixes-121" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a problem where the DOM update would unnecessarily trigger browser relayouts.</p>
<h2 id="0-19-20-2021-11-19"><a href="#0-19-20-2021-11-19" class="headerlink" title="0.19.20 (2021-11-19)"></a>0.19.20 (2021-11-19)</h2><h3 id="Bug-fixes-122"><a href="#Bug-fixes-122" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Run a measure cycle when the editor’s size spontaneously changes.</p>
<h2 id="0-19-19-2021-11-17"><a href="#0-19-19-2021-11-17" class="headerlink" title="0.19.19 (2021-11-17)"></a>0.19.19 (2021-11-17)</h2><h3 id="Bug-fixes-123"><a href="#Bug-fixes-123" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused the precedence of <code>editorAttributes</code> and <code>contentAttributes</code> to be inverted, making lower-precedence extensions override higher-precedence ones.</p>
<h2 id="0-19-18-2021-11-16"><a href="#0-19-18-2021-11-16" class="headerlink" title="0.19.18 (2021-11-16)"></a>0.19.18 (2021-11-16)</h2><h3 id="Bug-fixes-124"><a href="#Bug-fixes-124" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the editor wasn’t aware it was line-wrapping with its own <code>lineWrapping</code> extension enabled.</p>
<h2 id="0-19-17-2021-11-16"><a href="#0-19-17-2021-11-16" class="headerlink" title="0.19.17 (2021-11-16)"></a>0.19.17 (2021-11-16)</h2><h3 id="Bug-fixes-125"><a href="#Bug-fixes-125" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid an issue where stretches of whitespace on line wrap points could cause the cursor to be placed outside of the content.</p>
<h2 id="0-19-16-2021-11-11"><a href="#0-19-16-2021-11-11" class="headerlink" title="0.19.16 (2021-11-11)"></a>0.19.16 (2021-11-11)</h2><h3 id="Breaking-changes-2"><a href="#Breaking-changes-2" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>Block replacement decorations now default to inclusive, because non-inclusive block decorations are rarely what you need.</p>
<h3 id="Bug-fixes-126"><a href="#Bug-fixes-126" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue that caused block widgets to always have a large side value, making it impossible to show them between to replacement decorations.</p>
<p>Fix a crash that could happen after some types of viewport changes, due to a bug in the block widget view data structure.</p>
<h2 id="0-19-15-2021-11-09"><a href="#0-19-15-2021-11-09" class="headerlink" title="0.19.15 (2021-11-09)"></a>0.19.15 (2021-11-09)</h2><h3 id="Bug-fixes-127"><a href="#Bug-fixes-127" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where the editor would think it was invisible when the document body was given screen height and scroll behavior.</p>
<p>Fix selection reading inside a shadow root on iOS.</p>
<h2 id="0-19-14-2021-11-07"><a href="#0-19-14-2021-11-07" class="headerlink" title="0.19.14 (2021-11-07)"></a>0.19.14 (2021-11-07)</h2><h3 id="Bug-fixes-128"><a href="#Bug-fixes-128" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where typing into a read-only editor would move the selection.</p>
<p>Fix slowness when backspace is held down on iOS.</p>
<h2 id="0-19-13-2021-11-06"><a href="#0-19-13-2021-11-06" class="headerlink" title="0.19.13 (2021-11-06)"></a>0.19.13 (2021-11-06)</h2><h3 id="Bug-fixes-129"><a href="#Bug-fixes-129" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where backspace, enter, and delete would get applied twice on iOS.</p>
<h2 id="0-19-12-2021-11-04"><a href="#0-19-12-2021-11-04" class="headerlink" title="0.19.12 (2021-11-04)"></a>0.19.12 (2021-11-04)</h2><h3 id="Bug-fixes-130"><a href="#Bug-fixes-130" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make sure the workaround for the lost virtual keyboard on Chrome Android also works on slower phones. Slight style change in beforeinput handler</p>
<p>Avoid failure cases in viewport-based rendering of very long lines.</p>
<h2 id="0-19-11-2021-11-03"><a href="#0-19-11-2021-11-03" class="headerlink" title="0.19.11 (2021-11-03)"></a>0.19.11 (2021-11-03)</h2><h3 id="Breaking-changes-3"><a href="#Breaking-changes-3" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p><code>EditorView.scrollPosIntoView</code> has been deprecated. Use the <code>EditorView.scrollTo</code> effect instead.</p>
<h3 id="New-features-45"><a href="#New-features-45" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.centerOn</code> effect can be used to scroll a given range to the center of the view.</p>
<h2 id="0-19-10-2021-11-02"><a href="#0-19-10-2021-11-02" class="headerlink" title="0.19.10 (2021-11-02)"></a>0.19.10 (2021-11-02)</h2><h3 id="Bug-fixes-131"><a href="#Bug-fixes-131" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Don’t crash when <code>IntersectionObserver</code> fires its callback without any records. Try to handle some backspace issues on Chrome Android</p>
<p>Using backspace near uneditable widgets on Chrome Android should now be more reliable.</p>
<p>Work around a number of browser bugs by always rendering zero-width spaces around in-content widgets, so that browsers will treat the positions near them as valid cursor positions and not try to run composition across widget boundaries.</p>
<p>Work around bogus composition changes created by Chrome Android after handled backspace presses.</p>
<p>Work around an issue where tapping on an uneditable node in the editor would sometimes fail to show the virtual keyboard on Chrome Android.</p>
<p>Prevent translation services from translating the editor content. Show direction override characters as special chars by default</p>
<p><code>specialChars</code> will now, by default, replace direction override chars, to mitigate <a href="https://trojansource.codes/">https://trojansource.codes/</a> attacks.</p>
<h3 id="New-features-46"><a href="#New-features-46" class="headerlink" title="New features"></a>New features</h3><p>The editor view will, if <code>parent</code> is given but <code>root</code> is not, derive the root from the parent element.</p>
<p>Line decorations now accept a <code>class</code> property to directly add DOM classes to the line.</p>
<h2 id="0-19-9-2021-10-01"><a href="#0-19-9-2021-10-01" class="headerlink" title="0.19.9 (2021-10-01)"></a>0.19.9 (2021-10-01)</h2><h3 id="Bug-fixes-132"><a href="#Bug-fixes-132" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where some kinds of reflows in the surrounding document could move unrendered parts of the editor into view without the editor noticing and updating its viewport.</p>
<p>Fix an occasional crash in the selection drawing extension.</p>
<h2 id="0-19-8-2021-09-26"><a href="#0-19-8-2021-09-26" class="headerlink" title="0.19.8 (2021-09-26)"></a>0.19.8 (2021-09-26)</h2><h3 id="Bug-fixes-133"><a href="#Bug-fixes-133" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that could, on DOM changes near block widgets, insert superfluous line breaks.</p>
<p>Make interacting with a destroyed editor view do nothing, rather than crash, to avoid tripping people up with pending timeouts and such.</p>
<p>Make sure <code>ViewUpdate.viewportChanged</code> is true whenever <code>visibleRanges</code> changes, so that plugins acting only on visible ranges can use it to check when to update.</p>
<p>Fix line-wise cut on empty lines.</p>
<h2 id="0-19-7-2021-09-13"><a href="#0-19-7-2021-09-13" class="headerlink" title="0.19.7 (2021-09-13)"></a>0.19.7 (2021-09-13)</h2><h3 id="Bug-fixes-134"><a href="#Bug-fixes-134" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>The view is now aware of the new <code>EditorState.readOnly</code> property, and suppresses events that modify the document when it is true.</p>
<h2 id="0-19-6-2021-09-10"><a href="#0-19-6-2021-09-10" class="headerlink" title="0.19.6 (2021-09-10)"></a>0.19.6 (2021-09-10)</h2><h3 id="Bug-fixes-135"><a href="#Bug-fixes-135" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Remove a <code>console.log</code> that slipped into the previous release.</p>
<h2 id="0-19-5-2021-09-09"><a href="#0-19-5-2021-09-09" class="headerlink" title="0.19.5 (2021-09-09)"></a>0.19.5 (2021-09-09)</h2><h3 id="New-features-47"><a href="#New-features-47" class="headerlink" title="New features"></a>New features</h3><p>The new <code>EditorView.scrollTo</code> effect can be used to scroll a given range into view.</p>
<h2 id="0-19-4-2021-09-01"><a href="#0-19-4-2021-09-01" class="headerlink" title="0.19.4 (2021-09-01)"></a>0.19.4 (2021-09-01)</h2><h3 id="Bug-fixes-136"><a href="#Bug-fixes-136" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where lines containing just a widget decoration wrapped in a mark decoration could be displayed with 0 height.</p>
<h2 id="0-19-3-2021-08-25"><a href="#0-19-3-2021-08-25" class="headerlink" title="0.19.3 (2021-08-25)"></a>0.19.3 (2021-08-25)</h2><h3 id="Bug-fixes-137"><a href="#Bug-fixes-137" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a view corruption that could happen in situations involving overlapping mark decorations.</p>
<h2 id="0-19-2-2021-08-23"><a href="#0-19-2-2021-08-23" class="headerlink" title="0.19.2 (2021-08-23)"></a>0.19.2 (2021-08-23)</h2><h3 id="New-features-48"><a href="#New-features-48" class="headerlink" title="New features"></a>New features</h3><p>The package now exports a <code>scrollPastEnd</code> function, which returns an extension that adds space below the document to allow the last line to be scrolled to the top of the editor.</p>
<h2 id="0-19-1-2021-08-11"><a href="#0-19-1-2021-08-11" class="headerlink" title="0.19.1 (2021-08-11)"></a>0.19.1 (2021-08-11)</h2><h3 id="Breaking-changes-4"><a href="#Breaking-changes-4" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>The view now emits new-style user event annotations for the transactions it generates.</p>
<h3 id="Bug-fixes-138"><a href="#Bug-fixes-138" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where <code>coordsAtPos</code> would allow the passed <code>side</code> argument to override widget sides, producing incorrect cursor positions.</p>
<p>Fix a bug that could cause content lines to be misaligned in certain situations involving widgets at the end of lines.</p>
<p>Fix an issue where, if the browser decided to modify DOM attributes in the content in response to some editing action, the view failed to reset those again.</p>
<h2 id="0-18-19-2021-07-12"><a href="#0-18-19-2021-07-12" class="headerlink" title="0.18.19 (2021-07-12)"></a>0.18.19 (2021-07-12)</h2><h3 id="Bug-fixes-139"><a href="#Bug-fixes-139" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a regression where <code>EditorView.editable.of(false)</code> didn’t disable editing on Webkit-based browsers.</p>
<h2 id="0-18-18-2021-07-06"><a href="#0-18-18-2021-07-06" class="headerlink" title="0.18.18 (2021-07-06)"></a>0.18.18 (2021-07-06)</h2><h3 id="Bug-fixes-140"><a href="#Bug-fixes-140" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that caused <code>EditorView.moveVertically</code> to only move by one line, even when given a custom distance, in some cases.</p>
<p>Hide Safari’s native bold&#x2F;italic&#x2F;underline controls for the content.</p>
<p>Fix a CSS problem that prevented Safari from breaking words longer than the line in line-wrapping mode.</p>
<p>Avoid a problem where composition would be inappropriately abored on Safari.</p>
<p>Fix drag-selection that scrolls the content by dragging past the visible viewport.</p>
<h3 id="New-features-49"><a href="#New-features-49" class="headerlink" title="New features"></a>New features</h3><p><code>posAtCoords</code> now has an imprecise mode where it’ll return an approximate position even for parts of the document that aren’t currently rendered.</p>
<h2 id="0-18-17-2021-06-14"><a href="#0-18-17-2021-06-14" class="headerlink" title="0.18.17 (2021-06-14)"></a>0.18.17 (2021-06-14)</h2><h3 id="Bug-fixes-141"><a href="#Bug-fixes-141" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Make <code>drawSelection</code> behave properly when lines are split by block widgets.</p>
<p>Make sure drawn selections that span a single line break don’t leave a gap between the lines.</p>
<h2 id="0-18-16-2021-06-03"><a href="#0-18-16-2021-06-03" class="headerlink" title="0.18.16 (2021-06-03)"></a>0.18.16 (2021-06-03)</h2><h3 id="Bug-fixes-142"><a href="#Bug-fixes-142" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash that could occur when the document changed during mouse selection.</p>
<p>Fix a bug where composition inside styled content would sometimes be inappropriately aborted by editor DOM updates.</p>
<h3 id="New-features-50"><a href="#New-features-50" class="headerlink" title="New features"></a>New features</h3><p><code>MouseSelectionStyle.update</code> may now return true to indicate it should be queried for a new selection after the update.</p>
<h2 id="0-18-15-2021-06-01"><a href="#0-18-15-2021-06-01" class="headerlink" title="0.18.15 (2021-06-01)"></a>0.18.15 (2021-06-01)</h2><h3 id="Bug-fixes-143"><a href="#Bug-fixes-143" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that would, in very specific circumstances, cause <code>posAtCoords</code> to go into an infinite loop in Safari.</p>
<p>Fix a bug where some types of IME input on Mobile Safari would drop text.</p>
<h2 id="0-18-14-2021-05-28"><a href="#0-18-14-2021-05-28" class="headerlink" title="0.18.14 (2021-05-28)"></a>0.18.14 (2021-05-28)</h2><h3 id="Bug-fixes-144"><a href="#Bug-fixes-144" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the DOM selection was sometimes not properly updated when next to a widget.</p>
<p>Invert the order in which overlapping decorations are drawn so that higher-precedence decorations are nested inside lower-precedence ones (and thus override their styling).</p>
<p>Fix a but in <code>posAtCoords</code> where it would in some situations return -1 instead of <code>null</code>.</p>
<h3 id="New-features-51"><a href="#New-features-51" class="headerlink" title="New features"></a>New features</h3><p>A new plugin field, <code>PluginField.atomicRanges</code>, can be used to cause cursor motion to skip past some ranges of the document.</p>
<h2 id="0-18-13-2021-05-20"><a href="#0-18-13-2021-05-20" class="headerlink" title="0.18.13 (2021-05-20)"></a>0.18.13 (2021-05-20)</h2><h3 id="Bug-fixes-145"><a href="#Bug-fixes-145" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that would cause the content DOM update to crash in specific circumstances.</p>
<p>Work around an issue where, after some types of changes, Mobile Safari would ignore Enter presses.</p>
<p>Make iOS enter and backspace handling more robust, so that platform bugs are less likely to break those keys in the editor.</p>
<p>Fix a regression where Esc + Tab no longer allowed the user to exit the editor.</p>
<h3 id="New-features-52"><a href="#New-features-52" class="headerlink" title="New features"></a>New features</h3><p>You can now drop text files into the editor.</p>
<h2 id="0-18-12-2021-05-10"><a href="#0-18-12-2021-05-10" class="headerlink" title="0.18.12 (2021-05-10)"></a>0.18.12 (2021-05-10)</h2><h3 id="Bug-fixes-146"><a href="#Bug-fixes-146" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around a Mobile Safari bug where, after backspacing out the last character on a line, Enter didn’t work anymore.</p>
<p>Work around a problem in Mobile Safari where you couldn’t tap to put the cursor at the end of a line that ended in a widget.</p>
<h2 id="0-18-11-2021-04-30"><a href="#0-18-11-2021-04-30" class="headerlink" title="0.18.11 (2021-04-30)"></a>0.18.11 (2021-04-30)</h2><h3 id="Bug-fixes-147"><a href="#Bug-fixes-147" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Add an attribute to prevent the Grammarly browser extension from messing with the editor content.</p>
<p>Fix more issues around selection handling a Shadow DOM in Safari.</p>
<h2 id="0-18-10-2021-04-27"><a href="#0-18-10-2021-04-27" class="headerlink" title="0.18.10 (2021-04-27)"></a>0.18.10 (2021-04-27)</h2><h3 id="Bug-fixes-148"><a href="#Bug-fixes-148" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug where some types of updates wouldn’t properly cause marks around the changes to be joined in the DOM.</p>
<p>Fix an issue where the content and gutters in a fixed-height editor could be smaller than the editor height.</p>
<p>Fix a crash on Safari when initializing an editor in an unfocused window.</p>
<p>Fix a bug where the editor would incorrectly conclude it was out of view in some types of absolutely positioned parent elements.</p>
<h2 id="0-18-9-2021-04-23"><a href="#0-18-9-2021-04-23" class="headerlink" title="0.18.9 (2021-04-23)"></a>0.18.9 (2021-04-23)</h2><h3 id="Bug-fixes-149"><a href="#Bug-fixes-149" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash that occurred when determining DOM coordinates in some specific situations.</p>
<p>Fix a crash when a DOM change that ended at a zero-width view element (widget) removed that element from the DOM.</p>
<p>Disable autocorrect and autocapitalize by default, since in most code-editor contexts they get in the way. You can use <code>EditorView.contentAttributes</code> to override this.</p>
<p>Fix a bug that interfered with native touch selection handling on Android.</p>
<p>Fix an unnecessary DOM update after composition that would disrupt touch selection on Android.</p>
<p>Add a workaround for Safari’s broken selection reporting when the editor is in a shadow DOM tree.</p>
<p>Fix select-all from the context menu on Safari.</p>
<h2 id="0-18-8-2021-04-19"><a href="#0-18-8-2021-04-19" class="headerlink" title="0.18.8 (2021-04-19)"></a>0.18.8 (2021-04-19)</h2><h3 id="Bug-fixes-150"><a href="#Bug-fixes-150" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Handle selection replacements where the inserted text matches the start&#x2F;end of the replaced text better.</p>
<p>Fix an issue where the editor would miss scroll events when it was placed in a DOM component slot.</p>
<h2 id="0-18-7-2021-04-13"><a href="#0-18-7-2021-04-13" class="headerlink" title="0.18.7 (2021-04-13)"></a>0.18.7 (2021-04-13)</h2><h3 id="Bug-fixes-151"><a href="#Bug-fixes-151" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a crash when drag-selecting out of the editor with editable turned off.</p>
<p>Backspace and delete now largely work in an editor without a keymap.</p>
<p>Pressing backspace on iOS should now properly update the virtual keyboard’s capitalize and autocorrect state.</p>
<p>Prevent random line-wrapping in (non-wrapping) editors on Mobile Safari.</p>
<h2 id="0-18-6-2021-04-08"><a href="#0-18-6-2021-04-08" class="headerlink" title="0.18.6 (2021-04-08)"></a>0.18.6 (2021-04-08)</h2><h3 id="Bug-fixes-152"><a href="#Bug-fixes-152" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue in the compiled output that would break the code when minified with terser.</p>
<h2 id="0-18-5-2021-04-07"><a href="#0-18-5-2021-04-07" class="headerlink" title="0.18.5 (2021-04-07)"></a>0.18.5 (2021-04-07)</h2><h3 id="Bug-fixes-153"><a href="#Bug-fixes-153" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Improve handling of bidi text with brackets (conforming to Unicode 13’s bidi algorithm).</p>
<p>Fix the position where <code>drawSelection</code> displays the cursor on bidi boundaries.</p>
<h2 id="0-18-4-2021-04-07"><a href="#0-18-4-2021-04-07" class="headerlink" title="0.18.4 (2021-04-07)"></a>0.18.4 (2021-04-07)</h2><h3 id="Bug-fixes-154"><a href="#Bug-fixes-154" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where the default focus ring gets obscured by the gutters and active line.</p>
<p>Fix an issue where the editor believed Chrome Android didn’t support the CSS <code>tab-size</code> style.</p>
<p>Don’t style active lines when there are non-empty selection ranges, so that the active line background doesn’t obscure the selection.</p>
<p>Make iOS autocapitalize update properly when you press Enter.</p>
<h2 id="0-18-3-2021-03-19"><a href="#0-18-3-2021-03-19" class="headerlink" title="0.18.3 (2021-03-19)"></a>0.18.3 (2021-03-19)</h2><h3 id="Breaking-changes-5"><a href="#Breaking-changes-5" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>The outer DOM element now has class <code>cm-editor</code> instead of <code>cm-wrap</code> (<code>cm-wrap</code> will be present as well until 0.19).</p>
<h3 id="Bug-fixes-155"><a href="#Bug-fixes-155" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Improve behavior of <code>posAtCoords</code> when the position is near text but not in any character’s actual box.</p>
<h2 id="0-18-2-2021-03-19"><a href="#0-18-2-2021-03-19" class="headerlink" title="0.18.2 (2021-03-19)"></a>0.18.2 (2021-03-19)</h2><h3 id="Bug-fixes-156"><a href="#Bug-fixes-156" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Triple-clicking now selects the line break after the clicked line (if any).</p>
<p>Fix an issue where the <code>drawSelection</code> plugin would fail to draw the top line of the selection when it started in an empty line.</p>
<p>Fix an issue where, at the end of a specific type of composition on iOS, the editor read the DOM before the browser was done updating it.</p>
<h2 id="0-18-1-2021-03-05"><a href="#0-18-1-2021-03-05" class="headerlink" title="0.18.1 (2021-03-05)"></a>0.18.1 (2021-03-05)</h2><h3 id="Bug-fixes-157"><a href="#Bug-fixes-157" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where, on iOS, some types of IME would cause the composed content to be deleted when confirming a composition.</p>
<h2 id="0-18-0-2021-03-03"><a href="#0-18-0-2021-03-03" class="headerlink" title="0.18.0 (2021-03-03)"></a>0.18.0 (2021-03-03)</h2><h3 id="Breaking-changes-6"><a href="#Breaking-changes-6" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>The <code>themeClass</code> function and &#96;&#96;-style selectors in themes are no longer supported (prefixing with <code>cm-</code> should be done manually now).</p>
<p>Themes must now use <code>&amp;</code> (instead of an extra <code>$</code>) to target the editor wrapper element.</p>
<p>The editor no longer adds <code>cm-light</code> or <code>cm-dark</code> classes. Targeting light or dark configurations in base themes should now be done by using a <code>&amp;light</code> or <code>&amp;dark</code> top-level selector.</p>
<h2 id="0-17-13-2021-03-03"><a href="#0-17-13-2021-03-03" class="headerlink" title="0.17.13 (2021-03-03)"></a>0.17.13 (2021-03-03)</h2><h3 id="Bug-fixes-158"><a href="#Bug-fixes-158" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around a Firefox bug where it won’t draw the cursor when it is between uneditable elements.</p>
<p>Fix a bug that broke built-in mouse event handling.</p>
<h2 id="0-17-12-2021-03-02"><a href="#0-17-12-2021-03-02" class="headerlink" title="0.17.12 (2021-03-02)"></a>0.17.12 (2021-03-02)</h2><h3 id="Bug-fixes-159"><a href="#Bug-fixes-159" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid interfering with touch events, to allow native selection behavior.</p>
<p>Fix a bug that broke sub-selectors with multiple <code>&amp;</code> placeholders in themes.</p>
<h2 id="0-17-11-2021-02-25"><a href="#0-17-11-2021-02-25" class="headerlink" title="0.17.11 (2021-02-25)"></a>0.17.11 (2021-02-25)</h2><h3 id="Bug-fixes-160"><a href="#Bug-fixes-160" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix vertical cursor motion on Safari with a larger line-height.</p>
<p>Fix incorrect selection drawing (with <code>drawSelection</code>) when the selection spans to just after a soft wrap point.</p>
<p>Fix an issue where compositions on Safari were inappropriately aborted in some circumstances.</p>
<p>The view will now redraw when the <code>EditorView.phrases</code> facet changes, to make sure translated text is properly updated.</p>
<h2 id="0-17-10-2021-02-22"><a href="#0-17-10-2021-02-22" class="headerlink" title="0.17.10 (2021-02-22)"></a>0.17.10 (2021-02-22)</h2><h3 id="Bug-fixes-161"><a href="#Bug-fixes-161" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Long words without spaces, when line-wrapping is enabled, are now properly broken.</p>
<p>Fix the horizontal position of selections drawn by <code>drawSelection</code> in right-to-left editors with a scrollbar.</p>
<h2 id="0-17-9-2021-02-18"><a href="#0-17-9-2021-02-18" class="headerlink" title="0.17.9 (2021-02-18)"></a>0.17.9 (2021-02-18)</h2><h3 id="Bug-fixes-162"><a href="#Bug-fixes-162" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix an issue where pasting linewise at the start of a line left the cursor before the inserted content.</p>
<h2 id="0-17-8-2021-02-16"><a href="#0-17-8-2021-02-16" class="headerlink" title="0.17.8 (2021-02-16)"></a>0.17.8 (2021-02-16)</h2><h3 id="Bug-fixes-163"><a href="#Bug-fixes-163" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a problem where the DOM selection and the editor state could get out of sync in non-editable mode.</p>
<p>Fix a crash when the editor was hidden on Safari, due to <code>getClientRects</code> returning an empty list.</p>
<p>Prevent Firefox from making the scrollable element keyboard-focusable.</p>
<h2 id="0-17-7-2021-01-25"><a href="#0-17-7-2021-01-25" class="headerlink" title="0.17.7 (2021-01-25)"></a>0.17.7 (2021-01-25)</h2><h3 id="New-features-53"><a href="#New-features-53" class="headerlink" title="New features"></a>New features</h3><p>Add an <code>EditorView.announce</code> state effect that can be used to conveniently provide screen reader announcements.</p>
<h2 id="0-17-6-2021-01-22"><a href="#0-17-6-2021-01-22" class="headerlink" title="0.17.6 (2021-01-22)"></a>0.17.6 (2021-01-22)</h2><h3 id="Bug-fixes-164"><a href="#Bug-fixes-164" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Avoid creating very high scroll containers for large documents so that we don’t overflow the DOM’s fixed-precision numbers.</p>
<h2 id="0-17-5-2021-01-15"><a href="#0-17-5-2021-01-15" class="headerlink" title="0.17.5 (2021-01-15)"></a>0.17.5 (2021-01-15)</h2><h3 id="Bug-fixes-165"><a href="#Bug-fixes-165" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that would create space-filling placeholders with incorrect height when document is very large.</p>
<h2 id="0-17-4-2021-01-14"><a href="#0-17-4-2021-01-14" class="headerlink" title="0.17.4 (2021-01-14)"></a>0.17.4 (2021-01-14)</h2><h3 id="Bug-fixes-166"><a href="#Bug-fixes-166" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>The <code>drawSelection</code> extension will now reuse cursor DOM nodes when the number of cursors stays the same, allowing some degree of cursor transition animation.</p>
<p>Makes highlighted special characters styleable (&#96;&#96;) and fix their default look in dark themes to have appropriate contrast.</p>
<h3 id="New-features-54"><a href="#New-features-54" class="headerlink" title="New features"></a>New features</h3><p>Adds a new <code>MatchDecorator</code> helper class which can be used to easily maintain decorations on content that matches a regular expression.</p>
<h2 id="0-17-3-2021-01-06"><a href="#0-17-3-2021-01-06" class="headerlink" title="0.17.3 (2021-01-06)"></a>0.17.3 (2021-01-06)</h2><h3 id="New-features-55"><a href="#New-features-55" class="headerlink" title="New features"></a>New features</h3><p>The package now also exports a CommonJS module.</p>
<h2 id="0-17-2-2021-01-04"><a href="#0-17-2-2021-01-04" class="headerlink" title="0.17.2 (2021-01-04)"></a>0.17.2 (2021-01-04)</h2><h3 id="Bug-fixes-167"><a href="#Bug-fixes-167" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Work around Chrome problem where the native shift-enter behavior inserts two line breaks.</p>
<p>Make bracket closing and bracket pair removing more reliable on Android.</p>
<p>Fix bad cursor position and superfluous change transactions after pressing enter when in a composition on Android.</p>
<p>Fix issue where the wrong character was deleted when backspacing out a character before an identical copy of that character on Android.</p>
<h2 id="0-17-1-2020-12-30"><a href="#0-17-1-2020-12-30" class="headerlink" title="0.17.1 (2020-12-30)"></a>0.17.1 (2020-12-30)</h2><h3 id="Bug-fixes-168"><a href="#Bug-fixes-168" class="headerlink" title="Bug fixes"></a>Bug fixes</h3><p>Fix a bug that prevented <code>ViewUpdate.focusChanged</code> from ever being true.</p>
<h2 id="0-17-0-2020-12-29"><a href="#0-17-0-2020-12-29" class="headerlink" title="0.17.0 (2020-12-29)"></a>0.17.0 (2020-12-29)</h2><h3 id="Breaking-changes-7"><a href="#Breaking-changes-7" class="headerlink" title="Breaking changes"></a>Breaking changes</h3><p>First numbered release.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@esbuild/win32-x64/README/</url>
    <content><![CDATA[<h1 id="esbuild"><a href="#esbuild" class="headerlink" title="esbuild"></a>esbuild</h1><p>This is the Windows 64-bit binary for esbuild, a JavaScript bundler and minifier. See <a href="https://github.com/evanw/esbuild">https://github.com/evanw/esbuild</a> for details.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@eslint-community/regexpp/README/</url>
    <content><![CDATA[<h1 id="eslint-community-x2F-regexpp"><a href="#eslint-community-x2F-regexpp" class="headerlink" title="@eslint-community&#x2F;regexpp"></a>@eslint-community&#x2F;regexpp</h1><p><a href="https://www.npmjs.com/package/@eslint-community/regexpp"><img src="https://img.shields.io/npm/v/@eslint-community/regexpp.svg" alt="npm version"></a><br><a href="http://www.npmtrends.com/@eslint-community/regexpp"><img src="https://img.shields.io/npm/dm/@eslint-community/regexpp.svg" alt="Downloads/month"></a><br><a href="https://github.com/eslint-community/regexpp/actions"><img src="https://github.com/eslint-community/regexpp/workflows/CI/badge.svg" alt="Build Status"></a><br><a href="https://codecov.io/gh/eslint-community/regexpp"><img src="https://codecov.io/gh/eslint-community/regexpp/branch/main/graph/badge.svg" alt="codecov"></a></p>
<p>A regular expression parser for ECMAScript.</p>
<h2 id="💿-Installation"><a href="#💿-Installation" class="headerlink" title="💿 Installation"></a>💿 Installation</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install @eslint-community/regexpp</span><br></pre></td></tr></table></figure>

<ul>
<li>require Node@^12.0.0 || ^14.0.0 || &gt;&#x3D;16.0.0.</li>
</ul>
<h2 id="📖-Usage"><a href="#📖-Usage" class="headerlink" title="📖 Usage"></a>📖 Usage</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="variable constant_">AST</span>,</span><br><span class="line">    <span class="title class_">RegExpParser</span>,</span><br><span class="line">    <span class="title class_">RegExpValidator</span>,</span><br><span class="line">    <span class="title class_">RegExpVisitor</span>,</span><br><span class="line">    parseRegExpLiteral,</span><br><span class="line">    validateRegExpLiteral,</span><br><span class="line">    visitRegExpAST</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;@eslint-community/regexpp&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="parseRegExpLiteral-source-options"><a href="#parseRegExpLiteral-source-options" class="headerlink" title="parseRegExpLiteral(source, options?)"></a>parseRegExpLiteral(source, options?)</h3><p>Parse a given regular expression literal then make AST object.</p>
<p>This is equivalent to <code>new RegExpParser(options).parseLiteral(source)</code>.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string | RegExp</code>) The source code to parse.</li>
<li><code>options?</code> (<a href="src/parser.ts#L743"><code>RegExpParser.Options</code></a>) The options to parse.</li>
</ul>
</li>
<li><strong>Return:</strong><ul>
<li>The AST of the regular expression.</li>
</ul>
</li>
</ul>
<h3 id="validateRegExpLiteral-source-options"><a href="#validateRegExpLiteral-source-options" class="headerlink" title="validateRegExpLiteral(source, options?)"></a>validateRegExpLiteral(source, options?)</h3><p>Validate a given regular expression literal.</p>
<p>This is equivalent to <code>new RegExpValidator(options).validateLiteral(source)</code>.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to validate.</li>
<li><code>options?</code> (<a href="src/validator.ts#L220"><code>RegExpValidator.Options</code></a>) The options to validate.</li>
</ul>
</li>
</ul>
<h3 id="visitRegExpAST-ast-handlers"><a href="#visitRegExpAST-ast-handlers" class="headerlink" title="visitRegExpAST(ast, handlers)"></a>visitRegExpAST(ast, handlers)</h3><p>Visit each node of a given AST.</p>
<p>This is equivalent to <code>new RegExpVisitor(handlers).visit(ast)</code>.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>ast</code> (<a href="src/ast.ts#L4"><code>AST.Node</code></a>) The AST to visit.</li>
<li><code>handlers</code> (<a href="src/visitor.ts#L291"><code>RegExpVisitor.Handlers</code></a>) The callbacks.</li>
</ul>
</li>
</ul>
<h3 id="RegExpParser"><a href="#RegExpParser" class="headerlink" title="RegExpParser"></a>RegExpParser</h3><h4 id="new-RegExpParser-options"><a href="#new-RegExpParser-options" class="headerlink" title="new RegExpParser(options?)"></a>new RegExpParser(options?)</h4><ul>
<li><strong>Parameters:</strong><ul>
<li><code>options?</code> (<a href="src/parser.ts#L743"><code>RegExpParser.Options</code></a>) The options to parse.</li>
</ul>
</li>
</ul>
<h4 id="parser-parseLiteral-source-start-end"><a href="#parser-parseLiteral-source-start-end" class="headerlink" title="parser.parseLiteral(source, start?, end?)"></a>parser.parseLiteral(source, start?, end?)</h4><p>Parse a regular expression literal.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to parse. E.g. <code>&quot;/abc/g&quot;</code>.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
</ul>
</li>
<li><strong>Return:</strong><ul>
<li>The AST of the regular expression.</li>
</ul>
</li>
</ul>
<h4 id="parser-parsePattern-source-start-end-flags"><a href="#parser-parsePattern-source-start-end-flags" class="headerlink" title="parser.parsePattern(source, start?, end?, flags?)"></a>parser.parsePattern(source, start?, end?, flags?)</h4><p>Parse a regular expression pattern.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to parse. E.g. <code>&quot;abc&quot;</code>.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
<li><code>flags?</code> (<code>&#123; unicode?: boolean, unicodeSets?: boolean &#125;</code>) The flags to enable Unicode mode, and Unicode Set mode.</li>
</ul>
</li>
<li><strong>Return:</strong><ul>
<li>The AST of the regular expression pattern.</li>
</ul>
</li>
</ul>
<h4 id="parser-parseFlags-source-start-end"><a href="#parser-parseFlags-source-start-end" class="headerlink" title="parser.parseFlags(source, start?, end?)"></a>parser.parseFlags(source, start?, end?)</h4><p>Parse a regular expression flags.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to parse. E.g. <code>&quot;gim&quot;</code>.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
</ul>
</li>
<li><strong>Return:</strong><ul>
<li>The AST of the regular expression flags.</li>
</ul>
</li>
</ul>
<h3 id="RegExpValidator"><a href="#RegExpValidator" class="headerlink" title="RegExpValidator"></a>RegExpValidator</h3><h4 id="new-RegExpValidator-options"><a href="#new-RegExpValidator-options" class="headerlink" title="new RegExpValidator(options)"></a>new RegExpValidator(options)</h4><ul>
<li><strong>Parameters:</strong><ul>
<li><code>options</code> (<a href="src/validator.ts#L220"><code>RegExpValidator.Options</code></a>) The options to validate.</li>
</ul>
</li>
</ul>
<h4 id="validator-validateLiteral-source-start-end"><a href="#validator-validateLiteral-source-start-end" class="headerlink" title="validator.validateLiteral(source, start, end)"></a>validator.validateLiteral(source, start, end)</h4><p>Validate a regular expression literal.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to validate.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
</ul>
</li>
</ul>
<h4 id="validator-validatePattern-source-start-end-flags"><a href="#validator-validatePattern-source-start-end-flags" class="headerlink" title="validator.validatePattern(source, start, end, flags)"></a>validator.validatePattern(source, start, end, flags)</h4><p>Validate a regular expression pattern.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to validate.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
<li><code>flags?</code> (<code>&#123; unicode?: boolean, unicodeSets?: boolean &#125;</code>) The flags to enable Unicode mode, and Unicode Set mode.</li>
</ul>
</li>
</ul>
<h4 id="validator-validateFlags-source-start-end"><a href="#validator-validateFlags-source-start-end" class="headerlink" title="validator.validateFlags(source, start, end)"></a>validator.validateFlags(source, start, end)</h4><p>Validate a regular expression flags.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>source</code> (<code>string</code>) The source code to validate.</li>
<li><code>start?</code> (<code>number</code>) The start index in the source code. Default is <code>0</code>.</li>
<li><code>end?</code> (<code>number</code>) The end index in the source code. Default is <code>source.length</code>.</li>
</ul>
</li>
</ul>
<h3 id="RegExpVisitor"><a href="#RegExpVisitor" class="headerlink" title="RegExpVisitor"></a>RegExpVisitor</h3><h4 id="new-RegExpVisitor-handlers"><a href="#new-RegExpVisitor-handlers" class="headerlink" title="new RegExpVisitor(handlers)"></a>new RegExpVisitor(handlers)</h4><ul>
<li><strong>Parameters:</strong><ul>
<li><code>handlers</code> (<a href="src/visitor.ts#L291"><code>RegExpVisitor.Handlers</code></a>) The callbacks.</li>
</ul>
</li>
</ul>
<h4 id="visitor-visit-ast"><a href="#visitor-visit-ast" class="headerlink" title="visitor.visit(ast)"></a>visitor.visit(ast)</h4><p>Validate a regular expression literal.</p>
<ul>
<li><strong>Parameters:</strong><ul>
<li><code>ast</code> (<a href="src/ast.ts#L4"><code>AST.Node</code></a>) The AST to visit.</li>
</ul>
</li>
</ul>
<h2 id="📰-Changelog"><a href="#📰-Changelog" class="headerlink" title="📰 Changelog"></a>📰 Changelog</h2><ul>
<li><a href="https://github.com/eslint-community/regexpp/releases">GitHub Releases</a></li>
</ul>
<h2 id="🍻-Contributing"><a href="#🍻-Contributing" class="headerlink" title="🍻 Contributing"></a>🍻 Contributing</h2><p>Welcome contributing!</p>
<p>Please use GitHub’s Issues&#x2F;PRs.</p>
<h3 id="Development-Tools"><a href="#Development-Tools" class="headerlink" title="Development Tools"></a>Development Tools</h3><ul>
<li><code>npm test</code> runs tests and measures coverage.</li>
<li><code>npm run build</code> compiles TypeScript source code to <code>index.js</code>, <code>index.js.map</code>, and <code>index.d.ts</code>.</li>
<li><code>npm run clean</code> removes the temporary files which are created by <code>npm test</code> and <code>npm run build</code>.</li>
<li><code>npm run lint</code> runs ESLint.</li>
<li><code>npm run update:test</code> updates test fixtures.</li>
<li><code>npm run update:ids</code> updates <code>src/unicode/ids.ts</code>.</li>
<li><code>npm run watch</code> runs tests with <code>--watch</code> option.</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@eslint/js/README/</url>
    <content><![CDATA[<p><a href="https://www.npmjs.com/package/@eslint/js"><img src="https://img.shields.io/npm/v/@eslint/js.svg" alt="npm version"></a></p>
<h1 id="ESLint-JavaScript-Plugin"><a href="#ESLint-JavaScript-Plugin" class="headerlink" title="ESLint JavaScript Plugin"></a>ESLint JavaScript Plugin</h1><p><a href="https://eslint.org/">Website</a> | <a href="https://eslint.org/docs/latest/use/configure">Configure ESLint</a> | <a href="https://eslint.org/docs/rules/">Rules</a> | <a href="https://eslint.org/docs/latest/contribute">Contributing</a> | <a href="https://twitter.com/geteslint">Twitter</a> | <a href="https://eslint.org/chat">Chatroom</a></p>
<p>The beginnings of separating out JavaScript-specific functionality from ESLint.</p>
<p>Right now, this plugin contains two configurations:</p>
<ul>
<li><code>recommended</code> - enables the rules recommended by the ESLint team (the replacement for <code>&quot;eslint:recommended&quot;</code>)</li>
<li><code>all</code> - enables all ESLint rules (the replacement for <code>&quot;eslint:all&quot;</code>)</li>
</ul>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install @eslint/js -D</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Use in your <code>eslint.config.js</code> file anytime you want to extend one of the configs:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> js <span class="keyword">from</span> <span class="string">&quot;@eslint/js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line"></span><br><span class="line">    <span class="comment">// apply recommended rules to JS files</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">rules</span>: js.<span class="property">configs</span>.<span class="property">recommended</span>.<span class="property">rules</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// apply recommended rules to JS files with an override</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">rules</span>: &#123;</span><br><span class="line">            ...js.<span class="property">configs</span>.<span class="property">recommended</span>.<span class="property">rules</span>,</span><br><span class="line">            <span class="string">&quot;no-unused-vars&quot;</span>: <span class="string">&quot;warn&quot;</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// apply all rules to JS files</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">rules</span>: &#123;</span><br><span class="line">            ...js.<span class="property">configs</span>.<span class="property">all</span>.<span class="property">rules</span>,</span><br><span class="line">            <span class="string">&quot;no-unused-vars&quot;</span>: <span class="string">&quot;warn&quot;</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>MIT</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@nodelib/fs.scandir/README/</url>
    <content><![CDATA[<h1 id="nodelib-x2F-fs-scandir"><a href="#nodelib-x2F-fs-scandir" class="headerlink" title="@nodelib&#x2F;fs.scandir"></a>@nodelib&#x2F;fs.scandir</h1><blockquote>
<p>List files and directories inside the specified directory.</p>
</blockquote>
<h2 id="bulb-Highlights"><a href="#bulb-Highlights" class="headerlink" title=":bulb: Highlights"></a>:bulb: Highlights</h2><p>The package is aimed at obtaining information about entries in the directory.</p>
<ul>
<li>:moneybag: Returns useful information: <code>name</code>, <code>path</code>, <code>dirent</code> and <code>stats</code> (optional).</li>
<li>:gear: On Node.js 10.10+ uses the mechanism without additional calls to determine the entry type. See <a href="#old-and-modern-mode"><code>old</code> and <code>modern</code> mode</a>.</li>
<li>:link: Can safely work with broken symbolic links.</li>
</ul>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">npm install @nodelib/fs.scandir</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fsScandir <span class="keyword">from</span> <span class="string">&#x27;@nodelib/fs.scandir&#x27;</span>;</span><br><span class="line"></span><br><span class="line">fsScandir.<span class="title function_">scandir</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, stats</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="scandir-path-optionsOrSettings-callback"><a href="#scandir-path-optionsOrSettings-callback" class="headerlink" title=".scandir(path, [optionsOrSettings], callback)"></a>.scandir(path, [optionsOrSettings], callback)</h3><p>Returns an array of plain objects (<a href="#entry"><code>Entry</code></a>) with information about entry for provided path with standard callback-style.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">fsScandir.<span class="title function_">scandir</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsScandir.<span class="title function_">scandir</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;, <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsScandir.<span class="title function_">scandir</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsScandir.<span class="title class_">Settings</span>(), <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="scandirSync-path-optionsOrSettings"><a href="#scandirSync-path-optionsOrSettings" class="headerlink" title=".scandirSync(path, [optionsOrSettings])"></a>.scandirSync(path, [optionsOrSettings])</h3><p>Returns an array of plain objects (<a href="#entry"><code>Entry</code></a>) with information about entry for provided path.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> entries = fsScandir.<span class="title function_">scandirSync</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> entries = fsScandir.<span class="title function_">scandirSync</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;);</span><br><span class="line"><span class="keyword">const</span> entries = fsScandir.<span class="title function_">scandirSync</span>((<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsScandir.<span class="title class_">Settings</span>());</span><br></pre></td></tr></table></figure>

<h4 id="path"><a href="#path" class="headerlink" title="path"></a>path</h4><ul>
<li>Required: <code>true</code></li>
<li>Type: <code>string | Buffer | URL</code></li>
</ul>
<p>A path to a file. If a URL is provided, it must use the <code>file:</code> protocol.</p>
<h4 id="optionsOrSettings"><a href="#optionsOrSettings" class="headerlink" title="optionsOrSettings"></a>optionsOrSettings</h4><ul>
<li>Required: <code>false</code></li>
<li>Type: <code>Options | Settings</code></li>
<li>Default: An instance of <code>Settings</code> class</li>
</ul>
<p>An <a href="#options"><code>Options</code></a> object or an instance of <a href="#settingsoptions"><code>Settings</code></a> class.</p>
<blockquote>
<p>:book: When you pass a plain object, an instance of the <code>Settings</code> class will be created automatically. If you plan to call the method frequently, use a pre-created instance of the <code>Settings</code> class.</p>
</blockquote>
<h3 id="Settings-options"><a href="#Settings-options" class="headerlink" title="Settings([options])"></a>Settings([options])</h3><p>A class of full settings of the package.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsScandir.<span class="title class_">Settings</span>(&#123; <span class="attr">followSymbolicLinks</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> entries = fsScandir.<span class="title function_">scandirSync</span>(<span class="string">&#x27;path&#x27;</span>, settings);</span><br></pre></td></tr></table></figure>

<h2 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h2><ul>
<li><code>name</code> — The name of the entry (<code>unknown.txt</code>).</li>
<li><code>path</code> — The path of the entry relative to call directory (<code>root/unknown.txt</code>).</li>
<li><code>dirent</code> — An instance of <a href="./src/types/index.ts"><code>fs.Dirent</code></a> class. On Node.js below 10.10 will be emulated by <a href="./src/utils/fs.ts"><code>DirentFromStats</code></a> class.</li>
<li><code>stats</code> (optional) — An instance of <code>fs.Stats</code> class.</li>
</ul>
<p>For example, the <code>scandir</code> call for <code>tools</code> directory with one directory inside:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">dirent</span>: <span class="title class_">Dirent</span> &#123; <span class="attr">name</span>: <span class="string">&#x27;typedoc&#x27;</span>, <span class="comment">/* … */</span> &#125;,</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&#x27;typedoc&#x27;</span>,</span><br><span class="line">	<span class="attr">path</span>: <span class="string">&#x27;tools/typedoc&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="stats"><a href="#stats" class="headerlink" title="stats"></a>stats</h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Adds an instance of <code>fs.Stats</code> class to the <a href="#entry"><code>Entry</code></a>.</p>
<blockquote>
<p>:book: Always use <code>fs.readdir</code> without the <code>withFileTypes</code> option. ??TODO??</p>
</blockquote>
<h3 id="followSymbolicLinks"><a href="#followSymbolicLinks" class="headerlink" title="followSymbolicLinks"></a>followSymbolicLinks</h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Follow symbolic links or not. Call <code>fs.stat</code> on symbolic link if <code>true</code>.</p>
<h3 id="throwErrorOnBrokenSymbolicLink"><a href="#throwErrorOnBrokenSymbolicLink" class="headerlink" title="throwErrorOnBrokenSymbolicLink"></a><code>throwErrorOnBrokenSymbolicLink</code></h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
</ul>
<p>Throw an error when symbolic link is broken if <code>true</code> or safely use <code>lstat</code> call if <code>false</code>.</p>
<h3 id="pathSegmentSeparator"><a href="#pathSegmentSeparator" class="headerlink" title="pathSegmentSeparator"></a><code>pathSegmentSeparator</code></h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>path.sep</code></li>
</ul>
<p>By default, this package uses the correct path separator for your OS (<code>\</code> on Windows, <code>/</code> on Unix-like systems). But you can set this option to any separator character(s) that you want to use instead.</p>
<h3 id="fs"><a href="#fs" class="headerlink" title="fs"></a><code>fs</code></h3><ul>
<li>Type: <a href="./src/adapters/fs.ts"><code>FileSystemAdapter</code></a></li>
<li>Default: A default FS methods</li>
</ul>
<p>By default, the built-in Node.js module (<code>fs</code>) is used to work with the file system. You can replace any method with your own.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FileSystemAdapter</span> &#123;</span><br><span class="line">	lstat?: <span class="keyword">typeof</span> fs.<span class="property">lstat</span>;</span><br><span class="line">	stat?: <span class="keyword">typeof</span> fs.<span class="property">stat</span>;</span><br><span class="line">	lstatSync?: <span class="keyword">typeof</span> fs.<span class="property">lstatSync</span>;</span><br><span class="line">	statSync?: <span class="keyword">typeof</span> fs.<span class="property">statSync</span>;</span><br><span class="line">	readdir?: <span class="keyword">typeof</span> fs.<span class="property">readdir</span>;</span><br><span class="line">	readdirSync?: <span class="keyword">typeof</span> fs.<span class="property">readdirSync</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsScandir.<span class="title class_">Settings</span>(&#123;</span><br><span class="line">	<span class="attr">fs</span>: &#123; <span class="attr">lstat</span>: fakeLstat &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="old-and-modern-mode"><a href="#old-and-modern-mode" class="headerlink" title="old and modern mode"></a><code>old</code> and <code>modern</code> mode</h2><p>This package has two modes that are used depending on the environment and parameters of use.</p>
<h3 id="old"><a href="#old" class="headerlink" title="old"></a>old</h3><ul>
<li>Node.js below <code>10.10</code> or when the <code>stats</code> option is enabled</li>
</ul>
<p>When working in the old mode, the directory is read first (<code>fs.readdir</code>), then the type of entries is determined (<code>fs.lstat</code> and&#x2F;or <code>fs.stat</code> for symbolic links).</p>
<h3 id="modern"><a href="#modern" class="headerlink" title="modern"></a>modern</h3><ul>
<li>Node.js 10.10+ and the <code>stats</code> option is disabled</li>
</ul>
<p>In the modern mode, reading the directory (<code>fs.readdir</code> with the <code>withFileTypes</code> option) is combined with obtaining information about its entries. An additional call for symbolic links (<code>fs.stat</code>) is still present.</p>
<p>This mode makes fewer calls to the file system. It’s faster.</p>
<h2 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h2><p>See the <a href="https://github.com/nodelib/nodelib/releases">Releases section of our GitHub project</a> for changelog for each release version.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>This software is released under the terms of the MIT license.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@nodelib/fs.stat/README/</url>
    <content><![CDATA[<h1 id="nodelib-x2F-fs-stat"><a href="#nodelib-x2F-fs-stat" class="headerlink" title="@nodelib&#x2F;fs.stat"></a>@nodelib&#x2F;fs.stat</h1><blockquote>
<p>Get the status of a file with some features.</p>
</blockquote>
<h2 id="bulb-Highlights"><a href="#bulb-Highlights" class="headerlink" title=":bulb: Highlights"></a>:bulb: Highlights</h2><p>Wrapper around standard method <code>fs.lstat</code> and <code>fs.stat</code> with some features.</p>
<ul>
<li>:beginner: Normally follows symbolic link.</li>
<li>:gear: Can safely work with broken symbolic link.</li>
</ul>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">npm install @nodelib/fs.stat</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fsStat <span class="keyword">from</span> <span class="string">&#x27;@nodelib/fs.stat&#x27;</span>;</span><br><span class="line"></span><br><span class="line">fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, stats</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="stat-path-optionsOrSettings-callback"><a href="#stat-path-optionsOrSettings-callback" class="headerlink" title=".stat(path, [optionsOrSettings], callback)"></a>.stat(path, [optionsOrSettings], callback)</h3><p>Returns an instance of <code>fs.Stats</code> class for provided path with standard callback-style.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, stats</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;, <span class="function">(<span class="params">error, stats</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsStat.<span class="title class_">Settings</span>(), <span class="function">(<span class="params">error, stats</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="statSync-path-optionsOrSettings"><a href="#statSync-path-optionsOrSettings" class="headerlink" title=".statSync(path, [optionsOrSettings])"></a>.statSync(path, [optionsOrSettings])</h3><p>Returns an instance of <code>fs.Stats</code> class for provided path.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> stats = fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> stats = fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;);</span><br><span class="line"><span class="keyword">const</span> stats = fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsStat.<span class="title class_">Settings</span>());</span><br></pre></td></tr></table></figure>

<h4 id="path"><a href="#path" class="headerlink" title="path"></a>path</h4><ul>
<li>Required: <code>true</code></li>
<li>Type: <code>string | Buffer | URL</code></li>
</ul>
<p>A path to a file. If a URL is provided, it must use the <code>file:</code> protocol.</p>
<h4 id="optionsOrSettings"><a href="#optionsOrSettings" class="headerlink" title="optionsOrSettings"></a>optionsOrSettings</h4><ul>
<li>Required: <code>false</code></li>
<li>Type: <code>Options | Settings</code></li>
<li>Default: An instance of <code>Settings</code> class</li>
</ul>
<p>An <a href="#options"><code>Options</code></a> object or an instance of <a href="#settings"><code>Settings</code></a> class.</p>
<blockquote>
<p>:book: When you pass a plain object, an instance of the <code>Settings</code> class will be created automatically. If you plan to call the method frequently, use a pre-created instance of the <code>Settings</code> class.</p>
</blockquote>
<h3 id="Settings-options"><a href="#Settings-options" class="headerlink" title="Settings([options])"></a>Settings([options])</h3><p>A class of full settings of the package.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsStat.<span class="title class_">Settings</span>(&#123; <span class="attr">followSymbolicLink</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stats = fsStat.<span class="title function_">stat</span>(<span class="string">&#x27;path&#x27;</span>, settings);</span><br></pre></td></tr></table></figure>

<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="followSymbolicLink"><a href="#followSymbolicLink" class="headerlink" title="followSymbolicLink"></a><code>followSymbolicLink</code></h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
</ul>
<p>Follow symbolic link or not. Call <code>fs.stat</code> on symbolic link if <code>true</code>.</p>
<h3 id="markSymbolicLink"><a href="#markSymbolicLink" class="headerlink" title="markSymbolicLink"></a><code>markSymbolicLink</code></h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Mark symbolic link by setting the return value of <code>isSymbolicLink</code> function to always <code>true</code> (even after <code>fs.stat</code>).</p>
<blockquote>
<p>:book: Can be used if you want to know what is hidden behind a symbolic link, but still continue to know that it is a symbolic link.</p>
</blockquote>
<h3 id="throwErrorOnBrokenSymbolicLink"><a href="#throwErrorOnBrokenSymbolicLink" class="headerlink" title="throwErrorOnBrokenSymbolicLink"></a><code>throwErrorOnBrokenSymbolicLink</code></h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
</ul>
<p>Throw an error when symbolic link is broken if <code>true</code> or safely return <code>lstat</code> call if <code>false</code>.</p>
<h3 id="fs"><a href="#fs" class="headerlink" title="fs"></a><code>fs</code></h3><ul>
<li>Type: <a href="./src/adapters/fs.ts"><code>FileSystemAdapter</code></a></li>
<li>Default: A default FS methods</li>
</ul>
<p>By default, the built-in Node.js module (<code>fs</code>) is used to work with the file system. You can replace any method with your own.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FileSystemAdapter</span> &#123;</span><br><span class="line">	lstat?: <span class="keyword">typeof</span> fs.<span class="property">lstat</span>;</span><br><span class="line">	stat?: <span class="keyword">typeof</span> fs.<span class="property">stat</span>;</span><br><span class="line">	lstatSync?: <span class="keyword">typeof</span> fs.<span class="property">lstatSync</span>;</span><br><span class="line">	statSync?: <span class="keyword">typeof</span> fs.<span class="property">statSync</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsStat.<span class="title class_">Settings</span>(&#123;</span><br><span class="line">	<span class="attr">fs</span>: &#123; <span class="attr">lstat</span>: fakeLstat &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h2><p>See the <a href="https://github.com/nodelib/nodelib/releases">Releases section of our GitHub project</a> for changelog for each release version.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>This software is released under the terms of the MIT license.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@nodelib/fs.walk/README/</url>
    <content><![CDATA[<h1 id="nodelib-x2F-fs-walk"><a href="#nodelib-x2F-fs-walk" class="headerlink" title="@nodelib&#x2F;fs.walk"></a>@nodelib&#x2F;fs.walk</h1><blockquote>
<p>A library for efficiently walking a directory recursively.</p>
</blockquote>
<h2 id="bulb-Highlights"><a href="#bulb-Highlights" class="headerlink" title=":bulb: Highlights"></a>:bulb: Highlights</h2><ul>
<li>:moneybag: Returns useful information: <code>name</code>, <code>path</code>, <code>dirent</code> and <code>stats</code> (optional).</li>
<li>:rocket: On Node.js 10.10+ uses the mechanism without additional calls to determine the entry type for performance reasons. See <a href="https://github.com/nodelib/nodelib/blob/master/packages/fs/fs.scandir/README.md#old-and-modern-mode"><code>old</code> and <code>modern</code> mode</a>.</li>
<li>:gear: Built-in directories&#x2F;files and error filtering system.</li>
<li>:link: Can safely work with broken symbolic links.</li>
</ul>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">npm install @nodelib/fs.walk</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fsWalk <span class="keyword">from</span> <span class="string">&#x27;@nodelib/fs.walk&#x27;</span>;</span><br><span class="line"></span><br><span class="line">fsWalk.<span class="title function_">walk</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="walk-path-optionsOrSettings-callback"><a href="#walk-path-optionsOrSettings-callback" class="headerlink" title=".walk(path, [optionsOrSettings], callback)"></a>.walk(path, [optionsOrSettings], callback)</h3><p>Reads the directory recursively and asynchronously. Requires a callback function.</p>
<blockquote>
<p>:book: If you want to use the Promise API, use <code>util.promisify</code>.</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">fsWalk.<span class="title function_">walk</span>(<span class="string">&#x27;path&#x27;</span>, <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsWalk.<span class="title function_">walk</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;, <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br><span class="line">fsWalk.<span class="title function_">walk</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsWalk.<span class="title class_">Settings</span>(), <span class="function">(<span class="params">error, entries</span>) =&gt;</span> &#123; <span class="comment">/* … */</span> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="walkStream-path-optionsOrSettings"><a href="#walkStream-path-optionsOrSettings" class="headerlink" title=".walkStream(path, [optionsOrSettings])"></a>.walkStream(path, [optionsOrSettings])</h3><p>Reads the directory recursively and asynchronously. <a href="https://nodejs.org/dist/latest-v12.x/docs/api/stream.html#stream_readable_streams">Readable Stream</a> is used as a provider.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> stream = fsWalk.<span class="title function_">walkStream</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> stream = fsWalk.<span class="title function_">walkStream</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;);</span><br><span class="line"><span class="keyword">const</span> stream = fsWalk.<span class="title function_">walkStream</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsWalk.<span class="title class_">Settings</span>());</span><br></pre></td></tr></table></figure>

<h3 id="walkSync-path-optionsOrSettings"><a href="#walkSync-path-optionsOrSettings" class="headerlink" title=".walkSync(path, [optionsOrSettings])"></a>.walkSync(path, [optionsOrSettings])</h3><p>Reads the directory recursively and synchronously. Returns an array of entries.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> entries = fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> entries = fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;path&#x27;</span>, &#123;&#125;);</span><br><span class="line"><span class="keyword">const</span> entries = fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;path&#x27;</span>, <span class="keyword">new</span> fsWalk.<span class="title class_">Settings</span>());</span><br></pre></td></tr></table></figure>

<h4 id="path"><a href="#path" class="headerlink" title="path"></a>path</h4><ul>
<li>Required: <code>true</code></li>
<li>Type: <code>string | Buffer | URL</code></li>
</ul>
<p>A path to a file. If a URL is provided, it must use the <code>file:</code> protocol.</p>
<h4 id="optionsOrSettings"><a href="#optionsOrSettings" class="headerlink" title="optionsOrSettings"></a>optionsOrSettings</h4><ul>
<li>Required: <code>false</code></li>
<li>Type: <code>Options | Settings</code></li>
<li>Default: An instance of <code>Settings</code> class</li>
</ul>
<p>An <a href="#options"><code>Options</code></a> object or an instance of <a href="#settings"><code>Settings</code></a> class.</p>
<blockquote>
<p>:book: When you pass a plain object, an instance of the <code>Settings</code> class will be created automatically. If you plan to call the method frequently, use a pre-created instance of the <code>Settings</code> class.</p>
</blockquote>
<h3 id="Settings-options"><a href="#Settings-options" class="headerlink" title="Settings([options])"></a>Settings([options])</h3><p>A class of full settings of the package.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsWalk.<span class="title class_">Settings</span>(&#123; <span class="attr">followSymbolicLinks</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> entries = fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;path&#x27;</span>, settings);</span><br></pre></td></tr></table></figure>

<h2 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h2><ul>
<li><code>name</code> — The name of the entry (<code>unknown.txt</code>).</li>
<li><code>path</code> — The path of the entry relative to call directory (<code>root/unknown.txt</code>).</li>
<li><code>dirent</code> — An instance of <a href="./src/types/index.ts"><code>fs.Dirent</code></a> class.</li>
<li>[<code>stats</code>] — An instance of <code>fs.Stats</code> class.</li>
</ul>
<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="basePath"><a href="#basePath" class="headerlink" title="basePath"></a>basePath</h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>By default, all paths are built relative to the root path. You can use this option to set custom root path.</p>
<p>In the example below we read the files from the <code>root</code> directory, but in the results the root path will be <code>custom</code>.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;root&#x27;</span>); <span class="comment">// → [&#x27;root/file.txt&#x27;]</span></span><br><span class="line">fsWalk.<span class="title function_">walkSync</span>(<span class="string">&#x27;root&#x27;</span>, &#123; <span class="attr">basePath</span>: <span class="string">&#x27;custom&#x27;</span> &#125;); <span class="comment">// → [&#x27;custom/file.txt&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="concurrency"><a href="#concurrency" class="headerlink" title="concurrency"></a>concurrency</h3><ul>
<li>Type: <code>number</code></li>
<li>Default: <code>Infinity</code></li>
</ul>
<p>The maximum number of concurrent calls to <code>fs.readdir</code>.</p>
<blockquote>
<p>:book: The higher the number, the higher performance and the load on the File System. If you want to read in quiet mode, set the value to <code>4 * os.cpus().length</code> (4 is default size of <a href="http://docs.libuv.org/en/v1.x/threadpool.html#thread-pool-work-scheduling">thread pool work scheduling</a>).</p>
</blockquote>
<h3 id="deepFilter"><a href="#deepFilter" class="headerlink" title="deepFilter"></a>deepFilter</h3><ul>
<li>Type: <a href="./src/settings.ts"><code>DeepFilterFunction</code></a></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>A function that indicates whether the directory will be read deep or not.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Skip all directories that starts with `node_modules`</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">filter</span>: <span class="title class_">DeepFilterFunction</span> = <span class="function">(<span class="params">entry</span>) =&gt;</span> !entry.<span class="property">path</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;node_modules&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="entryFilter"><a href="#entryFilter" class="headerlink" title="entryFilter"></a>entryFilter</h3><ul>
<li>Type: <a href="./src/settings.ts"><code>EntryFilterFunction</code></a></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>A function that indicates whether the entry will be included to results or not.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Exclude all `.js` files from results</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">filter</span>: <span class="title class_">EntryFilterFunction</span> = <span class="function">(<span class="params">entry</span>) =&gt;</span> !entry.<span class="property">name</span>.<span class="title function_">endsWith</span>(<span class="string">&#x27;.js&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="errorFilter"><a href="#errorFilter" class="headerlink" title="errorFilter"></a>errorFilter</h3><ul>
<li>Type: <a href="./src/settings.ts"><code>ErrorFilterFunction</code></a></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>A function that allows you to skip errors that occur when reading directories.</p>
<p>For example, you can skip <code>ENOENT</code> errors if required:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Skip all ENOENT errors</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">filter</span>: <span class="title class_">ErrorFilterFunction</span> = <span class="function">(<span class="params">error</span>) =&gt;</span> error.<span class="property">code</span> == <span class="string">&#x27;ENOENT&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="stats"><a href="#stats" class="headerlink" title="stats"></a>stats</h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Adds an instance of <code>fs.Stats</code> class to the <a href="#entry"><code>Entry</code></a>.</p>
<blockquote>
<p>:book: Always use <code>fs.readdir</code> with additional <code>fs.lstat/fs.stat</code> calls to determine the entry type.</p>
</blockquote>
<h3 id="followSymbolicLinks"><a href="#followSymbolicLinks" class="headerlink" title="followSymbolicLinks"></a>followSymbolicLinks</h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>Follow symbolic links or not. Call <code>fs.stat</code> on symbolic link if <code>true</code>.</p>
<h3 id="throwErrorOnBrokenSymbolicLink"><a href="#throwErrorOnBrokenSymbolicLink" class="headerlink" title="throwErrorOnBrokenSymbolicLink"></a><code>throwErrorOnBrokenSymbolicLink</code></h3><ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
</ul>
<p>Throw an error when symbolic link is broken if <code>true</code> or safely return <code>lstat</code> call if <code>false</code>.</p>
<h3 id="pathSegmentSeparator"><a href="#pathSegmentSeparator" class="headerlink" title="pathSegmentSeparator"></a><code>pathSegmentSeparator</code></h3><ul>
<li>Type: <code>string</code></li>
<li>Default: <code>path.sep</code></li>
</ul>
<p>By default, this package uses the correct path separator for your OS (<code>\</code> on Windows, <code>/</code> on Unix-like systems). But you can set this option to any separator character(s) that you want to use instead.</p>
<h3 id="fs"><a href="#fs" class="headerlink" title="fs"></a><code>fs</code></h3><ul>
<li>Type: <code>FileSystemAdapter</code></li>
<li>Default: A default FS methods</li>
</ul>
<p>By default, the built-in Node.js module (<code>fs</code>) is used to work with the file system. You can replace any method with your own.</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FileSystemAdapter</span> &#123;</span><br><span class="line">	<span class="attr">lstat</span>: <span class="keyword">typeof</span> fs.<span class="property">lstat</span>;</span><br><span class="line">	<span class="attr">stat</span>: <span class="keyword">typeof</span> fs.<span class="property">stat</span>;</span><br><span class="line">	<span class="attr">lstatSync</span>: <span class="keyword">typeof</span> fs.<span class="property">lstatSync</span>;</span><br><span class="line">	<span class="attr">statSync</span>: <span class="keyword">typeof</span> fs.<span class="property">statSync</span>;</span><br><span class="line">	<span class="attr">readdir</span>: <span class="keyword">typeof</span> fs.<span class="property">readdir</span>;</span><br><span class="line">	<span class="attr">readdirSync</span>: <span class="keyword">typeof</span> fs.<span class="property">readdirSync</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> settings = <span class="keyword">new</span> fsWalk.<span class="title class_">Settings</span>(&#123;</span><br><span class="line">	<span class="attr">fs</span>: &#123; <span class="attr">lstat</span>: fakeLstat &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h2><p>See the <a href="https://github.com/nodelib/nodelib/releases">Releases section of our GitHub project</a> for changelog for each release version.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>This software is released under the terms of the MIT license.</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@humanwhocodes/config-array/README/</url>
    <content><![CDATA[<h1 id="Config-Array"><a href="#Config-Array" class="headerlink" title="Config Array"></a>Config Array</h1><p>by <a href="https://humanwhocodes.com/">Nicholas C. Zakas</a></p>
<p>If you find this useful, please consider supporting my work with a <a href="https://humanwhocodes.com/donate">donation</a>.</p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>A config array is a way of managing configurations that are based on glob pattern matching of filenames. Each config array contains the information needed to determine the correct configuration for any file based on the filename. </p>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>In 2019, I submitted an <a href="https://github.com/eslint/rfcs/pull/9">ESLint RFC</a> proposing a new way of configuring ESLint. The goal was to streamline what had become an increasingly complicated configuration process. Over several iterations, this proposal was eventually born.</p>
<p>The basic idea is that all configuration, including overrides, can be represented by a single array where each item in the array is a config object. Config objects appearing later in the array override config objects appearing earlier in the array. You can calculate a config for a given file by traversing all config objects in the array to find the ones that match the filename. Matching is done by specifying glob patterns in <code>files</code> and <code>ignores</code> properties on each config object. Here’s an example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line"></span><br><span class="line">    <span class="comment">// match all JSON files</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;JSON Handler&quot;</span>,</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.json&quot;</span>],</span><br><span class="line">        <span class="attr">handler</span>: jsonHandler</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// match only package.json</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;package.json Handler&quot;</span>,</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;package.json&quot;</span>],</span><br><span class="line">        <span class="attr">handler</span>: packageJsonHandler</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>In this example, there are two config objects: the first matches all JSON files in all directories and the second matches just <code>package.json</code> in the base path directory (all the globs are evaluated as relative to a base path that can be specified). When you retrieve a configuration for <code>foo.json</code>, only the first config object matches so <code>handler</code> is equal to <code>jsonHandler</code>; when you retrieve a configuration for <code>package.json</code>, <code>handler</code> is equal to <code>packageJsonHandler</code> (because both config objects match, the second one wins).</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>You can install the package using npm or Yarn:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @humanwhocodes/config-array --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"></span><br><span class="line">yarn add @humanwhocodes/config-array</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>First, import the <code>ConfigArray</code> constructor:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ConfigArray</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@humanwhocodes/config-array&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// or using CommonJS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ConfigArray</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;@humanwhocodes/config-array&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>When you create a new instance of <code>ConfigArray</code>, you must pass in two arguments: an array of configs and an options object. The array of configs is most likely read in from a configuration file, so here’s a typical example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> configFilename = path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), <span class="string">&quot;my.config.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: rawConfigs &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(configFilename);</span><br><span class="line"><span class="keyword">const</span> configs = <span class="keyword">new</span> <span class="title class_">ConfigArray</span>(rawConfigs, &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// the path to match filenames from</span></span><br><span class="line">    <span class="attr">basePath</span>: process.<span class="title function_">cwd</span>(),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// additional items in each config</span></span><br><span class="line">    <span class="attr">schema</span>: mySchema</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>This example reads in an object or array from <code>my.config.js</code> and passes it into the <code>ConfigArray</code> constructor as the first argument. The second argument is an object specifying the <code>basePath</code> (the directory in which <code>my.config.js</code> is found) and a <code>schema</code> to define the additional properties of a config object beyond <code>files</code>, <code>ignores</code>, and <code>name</code>.</p>
<h3 id="Specifying-a-Schema"><a href="#Specifying-a-Schema" class="headerlink" title="Specifying a Schema"></a>Specifying a Schema</h3><p>The <code>schema</code> option is required for you to use additional properties in config objects. The schema is an object that follows the format of an <a href="https://npmjs.com/package/@humanwhocodes/object-schema"><code>ObjectSchema</code></a>. The schema specifies both validation and merge rules that the <code>ConfigArray</code> instance needs to combine configs when there are multiple matches. Here’s an example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> configFilename = path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), <span class="string">&quot;my.config.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: rawConfigs &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(configFilename);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mySchema = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// define the handler key in configs</span></span><br><span class="line">    <span class="attr">handler</span>: &#123;</span><br><span class="line">        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!b) <span class="keyword">return</span> a;</span><br><span class="line">            <span class="keyword">if</span> (!a) <span class="keyword">return</span> b;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Function expected.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> configs = <span class="keyword">new</span> <span class="title class_">ConfigArray</span>(rawConfigs, &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// the path to match filenames from</span></span><br><span class="line">    <span class="attr">basePath</span>: process.<span class="title function_">cwd</span>(),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// additional item schemas in each config</span></span><br><span class="line">    <span class="attr">schema</span>: mySchema,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// additional config types supported (default: [])</span></span><br><span class="line">    <span class="attr">extraConfigTypes</span>: [<span class="string">&quot;array&quot;</span>, <span class="string">&quot;function&quot;</span>];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Config-Arrays"><a href="#Config-Arrays" class="headerlink" title="Config Arrays"></a>Config Arrays</h3><p>Config arrays can be multidimensional, so it’s possible for a config array to contain another config array when <code>extraConfigTypes</code> contains <code>&quot;array&quot;</code>, such as:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// JS config</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">handler</span>: jsHandler</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// JSON configs</span></span><br><span class="line">    [</span><br><span class="line"></span><br><span class="line">        <span class="comment">// match all JSON files</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;JSON Handler&quot;</span>,</span><br><span class="line">            <span class="attr">files</span>: [<span class="string">&quot;**/*.json&quot;</span>],</span><br><span class="line">            <span class="attr">handler</span>: jsonHandler</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// match only package.json</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;package.json Handler&quot;</span>,</span><br><span class="line">            <span class="attr">files</span>: [<span class="string">&quot;package.json&quot;</span>],</span><br><span class="line">            <span class="attr">handler</span>: packageJsonHandler</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment">// filename must match function</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [ <span class="function"><span class="params">filePath</span> =&gt;</span> filePath.<span class="title function_">endsWith</span>(<span class="string">&quot;.md&quot;</span>) ],</span><br><span class="line">        <span class="attr">handler</span>: markdownHandler</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// filename must match all patterns in subarray</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [ [<span class="string">&quot;*.test.*&quot;</span>, <span class="string">&quot;*.js&quot;</span>] ],</span><br><span class="line">        <span class="attr">handler</span>: jsTestHandler</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// filename must not match patterns beginning with !</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;Non-JS files&quot;</span>,</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;!*.js&quot;</span>],</span><br><span class="line">        <span class="attr">settings</span>: &#123;</span><br><span class="line">            <span class="attr">js</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>In this example, the array contains both config objects and a config array. When a config array is normalized (see details below), it is flattened so only config objects remain. However, the order of evaluation remains the same.</p>
<p>If the <code>files</code> array contains a function, then that function is called with the absolute path of the file and is expected to return <code>true</code> if there is a match and <code>false</code> if not. (The <code>ignores</code> array can also contain functions.)</p>
<p>If the <code>files</code> array contains an item that is an array of strings and functions, then all patterns must match in order for the config to match. In the preceding examples, both <code>*.test.*</code> and <code>*.js</code> must match in order for the config object to be used.</p>
<p>If a pattern in the files array begins with <code>!</code> then it excludes that pattern. In the preceding example, any filename that doesn’t end with <code>.js</code> will automatically get a <code>settings.js</code> property set to <code>false</code>.</p>
<p>You can also specify an <code>ignores</code> key that will force files matching those patterns to not be included. If the <code>ignores</code> key is in a config object without any other keys, then those ignores will always be applied; otherwise those ignores act as exclusions. Here’s an example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Always ignored</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">ignores</span>: [<span class="string">&quot;**/.git/**&quot;</span>, <span class="string">&quot;**/node_modules/**&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// .eslintrc.js file is ignored only when .js file matches</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">ignores</span>: [<span class="string">&quot;.eslintrc.js&quot;</span>]</span><br><span class="line">        <span class="attr">handler</span>: jsHandler</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>You can use negated patterns in <code>ignores</code> to exclude a file that was already ignored, such as:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Ignore all JSON files except tsconfig.json</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*&quot;</span>],</span><br><span class="line">        <span class="attr">ignores</span>: [<span class="string">&quot;**/*.json&quot;</span>, <span class="string">&quot;!tsconfig.json&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h3 id="Config-Functions"><a href="#Config-Functions" class="headerlink" title="Config Functions"></a>Config Functions</h3><p>Config arrays can also include config functions when <code>extraConfigTypes</code> contains <code>&quot;function&quot;</code>. A config function accepts a single parameter, <code>context</code> (defined by you), and must return either a config object or a config array (it cannot return another function). Config functions allow end users to execute code in the creation of appropriate config objects. Here’s an example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// JS config</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">files</span>: [<span class="string">&quot;**/*.js&quot;</span>],</span><br><span class="line">        <span class="attr">handler</span>: jsHandler</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// JSON configs</span></span><br><span class="line">    <span class="keyword">function</span> (<span class="params">context</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line"></span><br><span class="line">            <span class="comment">// match all JSON files</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: context.<span class="property">name</span> + <span class="string">&quot; JSON Handler&quot;</span>,</span><br><span class="line">                <span class="attr">files</span>: [<span class="string">&quot;**/*.json&quot;</span>],</span><br><span class="line">                <span class="attr">handler</span>: jsonHandler</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// match only package.json</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: context.<span class="property">name</span> + <span class="string">&quot; package.json Handler&quot;</span>,</span><br><span class="line">                <span class="attr">files</span>: [<span class="string">&quot;package.json&quot;</span>],</span><br><span class="line">                <span class="attr">handler</span>: packageJsonHandler</span><br><span class="line">            &#125;</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>When a config array is normalized, each function is executed and replaced in the config array with the return value.</p>
<p><strong>Note:</strong> Config functions can also be async.</p>
<h3 id="Normalizing-Config-Arrays"><a href="#Normalizing-Config-Arrays" class="headerlink" title="Normalizing Config Arrays"></a>Normalizing Config Arrays</h3><p>Once a config array has been created and loaded with all of the raw config data, it must be normalized before it can be used. The normalization process goes through and flattens the config array as well as executing all config functions to get their final values.</p>
<p>To normalize a config array, call the <code>normalize()</code> method and pass in a context object:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> configs.<span class="title function_">normalize</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;MyApp&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The <code>normalize()</code> method returns a promise, so be sure to use the <code>await</code> operator. The config array instance is normalized in-place, so you don’t need to create a new variable.</p>
<p>If you want to disallow async config functions, you can call <code>normalizeSync()</code> instead. This method is completely synchronous and does not require using the <code>await</code> operator as it does not return a promise:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">await</span> configs.<span class="title function_">normalizeSync</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;MyApp&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Important:</strong> Once a <code>ConfigArray</code> is normalized, it cannot be changed further. You can, however, create a new <code>ConfigArray</code> and pass in the normalized instance to create an unnormalized copy.</p>
<h3 id="Getting-Config-for-a-File"><a href="#Getting-Config-for-a-File" class="headerlink" title="Getting Config for a File"></a>Getting Config for a File</h3><p>To get the config for a file, use the <code>getConfig()</code> method on a normalized config array and pass in the filename to get a config for:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pass in absolute filename</span></span><br><span class="line"><span class="keyword">const</span> fileConfig = configs.<span class="title function_">getConfig</span>(path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), <span class="string">&quot;package.json&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>The config array always returns an object, even if there are no configs matching the given filename. You can then inspect the returned config object to determine how to proceed.</p>
<p>A few things to keep in mind:</p>
<ul>
<li>You must pass in the absolute filename to get a config for.</li>
<li>The returned config object never has <code>files</code>, <code>ignores</code>, or <code>name</code> properties; the only properties on the object will be the other configuration options specified.</li>
<li>The config array caches configs, so subsequent calls to <code>getConfig()</code> with the same filename will return in a fast lookup rather than another calculation.</li>
<li>A config will only be generated if the filename matches an entry in a <code>files</code> key. A config will not be generated without matching a <code>files</code> key (configs without a <code>files</code> key are only applied when another config with a <code>files</code> key is applied; configs without <code>files</code> are never applied on their own). Any config with a <code>files</code> key entry ending with <code>/**</code> or <code>/*</code> will only be applied if another entry in the same <code>files</code> key matches or another config matches.</li>
</ul>
<h2 id="Determining-Ignored-Paths"><a href="#Determining-Ignored-Paths" class="headerlink" title="Determining Ignored Paths"></a>Determining Ignored Paths</h2><p>You can determine if a file is ignored by using the <code>isFileIgnored()</code> method and passing in the absolute path of any file, as in this example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ignored = configs.<span class="title function_">isFileIgnored</span>(<span class="string">&#x27;/foo/bar/baz.txt&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>A file is considered ignored if any of the following is true:</p>
<ul>
<li><strong>It’s parent directory is ignored.</strong> For example, if <code>foo</code> is in <code>ignores</code>, then <code>foo/a.js</code> is considered ignored.</li>
<li><strong>It has an ancestor directory that is ignored.</strong> For example, if <code>foo</code> is in <code>ignores</code>, then <code>foo/baz/a.js</code> is considered ignored.</li>
<li><strong>It matches an ignored file pattern.</strong> For example, if <code>**/a.js</code> is in <code>ignores</code>, then <code>foo/a.js</code> and <code>foo/baz/a.js</code> are considered ignored.</li>
<li><strong>If it matches an entry in <code>files</code> and also in <code>ignores</code>.</strong> For example, if <code>**/*.js</code> is in <code>files</code> and <code>**/a.js</code> is in <code>ignores</code>, then <code>foo/a.js</code> and <code>foo/baz/a.js</code> are considered ignored.</li>
<li><strong>The file is outside the <code>basePath</code>.</strong> If the <code>basePath</code> is <code>/usr/me</code>, then <code>/foo/a.js</code> is considered ignored.</li>
</ul>
<p>For directories, use the <code>isDirectoryIgnored()</code> method and pass in the absolute path of any directory, as in this example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ignored = configs.<span class="title function_">isDirectoryIgnored</span>(<span class="string">&#x27;/foo/bar/&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>A directory is considered ignored if any of the following is true:</p>
<ul>
<li><strong>It’s parent directory is ignored.</strong> For example, if <code>foo</code> is in <code>ignores</code>, then <code>foo/baz</code> is considered ignored.</li>
<li><strong>It has an ancestor directory that is ignored.</strong> For example, if <code>foo</code> is in <code>ignores</code>, then <code>foo/bar/baz/a.js</code> is considered ignored.</li>
<li><strong>It matches and ignored file pattern.</strong> For example, if <code>**/a.js</code> is in <code>ignores</code>, then <code>foo/a.js</code> and <code>foo/baz/a.js</code> are considered ignored.</li>
<li><strong>If it matches an entry in <code>files</code> and also in <code>ignores</code>.</strong> For example, if <code>**/*.js</code> is in <code>files</code> and <code>**/a.js</code> is in <code>ignores</code>, then <code>foo/a.js</code> and <code>foo/baz/a.js</code> are considered ignored.</li>
<li><strong>The file is outside the <code>basePath</code>.</strong> If the <code>basePath</code> is <code>/usr/me</code>, then <code>/foo/a.js</code> is considered ignored.</li>
</ul>
<p><strong>Important:</strong> A pattern such as <code>foo/**</code> means that <code>foo</code> and <code>foo/</code> are <em>not</em> ignored whereas <code>foo/bar</code> is ignored. If you want to ignore <code>foo</code> and all of its subdirectories, use the pattern <code>foo</code> or <code>foo/</code> in <code>ignores</code>.</p>
<h2 id="Caching-Mechanisms"><a href="#Caching-Mechanisms" class="headerlink" title="Caching Mechanisms"></a>Caching Mechanisms</h2><p>Each <code>ConfigArray</code> aggressively caches configuration objects to avoid unnecessary work. This caching occurs in two ways:</p>
<ol>
<li><strong>File-based Caching.</strong> For each filename that is passed into a method, the resulting config is cached against that filename so you’re always guaranteed to get the same object returned from <code>getConfig()</code> whenever you pass the same filename in.</li>
<li><strong>Index-based Caching.</strong> Whenever a config is calculated, the config elements that were used to create the config are also cached. So if a given filename matches elements 1, 5, and 7, the resulting config is cached with a key of <code>1,5,7</code>. That way, if another file is passed that matches the same config elements, the result is already known and doesn’t have to be recalculated. That means two files that match all the same elements will return the same config from <code>getConfig()</code>.</li>
</ol>
<h2 id="Acknowledgements"><a href="#Acknowledgements" class="headerlink" title="Acknowledgements"></a>Acknowledgements</h2><p>The design of this project was influenced by feedback on the ESLint RFC, and incorporates ideas from:</p>
<ul>
<li>Teddy Katz (@not-an-aardvark)</li>
<li>Toru Nagashima (@mysticatea)</li>
<li>Kai Cataldo (@kaicataldo)</li>
</ul>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>Apache 2.0</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@humanwhocodes/module-importer/README/</url>
    <content><![CDATA[<h1 id="ModuleImporter"><a href="#ModuleImporter" class="headerlink" title="ModuleImporter"></a>ModuleImporter</h1><p>by <a href="https://humanwhocodes.com/">Nicholas C. Zakas</a></p>
<p>If you find this useful, please consider supporting my work with a <a href="https://humanwhocodes.com/donate">donation</a>.</p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>A utility for seamlessly importing modules in Node.js regardless if they are CommonJS or ESM format. Under the hood, this uses <code>import()</code> and relies on Node.js’s CommonJS compatibility to work correctly. This ensures that the correct locations and formats are used for CommonJS so you can call one method and not worry about any compatibility issues.</p>
<p>The problem with the default <code>import()</code> is that it always resolves relative to the file location in which it is called. If you want to resolve from a different location, you need to jump through a few hoops to achieve that. This package makes it easy to both resolve and import modules from any directory.</p>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p>Install using <a href="https://npmjs.com/">npm</a> or <a href="https://yarnpkg.com/">yarn</a>:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install @humanwhocodes/module-importer</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line"></span><br><span class="line">yarn add @humanwhocodes/module-importer</span><br></pre></td></tr></table></figure>

<p>Import into your Node.js project:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// CommonJS</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ModuleImporter</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;@humanwhocodes/module-importer&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ESM</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ModuleImporter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@humanwhocodes/module-importer&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Bun"><a href="#Bun" class="headerlink" title="Bun"></a>Bun</h3><p>Install using this command:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bun add @humanwhocodes/module-importer</span><br></pre></td></tr></table></figure>

<p>Import into your Bun project:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ModuleImporter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@humanwhocodes/module-importer&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>After importing, create a new instance of <code>ModuleImporter</code> to start emitting events:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// cwd can be omitted to use process.cwd()</span></span><br><span class="line"><span class="keyword">const</span> importer = <span class="keyword">new</span> <span class="title class_">ModuleImporter</span>(cwd);</span><br><span class="line"></span><br><span class="line"><span class="comment">// you can resolve the location of any package</span></span><br><span class="line"><span class="keyword">const</span> location = importer.<span class="title function_">resolve</span>(<span class="string">&quot;./some-file.cjs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// you can also import directly</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable language_">module</span> = importer.<span class="keyword">import</span>(<span class="string">&quot;./some-file.cjs&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>For both <code>resolve()</code> and <code>import()</code>, you can pass in package names and filenames.</p>
<h2 id="Developer-Setup"><a href="#Developer-Setup" class="headerlink" title="Developer Setup"></a>Developer Setup</h2><ol>
<li>Fork the repository</li>
<li>Clone your fork</li>
<li>Run <code>npm install</code> to setup dependencies</li>
<li>Run <code>npm test</code> to run tests</li>
</ol>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>Apache 2.0</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@humanwhocodes/module-importer/CHANGELOG/</url>
    <content><![CDATA[<h1 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h1><h2 id="1-0-1-2022-08-18"><a href="#1-0-1-2022-08-18" class="headerlink" title="1.0.1 (2022-08-18)"></a><a href="https://github.com/humanwhocodes/module-importer/compare/v1.0.0...v1.0.1">1.0.1</a> (2022-08-18)</h2><h3 id="Bug-Fixes"><a href="#Bug-Fixes" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><ul>
<li>Ensure CommonJS mode works correctly. (<a href="https://github.com/humanwhocodes/module-importer/commit/cf54a0b998085066fbe1776dd0b4cacd808cc192">cf54a0b</a>), closes <a href="https://github.com/humanwhocodes/module-importer/issues/6">#6</a></li>
</ul>
<h2 id="1-0-0-2022-08-17"><a href="#1-0-0-2022-08-17" class="headerlink" title="1.0.0 (2022-08-17)"></a>1.0.0 (2022-08-17)</h2><h3 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h3><ul>
<li>Implement ModuleImporter (<a href="https://www.github.com/humanwhocodes/module-importer/commit/3ce4e820c30c114e787bfed00a0966ac4772f563">3ce4e82</a>)</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@humanwhocodes/object-schema/CHANGELOG/</url>
    <content><![CDATA[<h1 id="Changelog"><a href="#Changelog" class="headerlink" title="Changelog"></a>Changelog</h1><h2 id="2-0-3-2024-04-01"><a href="#2-0-3-2024-04-01" class="headerlink" title="2.0.3 (2024-04-01)"></a><a href="https://github.com/humanwhocodes/object-schema/compare/v2.0.2...v2.0.3">2.0.3</a> (2024-04-01)</h2><h3 id="Bug-Fixes"><a href="#Bug-Fixes" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><ul>
<li>Ensure test files are not including in package (<a href="https://github.com/humanwhocodes/object-schema/commit/6eeb32cc76a3e37d76b2990bd603d72061c816e0">6eeb32c</a>), closes <a href="https://github.com/humanwhocodes/object-schema/issues/19">#19</a></li>
</ul>
<h2 id="2-0-2-2024-01-10"><a href="#2-0-2-2024-01-10" class="headerlink" title="2.0.2 (2024-01-10)"></a><a href="https://github.com/humanwhocodes/object-schema/compare/v2.0.1...v2.0.2">2.0.2</a> (2024-01-10)</h2><h3 id="Bug-Fixes-1"><a href="#Bug-Fixes-1" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><ul>
<li>WrapperError should be an actual error (<a href="https://github.com/humanwhocodes/object-schema/commit/2523f014168167e5a40bb63e0cc03231b2c0f1bf">2523f01</a>)</li>
</ul>
<h2 id="2-0-1-2023-10-20"><a href="#2-0-1-2023-10-20" class="headerlink" title="2.0.1 (2023-10-20)"></a><a href="https://github.com/humanwhocodes/object-schema/compare/v2.0.0...v2.0.1">2.0.1</a> (2023-10-20)</h2><h3 id="Bug-Fixes-2"><a href="#Bug-Fixes-2" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><ul>
<li>Custom properties should be available on thrown errors (<a href="https://github.com/humanwhocodes/object-schema/commit/6ca80b001a4ffb678b9b5544fc53322117374376">6ca80b0</a>)</li>
</ul>
<h2 id="2-0-0-2023-10-18"><a href="#2-0-0-2023-10-18" class="headerlink" title="2.0.0 (2023-10-18)"></a><a href="https://github.com/humanwhocodes/object-schema/compare/v1.2.1...v2.0.0">2.0.0</a> (2023-10-18)</h2><h3 id="⚠-BREAKING-CHANGES"><a href="#⚠-BREAKING-CHANGES" class="headerlink" title="⚠ BREAKING CHANGES"></a>⚠ BREAKING CHANGES</h3><ul>
<li>Throw custom errors instead of generics.</li>
</ul>
<h3 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h3><ul>
<li>Throw custom errors instead of generics. (<a href="https://github.com/humanwhocodes/object-schema/commit/c6c01d71eb354bf7b1fb3e883c40f7bd9b61647c">c6c01d7</a>)</li>
</ul>
<h3 id="1-2-1-2021-11-02"><a href="#1-2-1-2021-11-02" class="headerlink" title="1.2.1 (2021-11-02)"></a><a href="https://www.github.com/humanwhocodes/object-schema/compare/v1.2.0...v1.2.1">1.2.1</a> (2021-11-02)</h3><h3 id="Bug-Fixes-3"><a href="#Bug-Fixes-3" class="headerlink" title="Bug Fixes"></a>Bug Fixes</h3><ul>
<li>Never return original object from individual config (<a href="https://www.github.com/humanwhocodes/object-schema/commit/5463c5c6d2cb35a7b7948dffc37c899a41d1775f">5463c5c</a>)</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@humanwhocodes/object-schema/README/</url>
    <content><![CDATA[<h1 id="JavaScript-ObjectSchema-Package"><a href="#JavaScript-ObjectSchema-Package" class="headerlink" title="JavaScript ObjectSchema Package"></a>JavaScript ObjectSchema Package</h1><p>by <a href="https://humanwhocodes.com/">Nicholas C. Zakas</a></p>
<p>If you find this useful, please consider supporting my work with a <a href="https://humanwhocodes.com/donate">donation</a>.</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>A JavaScript object merge&#x2F;validation utility where you can define a different merge and validation strategy for each key. This is helpful when you need to validate complex data structures and then merge them in a way that is more complex than <code>Object.assign()</code>.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>You can install using either npm:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install @humanwhocodes/object-schema</span><br></pre></td></tr></table></figure>

<p>Or Yarn:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yarn add @humanwhocodes/object-schema</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Use CommonJS to get access to the <code>ObjectSchema</code> constructor:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ObjectSchema</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;@humanwhocodes/object-schema&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// define a definition for the &quot;downloads&quot; key</span></span><br><span class="line">    <span class="attr">downloads</span>: &#123;</span><br><span class="line">        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params">value1, value2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value1 + value2;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Expected downloads to be a number.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// define a strategy for the &quot;versions&quot; key</span></span><br><span class="line">    <span class="attr">version</span>: &#123;</span><br><span class="line">        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params">value1, value2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value1.<span class="title function_">concat</span>(value2);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(value)) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Expected versions to be an array.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> record1 = &#123;</span><br><span class="line">    <span class="attr">downloads</span>: <span class="number">25</span>,</span><br><span class="line">    <span class="attr">versions</span>: [</span><br><span class="line">        <span class="string">&quot;v1.0.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v1.1.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v1.2.0&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> record2 = &#123;</span><br><span class="line">    <span class="attr">downloads</span>: <span class="number">125</span>,</span><br><span class="line">    <span class="attr">versions</span>: [</span><br><span class="line">        <span class="string">&quot;v2.0.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v2.1.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v3.0.0&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// make sure the records are valid</span></span><br><span class="line">schema.<span class="title function_">validate</span>(record1);</span><br><span class="line">schema.<span class="title function_">validate</span>(record2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// merge together (schema.merge() accepts any number of objects)</span></span><br><span class="line"><span class="keyword">const</span> result = schema.<span class="title function_">merge</span>(record1, record2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// result looks like this:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = &#123;</span><br><span class="line">    <span class="attr">downloads</span>: <span class="number">75</span>,</span><br><span class="line">    <span class="attr">versions</span>: [</span><br><span class="line">        <span class="string">&quot;v1.0.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v1.1.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v1.2.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v2.0.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v2.1.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;v3.0.0&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="Tips-and-Tricks"><a href="#Tips-and-Tricks" class="headerlink" title="Tips and Tricks"></a>Tips and Tricks</h2><h3 id="Named-merge-strategies"><a href="#Named-merge-strategies" class="headerlink" title="Named merge strategies"></a>Named merge strategies</h3><p>Instead of specifying a <code>merge()</code> method, you can specify one of the following strings to use a default merge strategy:</p>
<ul>
<li><code>&quot;assign&quot;</code> - use <code>Object.assign()</code> to merge the two values into one object.</li>
<li><code>&quot;overwrite&quot;</code> - the second value always replaces the first.</li>
<li><code>&quot;replace&quot;</code> - the second value replaces the first if the second is not <code>undefined</code>.</li>
</ul>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">merge</span>: <span class="string">&quot;replace&quot;</span>,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Named-validation-strategies"><a href="#Named-validation-strategies" class="headerlink" title="Named validation strategies"></a>Named validation strategies</h3><p>Instead of specifying a <code>validate()</code> method, you can specify one of the following strings to use a default validation strategy:</p>
<ul>
<li><code>&quot;array&quot;</code> - value must be an array.</li>
<li><code>&quot;boolean&quot;</code> - value must be a boolean.</li>
<li><code>&quot;number&quot;</code> - value must be a number.</li>
<li><code>&quot;object&quot;</code> - value must be an object.</li>
<li><code>&quot;object?&quot;</code> - value must be an object or null.</li>
<li><code>&quot;string&quot;</code> - value must be a string.</li>
<li><code>&quot;string!&quot;</code> - value must be a non-empty string.</li>
</ul>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">merge</span>: <span class="string">&quot;replace&quot;</span>,</span><br><span class="line">        <span class="attr">validate</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Subschemas"><a href="#Subschemas" class="headerlink" title="Subschemas"></a>Subschemas</h3><p>If you are defining a key that is, itself, an object, you can simplify the process by using a subschema. Instead of defining <code>merge()</code> and <code>validate()</code>, assign a <code>schema</code> key that contains a schema definition, like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">schema</span>: &#123;</span><br><span class="line">            <span class="attr">first</span>: &#123;</span><br><span class="line">                <span class="attr">merge</span>: <span class="string">&quot;replace&quot;</span>,</span><br><span class="line">                <span class="attr">validate</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">last</span>: &#123;</span><br><span class="line">                <span class="attr">merge</span>: <span class="string">&quot;replace&quot;</span>,</span><br><span class="line">                <span class="attr">validate</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">schema.<span class="title function_">validate</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">first</span>: <span class="string">&quot;n&quot;</span>,</span><br><span class="line">        <span class="attr">last</span>: <span class="string">&quot;z&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Remove-Keys-During-Merge"><a href="#Remove-Keys-During-Merge" class="headerlink" title="Remove Keys During Merge"></a>Remove Keys During Merge</h3><p>If the merge strategy for a key returns <code>undefined</code>, then the key will not appear in the final object. For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line">    <span class="attr">date</span>: &#123;</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="title class_">Date</span>.<span class="title function_">parse</span>(value);  <span class="comment">// throws an error when invalid</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> object1 = &#123; <span class="attr">date</span>: <span class="string">&quot;5/5/2005&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> object2 = &#123; <span class="attr">date</span>: <span class="string">&quot;6/6/2006&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = schema.<span class="title function_">merge</span>(object1, object2);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;date&quot;</span> <span class="keyword">in</span> result);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="Requiring-Another-Key-Be-Present"><a href="#Requiring-Another-Key-Be-Present" class="headerlink" title="Requiring Another Key Be Present"></a>Requiring Another Key Be Present</h3><p>If you’d like the presence of one key to require the presence of another key, you can use the <code>requires</code> property to specify an array of other properties that any key requires. For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = <span class="keyword">new</span> <span class="title class_">ObjectSchema</span>(&#123;</span><br><span class="line">    <span class="attr">date</span>: &#123;</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="title class_">Date</span>.<span class="title function_">parse</span>(value);  <span class="comment">// throws an error when invalid</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">time</span>: &#123;</span><br><span class="line">        <span class="attr">requires</span>: [<span class="string">&quot;date&quot;</span>],</span><br><span class="line">        <span class="title function_">merge</span>(<span class="params">first, second</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> second;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">validate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// throws error: Key &quot;time&quot; requires keys &quot;date&quot;</span></span><br><span class="line">schema.<span class="title function_">validate</span>(&#123;</span><br><span class="line">    <span class="attr">time</span>: <span class="string">&quot;13:45&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>In this example, even though <code>date</code> is an optional key, it is required to be present whenever <code>time</code> is present.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>BSD 3-Clause</p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2025/04/06/obsidian-smart-completion-plugin-for-hexo/node_modules/@types/codemirror/README/</url>
    <content><![CDATA[<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><blockquote>
<p><code>npm install --save @types/codemirror</code></p>
</blockquote>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>This package contains type definitions for codemirror (<a href="https://github.com/codemirror/CodeMirror">https://github.com/codemirror/CodeMirror</a>).</p>
<h1 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h1><p>Files were exported from <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/codemirror">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/codemirror</a>.</p>
<h3 id="Additional-Details"><a href="#Additional-Details" class="headerlink" title="Additional Details"></a>Additional Details</h3><ul>
<li>Last updated: Tue, 06 Jun 2023 01:03:06 GMT</li>
<li>Dependencies: <a href="https://npmjs.com/package/@types/tern">@types&#x2F;tern</a></li>
<li>Global values: <code>CodeMirror</code></li>
</ul>
<h1 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h1><p>These definitions were written by <a href="https://github.com/mihailik">mihailik</a>, <a href="https://github.com/nrbernard">nrbernard</a>, <a href="https://github.com/Pr1st0n">Pr1st0n</a>, <a href="https://github.com/rileymiller">rileymiller</a>, <a href="https://github.com/toddself">toddself</a>, <a href="https://github.com/ysulyma">ysulyma</a>, <a href="https://github.com/azoson">azoson</a>, <a href="https://github.com/kylesferrazza">kylesferrazza</a>, <a href="https://github.com/fityocsaba96">fityocsaba96</a>, <a href="https://github.com/koddsson">koddsson</a>, and <a href="https://github.com/ficristo">ficristo</a>.</p>
]]></content>
  </entry>
</search>
